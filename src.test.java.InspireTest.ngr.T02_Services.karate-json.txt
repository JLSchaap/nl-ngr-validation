{"failedCount":0,"prefixedPath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","packageQualifiedName":"src.test.java.InspireTest.ngr.T02_Services","loopIndex":-1,"relativePath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":158402,"millis":0.158402,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.233 karate.env system property was: null \n"},{"result":{"nanos":190002,"millis":0.190002,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":214003,"millis":0.214003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":200902,"millis":0.200902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356504,"millis":0.356504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":249803,"millis":0.249803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":700210,"millis":0.70021,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":473206,"millis":0.473206,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":4582162,"millis":4.582162,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":95702,"millis":0.095702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34001,"millis":0.034001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":565576257,"millis":565.576257,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1111415,"millis":1.111415,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":733710,"millis":0.73371,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":562808,"millis":0.562808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":480307,"millis":0.480307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":967913,"millis":0.967913,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":585208,"millis":0.585208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":190402,"millis":0.190402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":546608,"millis":0.546608,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":519107,"millis":0.519107,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":533707,"millis":0.533707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":957313,"millis":0.957313,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":270103,"millis":0.270103,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.821 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n"},{"result":{"nanos":676409,"millis":0.676409,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":360105,"millis":0.360105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.822 [print] OGC:WMS \n"},{"result":{"nanos":666609,"millis":0.666609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":397706,"millis":0.397706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.823 [print] #notpresent \n"},{"result":{"nanos":221703,"millis":0.221703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":238803,"millis":0.238803,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.824 [print] OGC:WMS \n"},{"result":{"nanos":550507,"millis":0.550507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":206803,"millis":0.206803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.824 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":259104,"millis":0.259104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.825 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":497507,"millis":0.497507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":13221879,"millis":13.221879,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":768311,"millis":0.768311,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":598.584803,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","startTime":1633064320218,"refId":"[1.1:67]","endTime":1633064320839,"exampleData":{"datasetIdentifierCode":"ea4cb6a2-f637-413a-91cc-d58473c2f138"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":104801,"millis":0.104801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.245 karate.env system property was: null \n"},{"result":{"nanos":97302,"millis":0.097302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153202,"millis":0.153202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":188503,"millis":0.188503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":300804,"millis":0.300804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":171102,"millis":0.171102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":4210057,"millis":4.210057,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":157302,"millis":0.157302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2165029,"millis":2.165029,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":484806,"millis":0.484806,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":585232423,"millis":585.232423,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":601208,"millis":0.601208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":437406,"millis":0.437406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":436406,"millis":0.436406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":684810,"millis":0.68481,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":631708,"millis":0.631708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":834812,"millis":0.834812,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":131302,"millis":0.131302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":477806,"millis":0.477806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":466406,"millis":0.466406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":473207,"millis":0.473207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1900126,"millis":1.900126,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":241603,"millis":0.241603,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.849 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":619408,"millis":0.619408,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":488907,"millis":0.488907,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.850 [print] OGC:WMS \n"},{"result":{"nanos":568108,"millis":0.568108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":477307,"millis":0.477307,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.851 [print] #notpresent \n"},{"result":{"nanos":147602,"millis":0.147602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":530607,"millis":0.530607,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.852 [print] OGC:WMS \n"},{"result":{"nanos":508906,"millis":0.508906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":694009,"millis":0.694009,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.853 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":947213,"millis":0.947213,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.854 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":705010,"millis":0.70501,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":803111,"millis":0.803111,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":651709,"millis":0.651709,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":608.043031,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","startTime":1633064320241,"refId":"[1.2:67]","endTime":1633064320856,"exampleData":{"datasetIdentifierCode":"a02c6566-e0ad-4fc1-b217-67cc1099dea2"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":95101,"millis":0.095101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.251 karate.env system property was: null \n"},{"result":{"nanos":117102,"millis":0.117102,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":143002,"millis":0.143002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":213803,"millis":0.213803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275904,"millis":0.275904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":169302,"millis":0.169302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":6234384,"millis":6.234384,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":216703,"millis":0.216703,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2053228,"millis":2.053228,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":71701,"millis":0.071701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56601,"millis":0.056601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":40701,"millis":0.040701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33201,"millis":0.033201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":610538665,"millis":610.538665,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":593108,"millis":0.593108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":551707,"millis":0.551707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":625108,"millis":0.625108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":544208,"millis":0.544208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":592708,"millis":0.592708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":635609,"millis":0.635609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":133702,"millis":0.133702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":463206,"millis":0.463206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":485107,"millis":0.485107,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":555408,"millis":0.555408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":278004,"millis":0.278004,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":289904,"millis":0.289904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.880 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n"},{"result":{"nanos":538707,"millis":0.538707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":290404,"millis":0.290404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.881 [print] OGC:WMS \n"},{"result":{"nanos":565707,"millis":0.565707,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":339505,"millis":0.339505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.882 [print] #notpresent \n"},{"result":{"nanos":139002,"millis":0.139002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":655609,"millis":0.655609,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.882 [print] OGC:WMS \n"},{"result":{"nanos":2832539,"millis":2.832539,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":356005,"millis":0.356005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.886 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":421506,"millis":0.421506,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.886 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":552007,"millis":0.552007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":798610,"millis":0.79861,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1006813,"millis":1.006813,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":634.621092,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","startTime":1633064320246,"refId":"[1.3:67]","endTime":1633064320889,"exampleData":{"datasetIdentifierCode":"22bedc12-e9cb-4419-8e51-dfb375d46d01"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":99501,"millis":0.099501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.259 karate.env system property was: null \n"},{"result":{"nanos":96001,"millis":0.096001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151402,"millis":0.151402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":961313,"millis":0.961313,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":313104,"millis":0.313104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":2351832,"millis":2.351832,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2952439,"millis":2.952439,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":297804,"millis":0.297804,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":464606,"millis":0.464606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":105902,"millis":0.105902,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58801,"millis":0.058801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":654115456,"millis":654.115456,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":789511,"millis":0.789511,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":516807,"millis":0.516807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":547808,"millis":0.547808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":452406,"millis":0.452406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":667209,"millis":0.667209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":512607,"millis":0.512607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":139602,"millis":0.139602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":484406,"millis":0.484406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":956013,"millis":0.956013,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":958713,"millis":0.958713,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1289817,"millis":1.289817,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":365205,"millis":0.365205,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.930 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":935913,"millis":0.935913,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":338404,"millis":0.338404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.932 [print] #notpresent \n"},{"result":{"nanos":675609,"millis":0.675609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":397406,"millis":0.397406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.933 [print] OGC:WMS \n"},{"result":{"nanos":149002,"millis":0.149002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":287104,"millis":0.287104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.933 [print] #notpresent \n"},{"result":{"nanos":765511,"millis":0.765511,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":416906,"millis":0.416906,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.934 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.935 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":508007,"millis":0.508007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1175816,"millis":1.175816,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":545607,"millis":0.545607,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":676.406758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","startTime":1633064320252,"refId":"[1.4:67]","endTime":1633064320937,"exampleData":{"datasetIdentifierCode":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.842 karate.env system property was: null \n"},{"result":{"nanos":49301,"millis":0.049301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74501,"millis":0.074501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":101802,"millis":0.101802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":386505,"millis":0.386505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":209003,"millis":0.209003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":478807,"millis":0.478807,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":515807,"millis":0.515807,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":100701,"millis":0.100701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517115902,"millis":517.115902,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":546207,"millis":0.546207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":501907,"millis":0.501907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":427406,"millis":0.427406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":467507,"millis":0.467507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":696409,"millis":0.696409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":624209,"millis":0.624209,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":676509,"millis":0.676509,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":418006,"millis":0.418006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":540908,"millis":0.540908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":741510,"millis":0.74151,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":282004,"millis":0.282004,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.368 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":585308,"millis":0.585308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":196003,"millis":0.196003,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.369 [print] #notpresent \n"},{"result":{"nanos":424306,"millis":0.424306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":162502,"millis":0.162502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.370 [print] #notpresent \n"},{"result":{"nanos":99101,"millis":0.099101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131002,"millis":0.131002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.370 [print] #notpresent \n"},{"result":{"nanos":491007,"millis":0.491007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":169002,"millis":0.169002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.371 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":125001,"millis":0.125001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.371 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1016513,"millis":1.016513,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":864611,"millis":0.864611,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":574308,"millis":0.574308,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.100378,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","startTime":1633064320842,"refId":"[1.5:67]","endTime":1633064321373,"exampleData":{"datasetIdentifierCode":"b81f9ce3-f612-4761-ba37-4c8afda9033a"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.858 karate.env system property was: null \n"},{"result":{"nanos":45501,"millis":0.045501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113602,"millis":0.113602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238803,"millis":0.238803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":624508,"millis":0.624508,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104702,"millis":0.104702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":282704,"millis":0.282704,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58801,"millis":0.058801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":558985670,"millis":558.98567,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":441506,"millis":0.441506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":458506,"millis":0.458506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":359605,"millis":0.359605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":355105,"millis":0.355105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":426406,"millis":0.426406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436406,"millis":0.436406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80501,"millis":0.080501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":367605,"millis":0.367605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":311704,"millis":0.311704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":322704,"millis":0.322704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":402205,"millis":0.402205,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.424 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n"},{"result":{"nanos":536708,"millis":0.536708,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":133402,"millis":0.133402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.425 [print] #notpresent \n"},{"result":{"nanos":367405,"millis":0.367405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90901,"millis":0.090901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.425 [print] INSPIRE Atom \n"},{"result":{"nanos":157803,"millis":0.157803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":105101,"millis":0.105101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.426 [print] #notpresent \n"},{"result":{"nanos":370705,"millis":0.370705,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":420205,"millis":0.420205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.427 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":163203,"millis":0.163203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.427 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":400805,"millis":0.400805,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":510706,"millis":0.510706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":496106,"millis":0.496106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.547497,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0bb27a13-76f1-4374-8d44-76e937198e8d","startTime":1633064320858,"refId":"[1.6:67]","endTime":1633064321429,"exampleData":{"datasetIdentifierCode":"0bb27a13-76f1-4374-8d44-76e937198e8d"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44201,"millis":0.044201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.891 karate.env system property was: null \n"},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":97501,"millis":0.097501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":154203,"millis":0.154203,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":302604,"millis":0.302604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60501,"millis":0.060501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":421606,"millis":0.421606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54801,"millis":0.054801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":185102,"millis":0.185102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15001,"millis":0.015001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545588488,"millis":545.588488,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":341605,"millis":0.341605,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":533307,"millis":0.533307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":586208,"millis":0.586208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":453606,"millis":0.453606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":439506,"millis":0.439506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":391406,"millis":0.391406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":392906,"millis":0.392906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":317604,"millis":0.317604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":389006,"millis":0.389006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":466806,"millis":0.466806,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":547608,"millis":0.547608,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.443 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":359905,"millis":0.359905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":824311,"millis":0.824311,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.445 [print] #notpresent \n"},{"result":{"nanos":397305,"millis":0.397305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":361005,"millis":0.361005,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.445 [print] OGC:WMS \n"},{"result":{"nanos":90801,"millis":0.090801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":345404,"millis":0.345404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.446 [print] #notpresent \n"},{"result":{"nanos":420706,"millis":0.420706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":366705,"millis":0.366705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.446 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":624708,"millis":0.624708,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.447 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":390906,"millis":0.390906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":497406,"millis":0.497406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":505406,"millis":0.505406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":557.183946,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","startTime":1633064320890,"refId":"[1.7:67]","endTime":1633064321449,"exampleData":{"datasetIdentifierCode":"7af7b20d-3f8a-4d7f-8124-73980535a4f6"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58101,"millis":0.058101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.940 karate.env system property was: null \n"},{"result":{"nanos":46101,"millis":0.046101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66001,"millis":0.066001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90101,"millis":0.090101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":537008,"millis":0.537008,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1211016,"millis":1.211016,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":234403,"millis":0.234403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7901,"millis":0.007901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":116601,"millis":0.116601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536801270,"millis":536.80127,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":506007,"millis":0.506007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":479807,"millis":0.479807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":379205,"millis":0.379205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":19800869,"millis":19.800869,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":865812,"millis":0.865812,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":634609,"millis":0.634609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":242403,"millis":0.242403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":466106,"millis":0.466106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":459507,"millis":0.459507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":462606,"millis":0.462606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":186703,"millis":0.186703,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":310504,"millis":0.310504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.505 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":466207,"millis":0.466207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":320404,"millis":0.320404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.506 [print] #notpresent \n"},{"result":{"nanos":611008,"millis":0.611008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":261304,"millis":0.261304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.507 [print] OGC:WFS \n"},{"result":{"nanos":145702,"millis":0.145702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":251704,"millis":0.251704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.507 [print] #notpresent \n"},{"result":{"nanos":635509,"millis":0.635509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":229103,"millis":0.229103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.508 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":234403,"millis":0.234403,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.508 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":415206,"millis":0.415206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":660109,"millis":0.660109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":487107,"millis":0.487107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.91701,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68505be5-45c4-4889-a82a-125043bbdc44","startTime":1633064320939,"refId":"[1.8:67]","endTime":1633064321510,"exampleData":{"datasetIdentifierCode":"68505be5-45c4-4889-a82a-125043bbdc44"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.376 karate.env system property was: null \n"},{"result":{"nanos":41401,"millis":0.041401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":258404,"millis":0.258404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65001,"millis":0.065001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455406,"millis":0.455406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70901,"millis":0.070901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":177903,"millis":0.177903,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67001,"millis":0.067001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518752628,"millis":518.752628,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":713009,"millis":0.713009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":613308,"millis":0.613308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432006,"millis":0.432006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":415706,"millis":0.415706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":875712,"millis":0.875712,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":663709,"millis":0.663709,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110002,"millis":0.110002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":428906,"millis":0.428906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":450206,"millis":0.450206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":539608,"millis":0.539608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":300404,"millis":0.300404,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1020114,"millis":1.020114,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.903 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n"},{"result":{"nanos":678610,"millis":0.67861,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":687109,"millis":0.687109,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.905 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":622709,"millis":0.622709,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":408105,"millis":0.408105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.906 [print] #notpresent \n"},{"result":{"nanos":163902,"millis":0.163902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":308704,"millis":0.308704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.906 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1183116,"millis":1.183116,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":866711,"millis":0.866711,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.908 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":374405,"millis":0.374405,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.909 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":513607,"millis":0.513607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":870512,"millis":0.870512,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1201916,"millis":1.201916,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.624345,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","startTime":1633064321375,"refId":"[1.9:67]","endTime":1633064321911,"exampleData":{"datasetIdentifierCode":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42401,"millis":0.042401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.432 karate.env system property was: null \n"},{"result":{"nanos":42301,"millis":0.042301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104201,"millis":0.104201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73801,"millis":0.073801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233903,"millis":0.233903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":643109,"millis":0.643109,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":133802,"millis":0.133802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":452606,"millis":0.452606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16901,"millis":0.016901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":106602,"millis":0.106602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517902916,"millis":517.902916,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":447206,"millis":0.447206,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":388105,"millis":0.388105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":372605,"millis":0.372605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":378605,"millis":0.378605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":586108,"millis":0.586108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":694309,"millis":0.694309,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":113501,"millis":0.113501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":502907,"millis":0.502907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":588108,"millis":0.588108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":492106,"millis":0.492106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3892353,"millis":3.892353,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":385706,"millis":0.385706,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.961 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n"},{"result":{"nanos":456406,"millis":0.456406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":340205,"millis":0.340205,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.962 [print] #notpresent \n"},{"result":{"nanos":464206,"millis":0.464206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":443306,"millis":0.443306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.963 [print] INSPIRE Atom \n"},{"result":{"nanos":132802,"millis":0.132802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":354105,"millis":0.354105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.963 [print] #notpresent \n"},{"result":{"nanos":422606,"millis":0.422606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":331004,"millis":0.331004,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.964 [print] Informatiehuis Water \n"},{"result":{"nanos":319905,"millis":0.319905,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.965 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":681109,"millis":0.681109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":603709,"millis":0.603709,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":609308,"millis":0.609308,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.907434,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ef2a7962-8bb4-483f-ca52-85123f579","startTime":1633064321431,"refId":"[1.10:67]","endTime":1633064321967,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ca52-85123f579"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.451 karate.env system property was: null \n"},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48901,"millis":0.048901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63201,"millis":0.063201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":183702,"millis":0.183702,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58401,"millis":0.058401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412006,"millis":0.412006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":590108,"millis":0.590108,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27301,"millis":0.027301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54701,"millis":0.054701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535745258,"millis":535.745258,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":446106,"millis":0.446106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":387305,"millis":0.387305,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1696023,"millis":1.696023,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":409106,"millis":0.409106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":535707,"millis":0.535707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":574608,"millis":0.574608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":113402,"millis":0.113402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":480207,"millis":0.480207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":544407,"millis":0.544407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":468606,"millis":0.468606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":408706,"millis":0.408706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":523107,"millis":0.523107,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.995 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":490107,"millis":0.490107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":374805,"millis":0.374805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.996 [print] OGC:WFS \n"},{"result":{"nanos":457507,"millis":0.457507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":378605,"millis":0.378605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.997 [print] #notpresent \n"},{"result":{"nanos":161702,"millis":0.161702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":354205,"millis":0.354205,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.998 [print] OGC:WFS \n"},{"result":{"nanos":504607,"millis":0.504607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":325205,"millis":0.325205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.999 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":341905,"millis":0.341905,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.999 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":398905,"millis":0.398905,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":6470187,"millis":6.470187,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":636709,"millis":0.636709,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.83292,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","startTime":1633064321450,"refId":"[1.11:67]","endTime":1633064322007,"exampleData":{"datasetIdentifierCode":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":95502,"millis":0.095502,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.513 karate.env system property was: null \n"},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":213603,"millis":0.213603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":245803,"millis":0.245803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":484407,"millis":0.484407,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":306904,"millis":0.306904,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":821111,"millis":0.821111,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":161102,"millis":0.161102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":207603,"millis":0.207603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61801,"millis":0.061801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530910993,"millis":530.910993,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":417306,"millis":0.417306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":412406,"millis":0.412406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":438106,"millis":0.438106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":464106,"millis":0.464106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":448206,"millis":0.448206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":457706,"millis":0.457706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66701,"millis":0.066701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":602009,"millis":0.602009,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":472306,"millis":0.472306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":565107,"millis":0.565107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":604108,"millis":0.604108,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":371505,"millis":0.371505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.053 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":528007,"millis":0.528007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":319004,"millis":0.319004,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.054 [print] OGC:WFS \n"},{"result":{"nanos":628708,"millis":0.628708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":351505,"millis":0.351505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.055 [print] #notpresent \n"},{"result":{"nanos":84901,"millis":0.084901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":296204,"millis":0.296204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.055 [print] OGC:WFS \n"},{"result":{"nanos":969113,"millis":0.969113,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":332905,"millis":0.332905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.057 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":276704,"millis":0.276704,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.057 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":503707,"millis":0.503707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":983313,"millis":0.983313,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1662523,"millis":1.662523,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.077199,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","startTime":1633064321512,"refId":"[1.12:67]","endTime":1633064322060,"exampleData":{"datasetIdentifierCode":"76342a6d-452e-4e21-b5c0-81ff7b1be90e"},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70601,"millis":0.070601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.915 karate.env system property was: null \n"},{"result":{"nanos":77801,"millis":0.077801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":358505,"millis":0.358505,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":297605,"millis":0.297605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":558807,"millis":0.558807,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":267404,"millis":0.267404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1525621,"millis":1.525621,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":141602,"millis":0.141602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":384306,"millis":0.384306,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32701,"millis":0.032701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":30601,"millis":0.030601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517586012,"millis":517.586012,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":567708,"millis":0.567708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":472006,"millis":0.472006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":426206,"millis":0.426206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":516907,"millis":0.516907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":639008,"millis":0.639008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":443006,"millis":0.443006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":336905,"millis":0.336905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":510707,"millis":0.510707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":371905,"millis":0.371905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155203,"millis":0.155203,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":870412,"millis":0.870412,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.443 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n"},{"result":{"nanos":370905,"millis":0.370905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":126202,"millis":0.126202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.444 [print] #notpresent \n"},{"result":{"nanos":454007,"millis":0.454007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":157802,"millis":0.157802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.445 [print] OGC:WMS \n"},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":109901,"millis":0.109901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.445 [print] #notpresent \n"},{"result":{"nanos":554908,"millis":0.554908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":133102,"millis":0.133102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.446 [print] Informatiehuis Water \n"},{"result":{"nanos":136402,"millis":0.136402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.446 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":511306,"millis":0.511306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":902612,"millis":0.902612,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":855412,"millis":0.855412,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.271,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"539ec652-482d-4806-a830-0458cf8be477","startTime":1633064321914,"refId":"[1.13:67]","endTime":1633064322449,"exampleData":{"datasetIdentifierCode":"539ec652-482d-4806-a830-0458cf8be477"},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":122901,"millis":0.122901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.970 karate.env system property was: null \n"},{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":189303,"millis":0.189303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":202503,"millis":0.202503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370905,"millis":0.370905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":182503,"millis":0.182503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1594321,"millis":1.594321,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":224903,"millis":0.224903,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":712810,"millis":0.71281,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":76701,"millis":0.076701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46701,"millis":0.046701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67201,"millis":0.067201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":32301,"millis":0.032301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561668510,"millis":561.66851,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":411106,"millis":0.411106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":472206,"millis":0.472206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":407606,"millis":0.407606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":380905,"millis":0.380905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":418105,"millis":0.418105,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":432506,"millis":0.432506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37601,"millis":0.037601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":359205,"millis":0.359205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":342305,"millis":0.342305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":524607,"millis":0.524607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":255103,"millis":0.255103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":244204,"millis":0.244204,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.540 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":365905,"millis":0.365905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":396505,"millis":0.396505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.541 [print] #notpresent \n"},{"result":{"nanos":399405,"millis":0.399405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":255003,"millis":0.255003,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.542 [print] #notpresent \n"},{"result":{"nanos":53301,"millis":0.053301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":229803,"millis":0.229803,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.542 [print] #notpresent \n"},{"result":{"nanos":428106,"millis":0.428106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":267804,"millis":0.267804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.543 [print] KNMI \n"},{"result":{"nanos":219503,"millis":0.219503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.543 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":393405,"millis":0.393405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1140215,"millis":1.140215,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":588908,"millis":0.588908,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":574.679886,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","startTime":1633064321968,"refId":"[1.14:67]","endTime":1633064322545,"exampleData":{"datasetIdentifierCode":"1009c2a4-4dba-49a5-b643-914ba8b80b52"},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67301,"millis":0.067301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.012 karate.env system property was: null \n"},{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":139002,"millis":0.139002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":155802,"millis":0.155802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":324804,"millis":0.324804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":165502,"millis":0.165502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":750710,"millis":0.75071,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":128202,"millis":0.128202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":570008,"millis":0.570008,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":4332159,"millis":4.332159,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":94101,"millis":0.094101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":82901,"millis":0.082901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45901,"millis":0.045901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":34401,"millis":0.034401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531317298,"millis":531.317298,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":417605,"millis":0.417605,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":726609,"millis":0.726609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":500506,"millis":0.500506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":564107,"millis":0.564107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":525807,"millis":0.525807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":456206,"millis":0.456206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":521007,"millis":0.521007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":383606,"millis":0.383606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":408805,"millis":0.408805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140602,"millis":0.140602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":223603,"millis":0.223603,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.556 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":539707,"millis":0.539707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":137802,"millis":0.137802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.556 [print] OGC:WMS \n"},{"result":{"nanos":425905,"millis":0.425905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145301,"millis":0.145301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.557 [print] #notpresent \n"},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":116302,"millis":0.116302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.557 [print] OGC:WMS \n"},{"result":{"nanos":501707,"millis":0.501707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":152602,"millis":0.152602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.558 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":139102,"millis":0.139102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.558 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":489906,"millis":0.489906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":511907,"millis":0.511907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":707509,"millis":0.707509,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.192607,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","startTime":1633064322011,"refId":"[1.15:67]","endTime":1633064322560,"exampleData":{"datasetIdentifierCode":"f61eec5c-cb91-40b6-ad35-9bca967006cc"},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.063 karate.env system property was: null \n"},{"result":{"nanos":40701,"millis":0.040701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56401,"millis":0.056401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68501,"millis":0.068501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238403,"millis":0.238403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":449806,"millis":0.449806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":256803,"millis":0.256803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ff0035a-acc0-4a67-a76c-3b79646b4eef'"}},{"result":{"nanos":39301,"millis":0.039301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":619259390,"millis":619.25939,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":422606,"millis":0.422606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ff0035a-acc0-4a67-a76c-3b79646b4eef'"}},{"result":{"nanos":379205,"millis":0.379205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":346904,"millis":0.346904,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":364305,"millis":0.364305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":429305,"millis":0.429305,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":397705,"millis":0.397705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37001,"millis":0.037001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":315104,"millis":0.315104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":313005,"millis":0.313005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370205,"millis":0.370205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118502,"millis":0.118502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":283204,"millis":0.283204,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.688 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/view\/map\/amplitude-getij_IVS?request=GetCapabilities&service=WMS&version=1.3.0 \n"},{"result":{"nanos":342704,"millis":0.342704,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86001,"millis":0.086001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.689 [print] OGC:WMS \n"},{"result":{"nanos":472606,"millis":0.472606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80302,"millis":0.080302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.689 [print] #notpresent \n"},{"result":{"nanos":164302,"millis":0.164302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135202,"millis":0.135202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.690 [print] OGC:WMS \n"},{"result":{"nanos":400606,"millis":0.400606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":193402,"millis":0.193402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.690 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":104801,"millis":0.104801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.690 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":424806,"millis":0.424806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":743010,"millis":0.74301,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":491007,"millis":0.491007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":628.094607,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","startTime":1633064322063,"refId":"[1.16:67]","endTime":1633064322692,"exampleData":{"datasetIdentifierCode":"1ff0035a-acc0-4a67-a76c-3b79646b4eef"},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24101,"millis":0.024101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.452 karate.env system property was: null \n"},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72701,"millis":0.072701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":261803,"millis":0.261803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64701,"millis":0.064701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":526208,"millis":0.526208,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":364305,"millis":0.364305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11001,"millis":0.011001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73901,"millis":0.073901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515988691,"millis":515.988691,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":541608,"millis":0.541608,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":414105,"millis":0.414105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":497706,"millis":0.497706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":403705,"millis":0.403705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":545008,"millis":0.545008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":469206,"millis":0.469206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71601,"millis":0.071601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":333604,"millis":0.333604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":355805,"millis":0.355805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":468306,"millis":0.468306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":158402,"millis":0.158402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":773310,"millis":0.77331,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.976 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":557607,"millis":0.557607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":495807,"millis":0.495807,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.977 [print] OGC:WFS \n"},{"result":{"nanos":370205,"millis":0.370205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":405306,"millis":0.405306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.977 [print] INSPIRE Atom \n"},{"result":{"nanos":54801,"millis":0.054801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":390306,"millis":0.390306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.978 [print] OGC:WFS \n"},{"result":{"nanos":438806,"millis":0.438806,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":392605,"millis":0.392605,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.979 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":560707,"millis":0.560707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.979 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":455206,"millis":0.455206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":7233498,"millis":7.233498,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":578308,"millis":0.578308,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.601143,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a931e334-b752-4935-8a98-00eddc443789","startTime":1633064322452,"refId":"[1.17:67]","endTime":1633064322988,"exampleData":{"datasetIdentifierCode":"a931e334-b752-4935-8a98-00eddc443789"},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.549 karate.env system property was: null \n"},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85202,"millis":0.085202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":459406,"millis":0.459406,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64901,"millis":0.064901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":418206,"millis":0.418206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121601,"millis":0.121601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":117701,"millis":0.117701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67801,"millis":0.067801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528058954,"millis":528.058954,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":412805,"millis":0.412805,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":404405,"millis":0.404405,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":376005,"millis":0.376005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":369005,"millis":0.369005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":426205,"millis":0.426205,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":393705,"millis":0.393705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35001,"millis":0.035001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":305804,"millis":0.305804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":307104,"millis":0.307104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":341105,"millis":0.341105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76801,"millis":0.076801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":275404,"millis":0.275404,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.083 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":564308,"millis":0.564308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":162102,"millis":0.162102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.084 [print] #notpresent \n"},{"result":{"nanos":496306,"millis":0.496306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":306604,"millis":0.306604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.085 [print] OGC:WMS \n"},{"result":{"nanos":49601,"millis":0.049601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":233203,"millis":0.233203,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.085 [print] #notpresent \n"},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":287804,"millis":0.287804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.086 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":289704,"millis":0.289704,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.086 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":396705,"millis":0.396705,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3752751,"millis":3.752751,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":532207,"millis":0.532207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.831124,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"feeae7d3-7485-4a39-895c-ed65e945ced0","startTime":1633064322549,"refId":"[1.18:67]","endTime":1633064323091,"exampleData":{"datasetIdentifierCode":"feeae7d3-7485-4a39-895c-ed65e945ced0"},"exampleIndex":17},{"sectionIndex":0,"stepResults":[{"result":{"nanos":29301,"millis":0.029301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.568 karate.env system property was: null \n"},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76201,"millis":0.076201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":251703,"millis":0.251703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415606,"millis":0.415606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48601,"millis":0.048601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89401,"millis":0.089401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76701,"millis":0.076701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538164491,"millis":538.164491,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":409105,"millis":0.409105,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":360304,"millis":0.360304,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":352804,"millis":0.352804,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":359505,"millis":0.359505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":412405,"millis":0.412405,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":364605,"millis":0.364605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":292904,"millis":0.292904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346405,"millis":0.346405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":322005,"millis":0.322005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":374005,"millis":0.374005,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.112 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":639709,"millis":0.639709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95202,"millis":0.095202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.113 [print] #notpresent \n"},{"result":{"nanos":549307,"millis":0.549307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74601,"millis":0.074601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.113 [print] OGC:WMS \n"},{"result":{"nanos":279903,"millis":0.279903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79601,"millis":0.079601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.114 [print] #notpresent \n"},{"result":{"nanos":616008,"millis":0.616008,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78601,"millis":0.078601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.114 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":312504,"millis":0.312504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.115 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1116715,"millis":1.116715,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":986514,"millis":0.986514,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":4816965,"millis":4.816965,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.759183,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","startTime":1633064322567,"refId":"[1.19:67]","endTime":1633064323122,"exampleData":{"datasetIdentifierCode":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9"},"exampleIndex":18},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.695 karate.env system property was: null \n"},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86802,"millis":0.086802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":255303,"millis":0.255303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120902,"millis":0.120902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":465607,"millis":0.465607,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":95001,"millis":0.095001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58801,"millis":0.058801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515504284,"millis":515.504284,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":693109,"millis":0.693109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":540007,"millis":0.540007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432806,"millis":0.432806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":376706,"millis":0.376706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":525407,"millis":0.525407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":420706,"millis":0.420706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36701,"millis":0.036701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":342704,"millis":0.342704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":406905,"millis":0.406905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":342204,"millis":0.342204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78902,"millis":0.078902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":537007,"millis":0.537007,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.218 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":903612,"millis":0.903612,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":112001,"millis":0.112001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.219 [print] #notpresent \n"},{"result":{"nanos":507807,"millis":0.507807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113002,"millis":0.113002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.220 [print] #notpresent \n"},{"result":{"nanos":388705,"millis":0.388705,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":430306,"millis":0.430306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.221 [print] #notpresent \n"},{"result":{"nanos":482606,"millis":0.482606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":500606,"millis":0.500606,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.222 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":582608,"millis":0.582608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.222 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":514907,"millis":0.514907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":931712,"millis":0.931712,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":636309,"millis":0.636309,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.680646,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","startTime":1633064322695,"refId":"[1.20:67]","endTime":1633064323224,"exampleData":{"datasetIdentifierCode":"eec0708d-bab6-41c2-aa5b-9c435a1a177e"},"exampleIndex":19},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26301,"millis":0.026301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.991 karate.env system property was: null \n"},{"result":{"nanos":79401,"millis":0.079401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107901,"millis":0.107901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":317104,"millis":0.317104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":83001,"millis":0.083001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":583908,"millis":0.583908,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":391205,"millis":0.391205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516519398,"millis":516.519398,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":516407,"millis":0.516407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":438106,"millis":0.438106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446106,"millis":0.446106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":555808,"millis":0.555808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":573708,"millis":0.573708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":437206,"millis":0.437206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320204,"millis":0.320204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":309104,"millis":0.309104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":352605,"millis":0.352605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":101302,"millis":0.101302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":685109,"millis":0.685109,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.515 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":370105,"millis":0.370105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":386105,"millis":0.386105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.515 [print] #notpresent \n"},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":205703,"millis":0.205703,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.516 [print] INSPIRE Atom \n"},{"result":{"nanos":689710,"millis":0.68971,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147102,"millis":0.147102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.517 [print] #notpresent \n"},{"result":{"nanos":395206,"millis":0.395206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123702,"millis":0.123702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.518 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":80301,"millis":0.080301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.518 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1150816,"millis":1.150816,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1015914,"millis":1.015914,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":517507,"millis":0.517507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.624561,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","startTime":1633064322990,"refId":"[1.21:67]","endTime":1633064323521,"exampleData":{"datasetIdentifierCode":"1d3c777a-3527-4aa1-8573-d6aeeff115e5"},"exampleIndex":20},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.094 karate.env system property was: null \n"},{"result":{"nanos":432006,"millis":0.432006,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":253303,"millis":0.253303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":81001,"millis":0.081001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1400519,"millis":1.400519,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":113901,"millis":0.113901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":350404,"millis":0.350404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26701,"millis":0.026701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79001,"millis":0.079001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517503110,"millis":517.50311,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":485107,"millis":0.485107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":397105,"millis":0.397105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":387806,"millis":0.387806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":432606,"millis":0.432606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":829611,"millis":0.829611,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":476607,"millis":0.476607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":419905,"millis":0.419905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":331604,"millis":0.331604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":331005,"millis":0.331005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1481020,"millis":1.48102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2048628,"millis":2.048628,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.623 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":966513,"millis":0.966513,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1271217,"millis":1.271217,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.626 [print] #notpresent \n"},{"result":{"nanos":1217017,"millis":1.217017,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1191816,"millis":1.191816,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.628 [print] #notpresent \n"},{"result":{"nanos":362005,"millis":0.362005,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1012413,"millis":1.012413,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.630 [print] #notpresent \n"},{"result":{"nanos":1081315,"millis":1.081315,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1219117,"millis":1.219117,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.632 [print] KNMI \n"},{"result":{"nanos":1826525,"millis":1.826525,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.634 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1514621,"millis":1.514621,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":8635017,"millis":8.635017,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":816811,"millis":0.816811,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":549.32054,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7f79fc69-d0c7-4913-a05a-527c90453297","startTime":1633064323094,"refId":"[1.22:67]","endTime":1633064323645,"exampleData":{"datasetIdentifierCode":"7f79fc69-d0c7-4913-a05a-527c90453297"},"exampleIndex":21},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.125 karate.env system property was: null \n"},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99802,"millis":0.099802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233603,"millis":0.233603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":3403546,"millis":3.403546,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66401,"millis":0.066401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":381906,"millis":0.381906,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523254389,"millis":523.254389,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":445906,"millis":0.445906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":392805,"millis":0.392805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":22144200,"millis":22.1442,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1423819,"millis":1.423819,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1058515,"millis":1.058515,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":712009,"millis":0.712009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":132001,"millis":0.132001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":465606,"millis":0.465606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":493407,"millis":0.493407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1608022,"millis":1.608022,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":926813,"millis":0.926813,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":925613,"millis":0.925613,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.684 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":971013,"millis":0.971013,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":607908,"millis":0.607908,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.686 [print] #notpresent \n"},{"result":{"nanos":601708,"millis":0.601708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":594808,"millis":0.594808,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.687 [print] #notpresent \n"},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":583808,"millis":0.583808,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.688 [print] #notpresent \n"},{"result":{"nanos":503807,"millis":0.503807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":290404,"millis":0.290404,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.689 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":224303,"millis":0.224303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.689 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":646909,"millis":0.646909,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":715410,"millis":0.71541,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":762111,"millis":0.762111,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":565.420061,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"92826f1e-040d-4099-b9e1-cab6bfc520af","startTime":1633064323124,"refId":"[1.23:67]","endTime":1633064323691,"exampleData":{"datasetIdentifierCode":"92826f1e-040d-4099-b9e1-cab6bfc520af"},"exampleIndex":22},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.227 karate.env system property was: null \n"},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78201,"millis":0.078201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92401,"millis":0.092401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":298604,"millis":0.298604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":83701,"millis":0.083701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":536907,"millis":0.536907,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50401,"millis":0.050401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":360205,"millis":0.360205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25101,"millis":0.025101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8801,"millis":0.008801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530332884,"millis":530.332884,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":518707,"millis":0.518707,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":386805,"millis":0.386805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":348904,"millis":0.348904,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":332904,"millis":0.332904,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":576908,"millis":0.576908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1060615,"millis":1.060615,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":122102,"millis":0.122102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":394305,"millis":0.394305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":608509,"millis":0.608509,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":802611,"millis":0.802611,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":970413,"millis":0.970413,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1005413,"millis":1.005413,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.767 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":544308,"millis":0.544308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1070215,"millis":1.070215,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.769 [print] INSPIRE Atom \n"},{"result":{"nanos":488607,"millis":0.488607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":644609,"millis":0.644609,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.770 [print] #notpresent \n"},{"result":{"nanos":158602,"millis":0.158602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":520907,"millis":0.520907,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.771 [print] INSPIRE Atom \n"},{"result":{"nanos":486706,"millis":0.486706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":595609,"millis":0.595609,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.772 [print] Beheer PDOK \n"},{"result":{"nanos":748910,"millis":0.74891,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.773 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":395905,"millis":0.395905,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":820811,"millis":0.820811,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1735224,"millis":1.735224,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.419117,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","startTime":1633064323227,"refId":"[1.24:67]","endTime":1633064323776,"exampleData":{"datasetIdentifierCode":"52d0313e-0d2b-44b4-b51e-d9e504307f70"},"exampleIndex":23},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.524 karate.env system property was: null \n"},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70501,"millis":0.070501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":251003,"millis":0.251003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377305,"millis":0.377305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96002,"millis":0.096002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":278404,"millis":0.278404,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2443309-c655-4e64-b914-149050fd479c'"}},{"result":{"nanos":9601,"millis":0.009601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528594861,"millis":528.594861,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1011013,"millis":1.011013,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2443309-c655-4e64-b914-149050fd479c'"}},{"result":{"nanos":656809,"millis":0.656809,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1876725,"millis":1.876725,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":566107,"millis":0.566107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":935712,"millis":0.935712,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":716609,"millis":0.716609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":228903,"millis":0.228903,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":476406,"millis":0.476406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1108815,"millis":1.108815,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1621322,"millis":1.621322,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":643009,"millis":0.643009,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":588508,"millis":0.588508,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.065 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":655108,"millis":0.655108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":370105,"millis":0.370105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.066 [print] #notpresent \n"},{"result":{"nanos":492907,"millis":0.492907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":270604,"millis":0.270604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.067 [print] #notpresent \n"},{"result":{"nanos":133002,"millis":0.133002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":341404,"millis":0.341404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.067 [print] #notpresent \n"},{"result":{"nanos":1041314,"millis":1.041314,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":249003,"millis":0.249003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.069 [print] Rijkswaterstaat \n"},{"result":{"nanos":229603,"millis":0.229603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.069 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":413705,"millis":0.413705,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1619422,"millis":1.619422,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1435219,"millis":1.435219,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":547.703714,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f2443309-c655-4e64-b914-149050fd479c","startTime":1633064323523,"refId":"[1.25:67]","endTime":1633064324073,"exampleData":{"datasetIdentifierCode":"f2443309-c655-4e64-b914-149050fd479c"},"exampleIndex":24},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.648 karate.env system property was: null \n"},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61501,"millis":0.061501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68501,"millis":0.068501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243704,"millis":0.243704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62801,"millis":0.062801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386705,"millis":0.386705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47501,"millis":0.047501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":402006,"millis":0.402006,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58201,"millis":0.058201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514551470,"millis":514.55147,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":614909,"millis":0.614909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":404805,"millis":0.404805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":392405,"millis":0.392405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1028614,"millis":1.028614,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":668509,"millis":0.668509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":475907,"millis":0.475907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":198803,"millis":0.198803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":730810,"millis":0.73081,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374005,"millis":0.374005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1183616,"millis":1.183616,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":552807,"millis":0.552807,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":454506,"millis":0.454506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.172 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":466806,"millis":0.466806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":290404,"millis":0.290404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.172 [print] #notpresent \n"},{"result":{"nanos":406906,"millis":0.406906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":250903,"millis":0.250903,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.173 [print] INSPIRE Atom \n"},{"result":{"nanos":115201,"millis":0.115201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":221703,"millis":0.221703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.173 [print] #notpresent \n"},{"result":{"nanos":512807,"millis":0.512807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":258303,"millis":0.258303,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.174 [print] Beheer PDOK \n"},{"result":{"nanos":277104,"millis":0.277104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.174 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":998114,"millis":0.998114,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":796111,"millis":0.796111,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":566008,"millis":0.566008,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.282758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0898d4a9-8fe6-46e9-8855-1242d8028970","startTime":1633064323647,"refId":"[1.26:67]","endTime":1633064324177,"exampleData":{"datasetIdentifierCode":"0898d4a9-8fe6-46e9-8855-1242d8028970"},"exampleIndex":25},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.695 karate.env system property was: null \n"},{"result":{"nanos":78201,"millis":0.078201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151702,"millis":0.151702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":171802,"millis":0.171802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":387605,"millis":0.387605,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":176802,"millis":0.176802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":588808,"millis":0.588808,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":168402,"millis":0.168402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":249204,"millis":0.249204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":106201,"millis":0.106201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47001,"millis":0.047001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":56101,"millis":0.056101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":32701,"millis":0.032701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530516187,"millis":530.516187,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1111415,"millis":1.111415,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":347305,"millis":0.347305,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":327905,"millis":0.327905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":398905,"millis":0.398905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":470506,"millis":0.470506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":941413,"millis":0.941413,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":410305,"millis":0.410305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":300004,"millis":0.300004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":293504,"millis":0.293504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":526107,"millis":0.526107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":646809,"millis":0.646809,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.235 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":900313,"millis":0.900313,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":382605,"millis":0.382605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.236 [print] #notpresent \n"},{"result":{"nanos":323205,"millis":0.323205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":389605,"millis":0.389605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.237 [print] OGC:WMS \n"},{"result":{"nanos":2492934,"millis":2.492934,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":178902,"millis":0.178902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.240 [print] #notpresent \n"},{"result":{"nanos":415906,"millis":0.415906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":6927694,"millis":6.927694,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.247 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":1567621,"millis":1.567621,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.248 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":769510,"millis":0.76951,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":789211,"millis":0.789211,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":469107,"millis":0.469107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.343911,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","startTime":1633064323694,"refId":"[1.27:67]","endTime":1633064324251,"exampleData":{"datasetIdentifierCode":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6"},"exampleIndex":26},{"sectionIndex":0,"stepResults":[{"result":{"nanos":88501,"millis":0.088501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.785 karate.env system property was: null \n"},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":176002,"millis":0.176002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":243603,"millis":0.243603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":565408,"millis":0.565408,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":323505,"millis":0.323505,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":686009,"millis":0.686009,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":145302,"millis":0.145302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":710710,"millis":0.71071,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":120002,"millis":0.120002,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":90401,"millis":0.090401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67901,"millis":0.067901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514262667,"millis":514.262667,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":395605,"millis":0.395605,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":511907,"millis":0.511907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":997714,"millis":0.997714,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":346005,"millis":0.346005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":436406,"millis":0.436406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":369005,"millis":0.369005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32201,"millis":0.032201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297004,"millis":0.297004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":891812,"millis":0.891812,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347804,"millis":0.347804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":113702,"millis":0.113702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120502,"millis":0.120502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.308 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":432106,"millis":0.432106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81101,"millis":0.081101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.309 [print] OGC:WFS \n"},{"result":{"nanos":409906,"millis":0.409906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.309 [print] INSPIRE Atom \n"},{"result":{"nanos":313304,"millis":0.313304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":837511,"millis":0.837511,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.311 [print] OGC:WFS \n"},{"result":{"nanos":938213,"millis":0.938213,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":122002,"millis":0.122002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.312 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":153102,"millis":0.153102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.312 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":418306,"millis":0.418306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1962327,"millis":1.962327,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1925226,"millis":1.925226,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.306988,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f59357eb-185f-42a5-b465-90bfa6e3e416","startTime":1633064323783,"refId":"[1.28:67]","endTime":1633064324316,"exampleData":{"datasetIdentifierCode":"f59357eb-185f-42a5-b465-90bfa6e3e416"},"exampleIndex":27},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74601,"millis":0.074601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.076 karate.env system property was: null \n"},{"result":{"nanos":64501,"millis":0.064501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":174403,"millis":0.174403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":292204,"millis":0.292204,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":424006,"millis":0.424006,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":185903,"millis":0.185903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":523007,"millis":0.523007,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":173702,"millis":0.173702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":235803,"millis":0.235803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70401,"millis":0.070401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47101,"millis":0.047101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531777404,"millis":531.777404,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":971013,"millis":0.971013,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":335105,"millis":0.335105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":313804,"millis":0.313804,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":616308,"millis":0.616308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":635209,"millis":0.635209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":991413,"millis":0.991413,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":287004,"millis":0.287004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":293704,"millis":0.293704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":290404,"millis":0.290404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":410306,"millis":0.410306,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":392505,"millis":0.392505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.617 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":912212,"millis":0.912212,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":266004,"millis":0.266004,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.618 [print] #notpresent \n"},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":253004,"millis":0.253004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.619 [print] INSPIRE Atom \n"},{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":192502,"millis":0.192502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.619 [print] #notpresent \n"},{"result":{"nanos":343905,"millis":0.343905,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":239904,"millis":0.239904,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.620 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":221603,"millis":0.221603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.620 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":365705,"millis":0.365705,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":747010,"millis":0.74701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":418105,"millis":0.418105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.206573,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"070014b4-1f63-4819-beea-000b7d5f8d86","startTime":1633064324075,"refId":"[1.29:67]","endTime":1633064324622,"exampleData":{"datasetIdentifierCode":"070014b4-1f63-4819-beea-000b7d5f8d86"},"exampleIndex":28},{"sectionIndex":0,"stepResults":[{"result":{"nanos":917412,"millis":0.917412,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.192 karate.env system property was: null \n"},{"result":{"nanos":233503,"millis":0.233503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":229203,"millis":0.229203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":207603,"millis":0.207603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":510607,"millis":0.510607,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":2298031,"millis":2.298031,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":491307,"millis":0.491307,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":146302,"millis":0.146302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":595108,"millis":0.595108,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":557308,"millis":0.557308,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":95401,"millis":0.095401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":69601,"millis":0.069601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514249067,"millis":514.249067,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":346905,"millis":0.346905,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":1181316,"millis":1.181316,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":275704,"millis":0.275704,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":304604,"millis":0.304604,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":359604,"millis":0.359604,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":294104,"millis":0.294104,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":773611,"millis":0.773611,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":236203,"millis":0.236203,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":238504,"millis":0.238504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":396205,"millis":0.396205,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.718 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":291304,"millis":0.291304,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104701,"millis":0.104701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.718 [print] INSPIRE Atom \n"},{"result":{"nanos":411806,"millis":0.411806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121902,"millis":0.121902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.719 [print] #notpresent \n"},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":201903,"millis":0.201903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.719 [print] INSPIRE Atom \n"},{"result":{"nanos":872112,"millis":0.872112,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84602,"millis":0.084602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.720 [print] Beheer PDOK \n"},{"result":{"nanos":220903,"millis":0.220903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.721 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":317804,"millis":0.317804,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":681810,"millis":0.68181,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":410705,"millis":0.410705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.084969,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7a748a59-36f4-475b-9647-402b5ce89a1c","startTime":1633064324184,"refId":"[1.30:67]","endTime":1633064324722,"exampleData":{"datasetIdentifierCode":"7a748a59-36f4-475b-9647-402b5ce89a1c"},"exampleIndex":29},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21901,"millis":0.021901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.253 karate.env system property was: null \n"},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92002,"millis":0.092002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226003,"millis":0.226003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":211403,"millis":0.211403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1956327,"millis":1.956327,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":351405,"millis":0.351405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7601,"millis":0.007601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64501,"millis":0.064501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535485855,"millis":535.485855,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":314304,"millis":0.314304,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":339604,"millis":0.339604,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":332605,"millis":0.332605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":324304,"millis":0.324304,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":926912,"millis":0.926912,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":363605,"millis":0.363605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48101,"millis":0.048101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":292304,"millis":0.292304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":433106,"millis":0.433106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":363105,"millis":0.363105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107702,"millis":0.107702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125902,"millis":0.125902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.796 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":1031914,"millis":1.031914,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":132802,"millis":0.132802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.798 [print] #notpresent \n"},{"result":{"nanos":329605,"millis":0.329605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114301,"millis":0.114301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.798 [print] #notpresent \n"},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":90802,"millis":0.090802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.798 [print] #notpresent \n"},{"result":{"nanos":362305,"millis":0.362305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":115402,"millis":0.115402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.799 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":91601,"millis":0.091601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.799 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":355405,"millis":0.355405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":507807,"millis":0.507807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":436006,"millis":0.436006,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.213203,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"914a6e0c-2aae-42f8-8425-2a047c245dab","startTime":1633064324252,"refId":"[1.31:67]","endTime":1633064324800,"exampleData":{"datasetIdentifierCode":"914a6e0c-2aae-42f8-8425-2a047c245dab"},"exampleIndex":30},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22201,"millis":0.022201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.319 karate.env system property was: null \n"},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72701,"millis":0.072701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100601,"millis":0.100601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":264204,"millis":0.264204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":159702,"millis":0.159702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":606608,"millis":0.606608,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70001,"millis":0.070001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":450106,"millis":0.450106,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67501,"millis":0.067501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532679917,"millis":532.679917,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":313105,"millis":0.313105,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":338304,"millis":0.338304,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":844012,"millis":0.844012,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":661409,"millis":0.661409,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":389406,"millis":0.389406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":454806,"millis":0.454806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346305,"millis":0.346305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":880412,"millis":0.880412,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":343604,"millis":0.343604,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":267504,"millis":0.267504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.859 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":366705,"millis":0.366705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123202,"millis":0.123202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.860 [print] #notpresent \n"},{"result":{"nanos":310404,"millis":0.310404,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72001,"millis":0.072001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.860 [print] OGC:WFS \n"},{"result":{"nanos":116501,"millis":0.116501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":106202,"millis":0.106202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.861 [print] #notpresent \n"},{"result":{"nanos":404305,"millis":0.404305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.861 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.862 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":758110,"millis":0.75811,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":504107,"millis":0.504107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":486707,"millis":0.486707,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.986557,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"73286af2-d0f4-4a62-9455-86ffa45ef279","startTime":1633064324319,"refId":"[1.32:67]","endTime":1633064324864,"exampleData":{"datasetIdentifierCode":"73286af2-d0f4-4a62-9455-86ffa45ef279"},"exampleIndex":31},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.624 karate.env system property was: null \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107102,"millis":0.107102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70701,"millis":0.070701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243103,"millis":0.243103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1286217,"millis":1.286217,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54801,"millis":0.054801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":247903,"millis":0.247903,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53701,"millis":0.053701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517319409,"millis":517.319409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":692710,"millis":0.69271,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":472906,"millis":0.472906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":347405,"millis":0.347405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":852512,"millis":0.852512,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":436306,"millis":0.436306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":349005,"millis":0.349005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":349204,"millis":0.349204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":433505,"millis":0.433505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1088314,"millis":1.088314,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162202,"millis":0.162202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":247503,"millis":0.247503,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.150 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":345904,"millis":0.345904,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":149702,"millis":0.149702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.150 [print] #notpresent \n"},{"result":{"nanos":302004,"millis":0.302004,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":221103,"millis":0.221103,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.151 [print] OGC:WMS \n"},{"result":{"nanos":43601,"millis":0.043601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":127002,"millis":0.127002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.151 [print] #notpresent \n"},{"result":{"nanos":432706,"millis":0.432706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":205503,"millis":0.205503,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.152 [print]  \n"},{"result":{"nanos":175202,"millis":0.175202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.152 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":429406,"millis":0.429406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":836112,"millis":0.836112,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1133715,"millis":1.133715,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.460169,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"42da491e-d8b9-47ba-af65-acb15ea8a055","startTime":1633064324624,"refId":"[1.33:67]","endTime":1633064325154,"exampleData":{"datasetIdentifierCode":"42da491e-d8b9-47ba-af65-acb15ea8a055"},"exampleIndex":32},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.725 karate.env system property was: null \n"},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":77801,"millis":0.077801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340304,"millis":0.340304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":70301,"millis":0.070301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":533707,"millis":0.533707,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77601,"millis":0.077601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74201,"millis":0.074201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517746114,"millis":517.746114,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":945013,"millis":0.945013,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":359805,"millis":0.359805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":338705,"millis":0.338705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":330405,"millis":0.330405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":422105,"millis":0.422105,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":887312,"millis":0.887312,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":274703,"millis":0.274703,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":266404,"millis":0.266404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":273304,"millis":0.273304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107602,"millis":0.107602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":313204,"millis":0.313204,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.250 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":314905,"millis":0.314905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":137102,"millis":0.137102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.250 [print] #notpresent \n"},{"result":{"nanos":1021414,"millis":1.021414,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":147902,"millis":0.147902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.251 [print] OGC:WFS \n"},{"result":{"nanos":44801,"millis":0.044801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126402,"millis":0.126402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.251 [print] #notpresent \n"},{"result":{"nanos":377305,"millis":0.377305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":154602,"millis":0.154602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.252 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":109201,"millis":0.109201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.252 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":385105,"millis":0.385105,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":804311,"millis":0.804311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":479406,"millis":0.479406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.83285,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","startTime":1633064324725,"refId":"[1.34:67]","endTime":1633064325254,"exampleData":{"datasetIdentifierCode":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e"},"exampleIndex":33},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.803 karate.env system property was: null \n"},{"result":{"nanos":32301,"millis":0.032301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75001,"millis":0.075001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59001,"millis":0.059001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":184002,"millis":0.184002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":362204,"millis":0.362204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85402,"millis":0.085402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533179023,"millis":533.179023,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":378505,"millis":0.378505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":484107,"millis":0.484107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1156616,"millis":1.156616,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":425006,"millis":0.425006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":387605,"millis":0.387605,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":349605,"millis":0.349605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31301,"millis":0.031301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1226316,"millis":1.226316,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1030114,"millis":1.030114,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309104,"millis":0.309104,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71101,"millis":0.071101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":692310,"millis":0.69231,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.344 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":341205,"millis":0.341205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90701,"millis":0.090701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.344 [print] #notpresent \n"},{"result":{"nanos":612209,"millis":0.612209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83901,"millis":0.083901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.345 [print] OGC:WFS \n"},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":280204,"millis":0.280204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.345 [print] #notpresent \n"},{"result":{"nanos":601108,"millis":0.601108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":101501,"millis":0.101501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.346 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":588808,"millis":0.588808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.347 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":974513,"millis":0.974513,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":640909,"millis":0.640909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":585708,"millis":0.585708,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.698492,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5471a93b-cf18-43f5-9ddb-71987857435d","startTime":1633064324802,"refId":"[1.35:67]","endTime":1633064325349,"exampleData":{"datasetIdentifierCode":"5471a93b-cf18-43f5-9ddb-71987857435d"},"exampleIndex":34},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.866 karate.env system property was: null \n"},{"result":{"nanos":51601,"millis":0.051601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52001,"millis":0.052001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":160302,"millis":0.160302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266804,"millis":0.266804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":84101,"millis":0.084101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":514207,"millis":0.514207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82502,"millis":0.082502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":413005,"millis":0.413005,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22401,"millis":0.022401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":7801,"millis":0.007801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517496911,"millis":517.496911,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":328104,"millis":0.328104,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":957513,"millis":0.957513,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":346704,"millis":0.346704,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":323204,"millis":0.323204,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":393806,"millis":0.393806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":920812,"millis":0.920812,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":276604,"millis":0.276604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":278904,"millis":0.278904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":283904,"millis":0.283904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71701,"millis":0.071701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":563608,"millis":0.563608,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.390 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":313304,"millis":0.313304,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84502,"millis":0.084502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.391 [print] #notpresent \n"},{"result":{"nanos":1367119,"millis":1.367119,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127402,"millis":0.127402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.392 [print] OGC:WMS \n"},{"result":{"nanos":391605,"millis":0.391605,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":88302,"millis":0.088302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.393 [print] #notpresent \n"},{"result":{"nanos":726810,"millis":0.72681,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105901,"millis":0.105901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.394 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":626509,"millis":0.626509,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.394 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":384305,"millis":0.384305,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":561507,"millis":0.561507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":496506,"millis":0.496506,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.317172,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"664862cb-d426-4ee4-97ac-14c12b903b54","startTime":1633064324865,"refId":"[1.36:67]","endTime":1633064325396,"exampleData":{"datasetIdentifierCode":"664862cb-d426-4ee4-97ac-14c12b903b54"},"exampleIndex":35},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.157 karate.env system property was: null \n"},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":83101,"millis":0.083101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71501,"millis":0.071501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":550107,"millis":0.550107,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":137302,"millis":0.137302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411706,"millis":0.411706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45701,"millis":0.045701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":187602,"millis":0.187602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6101,"millis":0.006101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":115801,"millis":0.115801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":9901,"millis":0.009901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510762419,"millis":510.762419,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":573908,"millis":0.573908,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":378405,"millis":0.378405,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":384706,"millis":0.384706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1065714,"millis":1.065714,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":459507,"millis":0.459507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":342504,"millis":0.342504,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":269804,"millis":0.269804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":290904,"millis":0.290904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":907612,"millis":0.907612,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99601,"millis":0.099601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":852512,"millis":0.852512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.675 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n"},{"result":{"nanos":891712,"millis":0.891712,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":141002,"millis":0.141002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.677 [print] #notpresent \n"},{"result":{"nanos":650609,"millis":0.650609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":117102,"millis":0.117102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.677 [print] INSPIRE Atom \n"},{"result":{"nanos":278904,"millis":0.278904,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80201,"millis":0.080201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.678 [print] #notpresent \n"},{"result":{"nanos":845912,"millis":0.845912,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109602,"millis":0.109602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.679 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":542807,"millis":0.542807,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.679 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":978614,"millis":0.978614,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":853311,"millis":0.853311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":461406,"millis":0.461406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.122802,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5f0c583a-101e-45ea-b684-a056713cf811","startTime":1633064325156,"refId":"[1.37:67]","endTime":1633064325682,"exampleData":{"datasetIdentifierCode":"5f0c583a-101e-45ea-b684-a056713cf811"},"exampleIndex":36},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35201,"millis":0.035201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.256 karate.env system property was: null \n"},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":150902,"millis":0.150902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73801,"millis":0.073801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":297904,"millis":0.297904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":1295218,"millis":1.295218,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":477507,"millis":0.477507,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":3020541,"millis":3.020541,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":198703,"millis":0.198703,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d8c9463-a3da-401d-8251-8c6664865e0c'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536468568,"millis":536.468568,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":440206,"millis":0.440206,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d8c9463-a3da-401d-8251-8c6664865e0c'"}},{"result":{"nanos":350004,"millis":0.350004,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":327104,"millis":0.327104,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":298504,"millis":0.298504,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":450907,"millis":0.450907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":487506,"millis":0.487506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":494507,"millis":0.494507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":315405,"millis":0.315405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":316804,"millis":0.316804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":399106,"millis":0.399106,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":373605,"millis":0.373605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.804 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":434506,"millis":0.434506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":264104,"millis":0.264104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.805 [print] #notpresent \n"},{"result":{"nanos":387605,"millis":0.387605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":247904,"millis":0.247904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.806 [print] #notpresent \n"},{"result":{"nanos":44401,"millis":0.044401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":220703,"millis":0.220703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.806 [print] #notpresent \n"},{"result":{"nanos":561107,"millis":0.561107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":346804,"millis":0.346804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.807 [print] Rijkswaterstaat \n"},{"result":{"nanos":260903,"millis":0.260903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.807 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":393906,"millis":0.393906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1764424,"millis":1.764424,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1302018,"millis":1.302018,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.731991,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3d8c9463-a3da-401d-8251-8c6664865e0c","startTime":1633064325256,"refId":"[1.38:67]","endTime":1633064325811,"exampleData":{"datasetIdentifierCode":"3d8c9463-a3da-401d-8251-8c6664865e0c"},"exampleIndex":37},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43701,"millis":0.043701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.351 karate.env system property was: null \n"},{"result":{"nanos":78801,"millis":0.078801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116302,"millis":0.116302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":285504,"millis":0.285504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67801,"millis":0.067801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":479106,"millis":0.479106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77502,"millis":0.077502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97201,"millis":0.097201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":310204,"millis":0.310204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":109602,"millis":0.109602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35001,"millis":0.035001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523636894,"millis":523.636894,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":390105,"millis":0.390105,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":418606,"millis":0.418606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":377705,"millis":0.377705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":369205,"millis":0.369205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":448707,"millis":0.448707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":425605,"millis":0.425605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":353405,"millis":0.353405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335405,"millis":0.335405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":354705,"millis":0.354705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107001,"millis":0.107001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90801,"millis":0.090801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.882 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":403705,"millis":0.403705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70501,"millis":0.070501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.883 [print] #notpresent \n"},{"result":{"nanos":383105,"millis":0.383105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89201,"millis":0.089201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.883 [print] #notpresent \n"},{"result":{"nanos":36601,"millis":0.036601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":49401,"millis":0.049401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.883 [print] #notpresent \n"},{"result":{"nanos":440406,"millis":0.440406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119102,"millis":0.119102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.884 [print] KNMI \n"},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.884 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":542908,"millis":0.542908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":552507,"millis":0.552507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":549608,"millis":0.549608,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.493116,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c6308500-3439-4840-88cb-7532cabbfcb4","startTime":1633064325351,"refId":"[1.39:67]","endTime":1633064325886,"exampleData":{"datasetIdentifierCode":"c6308500-3439-4840-88cb-7532cabbfcb4"},"exampleIndex":38},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.398 karate.env system property was: null \n"},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109401,"millis":0.109401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77501,"millis":0.077501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236004,"millis":0.236004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66001,"millis":0.066001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":357805,"millis":0.357805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":283604,"millis":0.283604,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":502093402,"millis":502.093402,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":369305,"millis":0.369305,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":463107,"millis":0.463107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":377905,"millis":0.377905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":364005,"millis":0.364005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":439506,"millis":0.439506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":415906,"millis":0.415906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32401,"millis":0.032401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325704,"millis":0.325704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":387406,"millis":0.387406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":331104,"millis":0.331104,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":538307,"millis":0.538307,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.906 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n"},{"result":{"nanos":1132115,"millis":1.132115,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110302,"millis":0.110302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.908 [print] #notpresent \n"},{"result":{"nanos":621209,"millis":0.621209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98401,"millis":0.098401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.909 [print] INSPIRE Atom \n"},{"result":{"nanos":95202,"millis":0.095202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78701,"millis":0.078701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.909 [print] #notpresent \n"},{"result":{"nanos":429306,"millis":0.429306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.909 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":123302,"millis":0.123302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.909 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":406206,"millis":0.406206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":523507,"millis":0.523507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":747010,"millis":0.74701,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":512.065539,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","startTime":1633064325397,"refId":"[1.40:67]","endTime":1633064325911,"exampleData":{"datasetIdentifierCode":"243c6401-9ed1-4cdd-b9a7-caff08813ce4"},"exampleIndex":39},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38901,"millis":0.038901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.685 karate.env system property was: null \n"},{"result":{"nanos":162202,"millis":0.162202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74501,"millis":0.074501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86001,"millis":0.086001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":388105,"millis":0.388105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62301,"millis":0.062301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432306,"millis":0.432306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45001,"millis":0.045001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73601,"millis":0.073601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":504436333,"millis":504.436333,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":502407,"millis":0.502407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":789811,"millis":0.789811,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":384505,"millis":0.384505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":336505,"millis":0.336505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":415506,"millis":0.415506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":365805,"millis":0.365805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346205,"millis":0.346205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":327004,"millis":0.327004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":340004,"millis":0.340004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":494107,"millis":0.494107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":481907,"millis":0.481907,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.196 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":451706,"millis":0.451706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":471007,"millis":0.471007,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.197 [print] INSPIRE Atom \n"},{"result":{"nanos":358505,"millis":0.358505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":377005,"millis":0.377005,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.198 [print] #notpresent \n"},{"result":{"nanos":46901,"millis":0.046901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":356805,"millis":0.356805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.198 [print] INSPIRE Atom \n"},{"result":{"nanos":409206,"millis":0.409206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":383105,"millis":0.383105,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.199 [print] Beheer PDOK \n"},{"result":{"nanos":539108,"millis":0.539108,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.200 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":373205,"millis":0.373205,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":907412,"millis":0.907412,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":533807,"millis":0.533807,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":515.959694,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","startTime":1633064325684,"refId":"[1.41:67]","endTime":1633064326202,"exampleData":{"datasetIdentifierCode":"68a7e4c1-0073-4a1a-a6df-084d2badf45a"},"exampleIndex":40},{"sectionIndex":0,"stepResults":[{"result":{"nanos":27401,"millis":0.027401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.815 karate.env system property was: null \n"},{"result":{"nanos":45701,"millis":0.045701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72001,"millis":0.072001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":255903,"millis":0.255903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":473706,"millis":0.473706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65601,"millis":0.065601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":316205,"millis":0.316205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76801,"millis":0.076801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518294721,"millis":518.294721,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":529707,"millis":0.529707,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":497107,"millis":0.497107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":574508,"millis":0.574508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":489007,"millis":0.489007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":421206,"millis":0.421206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":394805,"millis":0.394805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31001,"millis":0.031001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348705,"millis":0.348705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337904,"millis":0.337904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":333004,"millis":0.333004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":545108,"millis":0.545108,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":177102,"millis":0.177102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.340 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":376106,"millis":0.376106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84101,"millis":0.084101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.341 [print] #notpresent \n"},{"result":{"nanos":717410,"millis":0.71741,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105401,"millis":0.105401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.342 [print] OGC:WMS \n"},{"result":{"nanos":312304,"millis":0.312304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.342 [print] #notpresent \n"},{"result":{"nanos":676209,"millis":0.676209,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87301,"millis":0.087301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.343 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":600508,"millis":0.600508,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.344 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":389105,"millis":0.389105,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":688809,"millis":0.688809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":591708,"millis":0.591708,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.231769,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","startTime":1633064325815,"refId":"[1.42:67]","endTime":1633064326346,"exampleData":{"datasetIdentifierCode":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39"},"exampleIndex":41},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.891 karate.env system property was: null \n"},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":67801,"millis":0.067801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62801,"millis":0.062801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213603,"millis":0.213603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":89302,"millis":0.089302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347104,"millis":0.347104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":77801,"millis":0.077801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538851500,"millis":538.8515,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":535207,"millis":0.535207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":425405,"millis":0.425405,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":419006,"millis":0.419006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":631009,"millis":0.631009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":640609,"millis":0.640609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":459306,"millis":0.459306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329504,"millis":0.329504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":353604,"millis":0.353604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":363005,"millis":0.363005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":315604,"millis":0.315604,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":292804,"millis":0.292804,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.436 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":374405,"millis":0.374405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1243616,"millis":1.243616,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.438 [print] #notpresent \n"},{"result":{"nanos":430106,"millis":0.430106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":168102,"millis":0.168102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.438 [print] #notpresent \n"},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":111801,"millis":0.111801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.439 [print] #notpresent \n"},{"result":{"nanos":416106,"millis":0.416106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146702,"millis":0.146702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.440 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":108202,"millis":0.108202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.440 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":825011,"millis":0.825011,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1093315,"millis":1.093315,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":494206,"millis":0.494206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.22095,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","startTime":1633064325890,"refId":"[1.43:67]","endTime":1633064326442,"exampleData":{"datasetIdentifierCode":"7d641d0e-c04b-4191-833e-c578ac2abe5f"},"exampleIndex":42},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.913 karate.env system property was: null \n"},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77402,"millis":0.077402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":227403,"millis":0.227403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":465306,"millis":0.465306,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390206,"millis":0.390206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53601,"millis":0.053601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":751410,"millis":0.75141,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26601,"millis":0.026601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76101,"millis":0.076101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543912069,"millis":543.912069,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":397706,"millis":0.397706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":459806,"millis":0.459806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":405506,"millis":0.405506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":399005,"millis":0.399005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":620908,"millis":0.620908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":528907,"millis":0.528907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":497307,"millis":0.497307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":405506,"millis":0.405506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332004,"millis":0.332004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":182403,"millis":0.182403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.464 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n"},{"result":{"nanos":431006,"millis":0.431006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.465 [print] OGC:CSW \n"},{"result":{"nanos":436906,"millis":0.436906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":67101,"millis":0.067101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.465 [print] #notpresent \n"},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":201903,"millis":0.201903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.466 [print] OGC:CSW \n"},{"result":{"nanos":518307,"millis":0.518307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68601,"millis":0.068601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.466 [print] Beheer PDOK \n"},{"result":{"nanos":40601,"millis":0.040601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.466 [print] #notpresent \n"},{"result":{"nanos":605808,"millis":0.605808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":574008,"millis":0.574008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":441206,"millis":0.441206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":553.953309,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","startTime":1633064325913,"refId":"[1.44:67]","endTime":1633064326468,"exampleData":{"datasetIdentifierCode":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8"},"exampleIndex":43},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37201,"millis":0.037201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.204 karate.env system property was: null \n"},{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":87301,"millis":0.087301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70001,"millis":0.070001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263204,"millis":0.263204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64401,"millis":0.064401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424706,"millis":0.424706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":415905,"millis":0.415905,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22301,"millis":0.022301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24301,"millis":0.024301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":87801,"millis":0.087801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7101,"millis":0.007101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525636121,"millis":525.636121,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":476107,"millis":0.476107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":374405,"millis":0.374405,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367305,"millis":0.367305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":341405,"millis":0.341405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":577608,"millis":0.577608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":449206,"millis":0.449206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":305604,"millis":0.305604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":314105,"millis":0.314105,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309904,"millis":0.309904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":95702,"millis":0.095702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":277603,"millis":0.277603,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.736 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":636709,"millis":0.636709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134402,"millis":0.134402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.737 [print] INSPIRE Atom \n"},{"result":{"nanos":406405,"millis":0.406405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76801,"millis":0.076801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.737 [print] #notpresent \n"},{"result":{"nanos":117001,"millis":0.117001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83001,"millis":0.083001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.737 [print] INSPIRE Atom \n"},{"result":{"nanos":450106,"millis":0.450106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93501,"millis":0.093501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.738 [print] Beheer PDOK \n"},{"result":{"nanos":64001,"millis":0.064001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.738 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":558808,"millis":0.558808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":874112,"millis":0.874112,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":461806,"millis":0.461806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.159452,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","startTime":1633064326203,"refId":"[1.45:67]","endTime":1633064326740,"exampleData":{"datasetIdentifierCode":"93c8762c-4cbb-42b0-9b02-89ef902e8880"},"exampleIndex":44},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.348 karate.env system property was: null \n"},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66701,"millis":0.066701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243204,"millis":0.243204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":346405,"millis":0.346405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":128302,"millis":0.128302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19401,"millis":0.019401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513220753,"millis":513.220753,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":464506,"millis":0.464506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":418805,"millis":0.418805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367905,"millis":0.367905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":360205,"millis":0.360205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":440506,"millis":0.440506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":442406,"millis":0.442406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":373505,"millis":0.373505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":317604,"millis":0.317604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":323105,"millis":0.323105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90401,"millis":0.090401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":157102,"millis":0.157102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.867 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n"},{"result":{"nanos":527907,"millis":0.527907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103402,"millis":0.103402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.868 [print] #notpresent \n"},{"result":{"nanos":553408,"millis":0.553408,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":160802,"millis":0.160802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.868 [print] OGC:WMS \n"},{"result":{"nanos":39401,"millis":0.039401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":348505,"millis":0.348505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.869 [print] #notpresent \n"},{"result":{"nanos":410705,"millis":0.410705,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.869 [print] RIVM \n"},{"result":{"nanos":190202,"millis":0.190202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.870 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":470207,"millis":0.470207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":789711,"millis":0.789711,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":444106,"millis":0.444106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.290376,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","startTime":1633064326347,"refId":"[1.46:67]","endTime":1633064326871,"exampleData":{"datasetIdentifierCode":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18"},"exampleIndex":45},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.446 karate.env system property was: null \n"},{"result":{"nanos":38301,"millis":0.038301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73101,"millis":0.073101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":323005,"millis":0.323005,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":494907,"millis":0.494907,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":261604,"millis":0.261604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":115602,"millis":0.115602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513422856,"millis":513.422856,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":387505,"millis":0.387505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":426205,"millis":0.426205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":473106,"millis":0.473106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391805,"millis":0.391805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":440406,"millis":0.440406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":409005,"millis":0.409005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":303904,"millis":0.303904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":356605,"millis":0.356605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":344204,"millis":0.344204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73101,"millis":0.073101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":382106,"millis":0.382106,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.965 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":395005,"millis":0.395005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159803,"millis":0.159803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.966 [print] #notpresent \n"},{"result":{"nanos":694209,"millis":0.694209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":156702,"millis":0.156702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.967 [print] OGC:WMS \n"},{"result":{"nanos":139502,"millis":0.139502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":275304,"millis":0.275304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.967 [print] #notpresent \n"},{"result":{"nanos":391205,"millis":0.391205,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84401,"millis":0.084401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.968 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":258504,"millis":0.258504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.968 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":535407,"millis":0.535407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":705009,"millis":0.705009,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":474207,"millis":0.474207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.342389,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","startTime":1633064326445,"refId":"[1.47:67]","endTime":1633064326970,"exampleData":{"datasetIdentifierCode":"82fa284e-8218-40e4-a593-c2f8a832c3d5"},"exampleIndex":46},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.470 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230103,"millis":0.230103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48501,"millis":0.048501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335505,"millis":0.335505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67901,"millis":0.067901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9301,"millis":0.009301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":150702,"millis":0.150702,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543278860,"millis":543.27886,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":371205,"millis":0.371205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":434206,"millis":0.434206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":414406,"millis":0.414406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":417906,"millis":0.417906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":441906,"millis":0.441906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":453806,"millis":0.453806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31201,"millis":0.031201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363805,"millis":0.363805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":322404,"millis":0.322404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":406305,"millis":0.406305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":270203,"millis":0.270203,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":267904,"millis":0.267904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.019 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":632809,"millis":0.632809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":327204,"millis":0.327204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.020 [print] OGC:WMS \n"},{"result":{"nanos":424505,"millis":0.424505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":246503,"millis":0.246503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.020 [print] #notpresent \n"},{"result":{"nanos":40701,"millis":0.040701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":252103,"millis":0.252103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.021 [print] OGC:WMS \n"},{"result":{"nanos":14804301,"millis":14.804301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":420406,"millis":0.420406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.036 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":134002,"millis":0.134002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.036 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":520107,"millis":0.520107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":693110,"millis":0.69311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":5403873,"millis":5.403873,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":572.460257,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","startTime":1633064326469,"refId":"[1.48:67]","endTime":1633064327043,"exampleData":{"datasetIdentifierCode":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7"},"exampleIndex":47},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.742 karate.env system property was: null \n"},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81201,"millis":0.081201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":362205,"millis":0.362205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":406206,"millis":0.406206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51301,"millis":0.051301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":110302,"millis":0.110302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31301,"millis":0.031301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521629167,"millis":521.629167,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":698010,"millis":0.69801,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":436106,"millis":0.436106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":426906,"millis":0.426906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":407505,"millis":0.407505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":661609,"millis":0.661609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":560707,"millis":0.560707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98301,"millis":0.098301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":411706,"millis":0.411706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421706,"millis":0.421706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":542707,"millis":0.542707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":263903,"millis":0.263903,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":431306,"millis":0.431306,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.271 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":667709,"millis":0.667709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":204102,"millis":0.204102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.272 [print] OGC:WMS \n"},{"result":{"nanos":440706,"millis":0.440706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":160702,"millis":0.160702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.273 [print] #notpresent \n"},{"result":{"nanos":95401,"millis":0.095401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145502,"millis":0.145502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.273 [print] OGC:WMS \n"},{"result":{"nanos":415705,"millis":0.415705,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150702,"millis":0.150702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.273 [print] Beheer PDOK \n"},{"result":{"nanos":168402,"millis":0.168402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.274 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":410406,"millis":0.410406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":741710,"millis":0.74171,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":603508,"millis":0.603508,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.586812,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3d01c1ca-973c-4652-baa5-39458bb9e181","startTime":1633064326742,"refId":"[1.49:67]","endTime":1633064327275,"exampleData":{"datasetIdentifierCode":"3d01c1ca-973c-4652-baa5-39458bb9e181"},"exampleIndex":48},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.873 karate.env system property was: null \n"},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62601,"millis":0.062601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68901,"millis":0.068901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229103,"millis":0.229103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51001,"millis":0.051001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":353905,"millis":0.353905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118602,"millis":0.118602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71601,"millis":0.071601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521259962,"millis":521.259962,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":629508,"millis":0.629508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":478207,"millis":0.478207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":470506,"millis":0.470506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":449306,"millis":0.449306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":743210,"millis":0.74321,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":651509,"millis":0.651509,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":173203,"millis":0.173203,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":515207,"millis":0.515207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":429106,"millis":0.429106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":426306,"millis":0.426306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":576408,"millis":0.576408,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":396605,"millis":0.396605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.402 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n"},{"result":{"nanos":956613,"millis":0.956613,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":398905,"millis":0.398905,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.406 [print] #notpresent \n"},{"result":{"nanos":2461834,"millis":2.461834,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":405005,"millis":0.405005,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.409 [print] INSPIRE Atom \n"},{"result":{"nanos":111401,"millis":0.111401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":327805,"millis":0.327805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.409 [print] #notpresent \n"},{"result":{"nanos":414806,"millis":0.414806,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":286404,"millis":0.286404,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.410 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":201203,"millis":0.201203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.410 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":1859325,"millis":1.859325,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":591508,"millis":0.591508,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":582508,"millis":0.582508,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.942877,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","startTime":1633064326873,"refId":"[1.50:67]","endTime":1633064327413,"exampleData":{"datasetIdentifierCode":"efb5222c-112a-4c57-9bbf-f2af918cb9b5"},"exampleIndex":49},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.972 karate.env system property was: null \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54801,"millis":0.054801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64901,"millis":0.064901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":227303,"millis":0.227303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363505,"millis":0.363505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45201,"millis":0.045201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109802,"millis":0.109802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56101,"millis":0.056101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526818437,"millis":526.818437,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":584208,"millis":0.584208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":401705,"millis":0.401705,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":423206,"millis":0.423206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":390306,"millis":0.390306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":589408,"millis":0.589408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":610708,"millis":0.610708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":149402,"millis":0.149402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":747410,"millis":0.74741,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":471306,"millis":0.471306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":467507,"millis":0.467507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":475006,"millis":0.475006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":503506,"millis":0.503506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.507 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":441906,"millis":0.441906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":206103,"millis":0.206103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.507 [print] #notpresent \n"},{"result":{"nanos":483406,"millis":0.483406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":227603,"millis":0.227603,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.508 [print] OGC:WMS \n"},{"result":{"nanos":113402,"millis":0.113402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":460106,"millis":0.460106,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.508 [print] #notpresent \n"},{"result":{"nanos":508707,"millis":0.508707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":417306,"millis":0.417306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.510 [print] RIVM \n"},{"result":{"nanos":330805,"millis":0.330805,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.510 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":436406,"millis":0.436406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1183116,"millis":1.183116,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":446906,"millis":0.446906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.000603,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","startTime":1633064326972,"refId":"[1.51:67]","endTime":1633064327512,"exampleData":{"datasetIdentifierCode":"7dc30aed-0940-4e69-b34c-9f24b34078eb"},"exampleIndex":50},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67200,"millis":0.0672,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.048 karate.env system property was: null \n"},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":189902,"millis":0.189902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":178403,"millis":0.178403,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":364505,"millis":0.364505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":154602,"millis":0.154602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":654509,"millis":0.654509,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":120502,"millis":0.120502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":460006,"millis":0.460006,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33201,"millis":0.033201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30401,"millis":0.030401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510048010,"millis":510.04801,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":501807,"millis":0.501807,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":425306,"millis":0.425306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":387906,"millis":0.387906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":432206,"millis":0.432206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":667309,"millis":0.667309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":596608,"millis":0.596608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120601,"millis":0.120601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":656909,"millis":0.656909,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":512407,"millis":0.512407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":474907,"millis":0.474907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":388305,"millis":0.388305,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":368505,"millis":0.368505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.566 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":489607,"millis":0.489607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":353505,"millis":0.353505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.567 [print] #notpresent \n"},{"result":{"nanos":477806,"millis":0.477806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":8276412,"millis":8.276412,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.576 [print] INSPIRE Atom \n"},{"result":{"nanos":125102,"millis":0.125102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":368705,"millis":0.368705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.577 [print] #notpresent \n"},{"result":{"nanos":475107,"millis":0.475107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":303104,"millis":0.303104,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.578 [print] Beheer PDOK \n"},{"result":{"nanos":269604,"millis":0.269604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.578 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":414806,"millis":0.414806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":621709,"millis":0.621709,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":452806,"millis":0.452806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.754292,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","startTime":1633064327046,"refId":"[1.52:67]","endTime":1633064327579,"exampleData":{"datasetIdentifierCode":"641a0f48-872b-4470-b130-e3d28e6bfdfb"},"exampleIndex":51},{"sectionIndex":0,"stepResults":[{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.279 karate.env system property was: null \n"},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":216302,"millis":0.216302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":352304,"millis":0.352304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":598608,"millis":0.598608,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":234203,"millis":0.234203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":730510,"millis":0.73051,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":137402,"millis":0.137402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":244103,"millis":0.244103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":87401,"millis":0.087401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43401,"millis":0.043401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":50901,"millis":0.050901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":46001,"millis":0.046001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516378296,"millis":516.378296,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":550708,"millis":0.550708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":538807,"millis":0.538807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":502507,"millis":0.502507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":438706,"millis":0.438706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":564607,"millis":0.564607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":527507,"millis":0.527507,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":398505,"millis":0.398505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":407406,"millis":0.407406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":432806,"millis":0.432806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93602,"millis":0.093602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":794110,"millis":0.79411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.804 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n"},{"result":{"nanos":432306,"millis":0.432306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":380205,"millis":0.380205,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.805 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":470507,"millis":0.470507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":423706,"millis":0.423706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.806 [print] #notpresent \n"},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":352505,"millis":0.352505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.807 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":687510,"millis":0.68751,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":517207,"millis":0.517207,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.808 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":901513,"millis":0.901513,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.809 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":490107,"millis":0.490107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":870312,"millis":0.870312,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":461806,"millis":0.461806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.74449,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","startTime":1633064327278,"refId":"[1.53:67]","endTime":1633064327811,"exampleData":{"datasetIdentifierCode":"ebd6ea46-ee7b-432f-83c4-058c889a790d"},"exampleIndex":52},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.417 karate.env system property was: null \n"},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":173903,"millis":0.173903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":207903,"millis":0.207903,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347704,"millis":0.347704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":156902,"millis":0.156902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":506607,"millis":0.506607,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118102,"millis":0.118102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":329604,"millis":0.329604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31801,"millis":0.031801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527121941,"millis":527.121941,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":469806,"millis":0.469806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":488306,"millis":0.488306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":634308,"millis":0.634308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":580607,"millis":0.580607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":974613,"millis":0.974613,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":535807,"millis":0.535807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":352805,"millis":0.352805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":343705,"millis":0.343705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":374905,"millis":0.374905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":173402,"millis":0.173402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1057314,"millis":1.057314,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.953 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":485606,"millis":0.485606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":365005,"millis":0.365005,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.954 [print] OGC:WMS \n"},{"result":{"nanos":401805,"millis":0.401805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":291704,"millis":0.291704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.955 [print] #notpresent \n"},{"result":{"nanos":47301,"millis":0.047301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":205603,"millis":0.205603,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.955 [print] OGC:WMS \n"},{"result":{"nanos":669009,"millis":0.669009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":273004,"millis":0.273004,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.956 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":217203,"millis":0.217203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.956 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":507007,"millis":0.507007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1168716,"millis":1.168716,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":673809,"millis":0.673809,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.732923,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0426f471-f325-42ed-a775-81c397592e86","startTime":1633064327416,"refId":"[1.54:67]","endTime":1633064327959,"exampleData":{"datasetIdentifierCode":"0426f471-f325-42ed-a775-81c397592e86"},"exampleIndex":53},{"sectionIndex":0,"stepResults":[{"result":{"nanos":66201,"millis":0.066201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.515 karate.env system property was: null \n"},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":165903,"millis":0.165903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":206503,"millis":0.206503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":357905,"millis":0.357905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":186903,"millis":0.186903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":478306,"millis":0.478306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":111801,"millis":0.111801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":366205,"millis":0.366205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":66201,"millis":0.066201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67501,"millis":0.067501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":262004,"millis":0.262004,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":38501,"millis":0.038501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506373560,"millis":506.37356,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438706,"millis":0.438706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":413006,"millis":0.413006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":404605,"millis":0.404605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":385306,"millis":0.385306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":494306,"millis":0.494306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":494706,"millis":0.494706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32001,"millis":0.032001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":383905,"millis":0.383905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":489707,"millis":0.489707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":518607,"millis":0.518607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93001,"millis":0.093001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":758010,"millis":0.75801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.030 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":434005,"millis":0.434005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88901,"millis":0.088901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.030 [print] #notpresent \n"},{"result":{"nanos":451906,"millis":0.451906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":146102,"millis":0.146102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.031 [print] #notpresent \n"},{"result":{"nanos":43601,"millis":0.043601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104401,"millis":0.104401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.031 [print] #notpresent \n"},{"result":{"nanos":507406,"millis":0.507406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":256103,"millis":0.256103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.032 [print] KNMI \n"},{"result":{"nanos":199303,"millis":0.199303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.032 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":421506,"millis":0.421506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":622808,"millis":0.622808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":417205,"millis":0.417205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":517.548909,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","startTime":1633064327514,"refId":"[1.55:67]","endTime":1633064328034,"exampleData":{"datasetIdentifierCode":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0"},"exampleIndex":54},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.582 karate.env system property was: null \n"},{"result":{"nanos":39601,"millis":0.039601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56401,"millis":0.056401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":330905,"millis":0.330905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":726310,"millis":0.72631,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":267704,"millis":0.267704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518297622,"millis":518.297622,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":562008,"millis":0.562008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":498507,"millis":0.498507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":450606,"millis":0.450606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":397806,"millis":0.397806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":472806,"millis":0.472806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":501907,"millis":0.501907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31501,"millis":0.031501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":359605,"millis":0.359605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421206,"millis":0.421206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":434506,"millis":0.434506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73001,"millis":0.073001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":525307,"millis":0.525307,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.107 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":383906,"millis":0.383906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143502,"millis":0.143502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.108 [print] OGC:WMS \n"},{"result":{"nanos":396205,"millis":0.396205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70301,"millis":0.070301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.108 [print] #notpresent \n"},{"result":{"nanos":121402,"millis":0.121402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":207903,"millis":0.207903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.109 [print] OGC:WMS \n"},{"result":{"nanos":455006,"millis":0.455006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":73901,"millis":0.073901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.109 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":309604,"millis":0.309604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.110 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":644109,"millis":0.644109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":778111,"millis":0.778111,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":499207,"millis":0.499207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.901169,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","startTime":1633064327581,"refId":"[1.56:67]","endTime":1633064328112,"exampleData":{"datasetIdentifierCode":"f0eb64f9-8888-42e1-9550-bf91c32da4bc"},"exampleIndex":55},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.813 karate.env system property was: null \n"},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76601,"millis":0.076601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79101,"millis":0.079101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266104,"millis":0.266104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55001,"millis":0.055001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408806,"millis":0.408806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":378605,"millis":0.378605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526232729,"millis":526.232729,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":562608,"millis":0.562608,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":588108,"millis":0.588108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417805,"millis":0.417805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":378606,"millis":0.378606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":463806,"millis":0.463806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":397806,"millis":0.397806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":307905,"millis":0.307905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":312704,"millis":0.312704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":322804,"millis":0.322804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70401,"millis":0.070401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":138902,"millis":0.138902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.346 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":518707,"millis":0.518707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":192902,"millis":0.192902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.346 [print] OGC:WFS \n"},{"result":{"nanos":374505,"millis":0.374505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":179302,"millis":0.179302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.347 [print] INSPIRE Atom \n"},{"result":{"nanos":43001,"millis":0.043001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82501,"millis":0.082501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.347 [print] OGC:WFS \n"},{"result":{"nanos":389305,"millis":0.389305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":172403,"millis":0.172403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.348 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.348 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":480606,"millis":0.480606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":869911,"millis":0.869911,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":494606,"millis":0.494606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.628055,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","startTime":1633064327813,"refId":"[1.57:67]","endTime":1633064328350,"exampleData":{"datasetIdentifierCode":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5"},"exampleIndex":56},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.962 karate.env system property was: null \n"},{"result":{"nanos":36701,"millis":0.036701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":610808,"millis":0.610808,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":6112083,"millis":6.112083,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":240303,"millis":0.240303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23901,"millis":0.023901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61401,"millis":0.061401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524031299,"millis":524.031299,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":660909,"millis":0.660909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":516807,"millis":0.516807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":452706,"millis":0.452706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":424406,"millis":0.424406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":482806,"millis":0.482806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446706,"millis":0.446706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":477607,"millis":0.477607,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":460406,"millis":0.460406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":435605,"millis":0.435605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":182302,"millis":0.182302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171703,"millis":0.171703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.498 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n"},{"result":{"nanos":489107,"millis":0.489107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109901,"millis":0.109901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.500 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":458406,"millis":0.458406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99301,"millis":0.099301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.500 [print] #notpresent \n"},{"result":{"nanos":46301,"millis":0.046301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":143902,"millis":0.143902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.501 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":431106,"millis":0.431106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":113702,"millis":0.113702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.501 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":85001,"millis":0.085001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.501 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":435706,"millis":0.435706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":719210,"millis":0.71921,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":413406,"millis":0.413406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.762112,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","startTime":1633064327961,"refId":"[1.58:67]","endTime":1633064328503,"exampleData":{"datasetIdentifierCode":"c99b1291-c51f-49c8-902d-5bd4148cbbde"},"exampleIndex":57},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.036 karate.env system property was: null \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64801,"millis":0.064801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":256904,"millis":0.256904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1025014,"millis":1.025014,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":722010,"millis":0.72201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":143002,"millis":0.143002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":51101,"millis":0.051101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":163102,"millis":0.163102,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":13701,"millis":0.013701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516115792,"millis":516.115792,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":584808,"millis":0.584808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":421406,"millis":0.421406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":362705,"millis":0.362705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":359605,"millis":0.359605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":423806,"millis":0.423806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":391805,"millis":0.391805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":305604,"millis":0.305604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337405,"millis":0.337405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":398705,"millis":0.398705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82802,"millis":0.082802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":749010,"millis":0.74901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.560 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":344305,"millis":0.344305,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97901,"millis":0.097901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.561 [print] #notpresent \n"},{"result":{"nanos":383306,"millis":0.383306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":156002,"millis":0.156002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.561 [print] OGC:WFS \n"},{"result":{"nanos":80401,"millis":0.080401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":134802,"millis":0.134802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.561 [print] #notpresent \n"},{"result":{"nanos":439706,"millis":0.439706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":135302,"millis":0.135302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.562 [print] RIVM \n"},{"result":{"nanos":111502,"millis":0.111502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.562 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":393305,"millis":0.393305,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":689610,"millis":0.68961,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":396205,"millis":0.396205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.60954,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","startTime":1633064328036,"refId":"[1.59:67]","endTime":1633064328564,"exampleData":{"datasetIdentifierCode":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288"},"exampleIndex":58},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.114 karate.env system property was: null \n"},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263604,"millis":0.263604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":555307,"millis":0.555307,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121702,"millis":0.121702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":104801,"millis":0.104801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":8501,"millis":0.008501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511762533,"millis":511.762533,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":544208,"millis":0.544208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":432606,"millis":0.432606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":421206,"millis":0.421206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":428906,"millis":0.428906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":544107,"millis":0.544107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436006,"millis":0.436006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":334005,"millis":0.334005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":334205,"millis":0.334205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":368105,"millis":0.368105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108501,"millis":0.108501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153203,"millis":0.153203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.633 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms? \n"},{"result":{"nanos":471406,"millis":0.471406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.633 [print] #notpresent \n"},{"result":{"nanos":484807,"millis":0.484807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114902,"millis":0.114902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.634 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":93501,"millis":0.093501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":130702,"millis":0.130702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.634 [print] #notpresent \n"},{"result":{"nanos":489007,"millis":0.489007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96201,"millis":0.096201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.635 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":168702,"millis":0.168702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.635 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":668209,"millis":0.668209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3860353,"millis":3.860353,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":592508,"millis":0.592508,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.624109,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"49ff0584-a173-4098-824c-119edf8447f7","startTime":1633064328114,"refId":"[1.60:67]","endTime":1633064328640,"exampleData":{"datasetIdentifierCode":"49ff0584-a173-4098-824c-119edf8447f7"},"exampleIndex":59},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.352 karate.env system property was: null \n"},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":77101,"millis":0.077101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":210603,"millis":0.210603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":384306,"millis":0.384306,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462106,"millis":0.462106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75901,"millis":0.075901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104402,"millis":0.104402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":38601,"millis":0.038601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20701,"millis":0.020701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54201,"millis":0.054201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":581609379,"millis":581.609379,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":512507,"millis":0.512507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":380605,"millis":0.380605,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389505,"millis":0.389505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":375105,"millis":0.375105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":449006,"millis":0.449006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":390705,"millis":0.390705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":340405,"millis":0.340405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":315104,"millis":0.315104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":772111,"millis":0.772111,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118602,"millis":0.118602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":391805,"millis":0.391805,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.940 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":469107,"millis":0.469107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88001,"millis":0.088001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.941 [print] OGC:WFS \n"},{"result":{"nanos":331305,"millis":0.331305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65001,"millis":0.065001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.941 [print] #notpresent \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.941 [print] OGC:WFS \n"},{"result":{"nanos":375005,"millis":0.375005,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90702,"millis":0.090702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.942 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.942 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":401105,"millis":0.401105,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":875412,"millis":0.875412,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":456506,"millis":0.456506,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":591.008209,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","startTime":1633064328352,"refId":"[1.61:67]","endTime":1633064328944,"exampleData":{"datasetIdentifierCode":"c7dad4b9-42a8-452f-a33b-d4938ed22142"},"exampleIndex":60},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.505 karate.env system property was: null \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62001,"millis":0.062001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":267604,"millis":0.267604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":381605,"millis":0.381605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42201,"millis":0.042201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55001,"millis":0.055001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538304293,"millis":538.304293,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":395706,"millis":0.395706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":404905,"millis":0.404905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":391906,"millis":0.391906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":411005,"millis":0.411005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":475906,"millis":0.475906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":438106,"millis":0.438106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":335704,"millis":0.335704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337804,"millis":0.337804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":333005,"millis":0.333005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83601,"millis":0.083601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":878212,"millis":0.878212,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.050 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":394606,"millis":0.394606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117502,"millis":0.117502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.050 [print] #notpresent \n"},{"result":{"nanos":828111,"millis":0.828111,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":273904,"millis":0.273904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.051 [print] #notpresent \n"},{"result":{"nanos":51601,"millis":0.051601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96102,"millis":0.096102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.052 [print] #notpresent \n"},{"result":{"nanos":498507,"millis":0.498507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":113301,"millis":0.113301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.052 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":151102,"millis":0.151102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.052 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":679309,"millis":0.679309,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":625709,"millis":0.625709,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":514207,"millis":0.514207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.277631,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","startTime":1633064328505,"refId":"[1.62:67]","endTime":1633064329054,"exampleData":{"datasetIdentifierCode":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b"},"exampleIndex":61},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20701,"millis":0.020701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.566 karate.env system property was: null \n"},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64901,"millis":0.064901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":253404,"millis":0.253404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405405,"millis":0.405405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41401,"millis":0.041401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116501,"millis":0.116501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528149955,"millis":528.149955,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":420705,"millis":0.420705,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":383206,"millis":0.383206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":351804,"millis":0.351804,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":416805,"millis":0.416805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":510607,"millis":0.510607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":493506,"millis":0.493506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":330605,"millis":0.330605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346904,"millis":0.346904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":316704,"millis":0.316704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102701,"millis":0.102701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":499406,"millis":0.499406,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.100 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":371005,"millis":0.371005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":92301,"millis":0.092301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.101 [print] #notpresent \n"},{"result":{"nanos":937213,"millis":0.937213,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121102,"millis":0.121102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.102 [print] OGC:WFS \n"},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73801,"millis":0.073801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.102 [print] #notpresent \n"},{"result":{"nanos":751411,"millis":0.751411,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118701,"millis":0.118701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.103 [print] RIVM \n"},{"result":{"nanos":604509,"millis":0.604509,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.104 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":442906,"millis":0.442906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1089715,"millis":1.089715,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":411406,"millis":0.411406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.583392,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","startTime":1633064328566,"refId":"[1.63:67]","endTime":1633064329106,"exampleData":{"datasetIdentifierCode":"ff8f6da2-949e-4838-90f6-fd895a4a240f"},"exampleIndex":62},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.643 karate.env system property was: null \n"},{"result":{"nanos":37501,"millis":0.037501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62901,"millis":0.062901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93701,"millis":0.093701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":295704,"millis":0.295704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415606,"millis":0.415606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43101,"millis":0.043101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":410405,"millis":0.410405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":502681410,"millis":502.68141,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":330305,"millis":0.330305,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":353305,"millis":0.353305,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":370805,"millis":0.370805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":426906,"millis":0.426906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":404806,"millis":0.404806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":458106,"millis":0.458106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":360904,"millis":0.360904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":354004,"millis":0.354004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":408405,"millis":0.408405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78601,"millis":0.078601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134401,"millis":0.134401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.152 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":398205,"millis":0.398205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":82101,"millis":0.082101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.152 [print] OGC:WMS \n"},{"result":{"nanos":355405,"millis":0.355405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72401,"millis":0.072401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.153 [print] #notpresent \n"},{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122902,"millis":0.122902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.153 [print] OGC:WMS \n"},{"result":{"nanos":446806,"millis":0.446806,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123802,"millis":0.123802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.153 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":53001,"millis":0.053001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.154 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":336605,"millis":0.336605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":455306,"millis":0.455306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":713210,"millis":0.71321,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":511.176625,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","startTime":1633064328642,"refId":"[1.64:67]","endTime":1633064329155,"exampleData":{"datasetIdentifierCode":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f"},"exampleIndex":63},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.946 karate.env system property was: null \n"},{"result":{"nanos":33901,"millis":0.033901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":265504,"millis":0.265504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393306,"millis":0.393306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513833576,"millis":513.833576,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":556007,"millis":0.556007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":429905,"millis":0.429905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":631508,"millis":0.631508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":352105,"millis":0.352105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":417906,"millis":0.417906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":367105,"millis":0.367105,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29901,"millis":0.029901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":461206,"millis":0.461206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":412706,"millis":0.412706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":384905,"millis":0.384905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":729309,"millis":0.729309,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":650708,"millis":0.650708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.467 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n"},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":518507,"millis":0.518507,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.468 [print] #notpresent \n"},{"result":{"nanos":360405,"millis":0.360405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":413605,"millis":0.413605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.469 [print] INSPIRE Atom \n"},{"result":{"nanos":43601,"millis":0.043601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":333105,"millis":0.333105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.469 [print] #notpresent \n"},{"result":{"nanos":405405,"millis":0.405405,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":421806,"millis":0.421806,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.470 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":632109,"millis":0.632109,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.471 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n"},{"result":{"nanos":404706,"millis":0.404706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":894512,"millis":0.894512,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":410206,"millis":0.410206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.591637,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","startTime":1633064328946,"refId":"[1.65:67]","endTime":1633064329472,"exampleData":{"datasetIdentifierCode":"7c664a91-1aa2-4923-9d17-6a43e4075f47"},"exampleIndex":64},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.057 karate.env system property was: null \n"},{"result":{"nanos":1268618,"millis":1.268618,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":83401,"millis":0.083401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":488207,"millis":0.488207,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367905,"millis":0.367905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":79901,"millis":0.079901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":625808,"millis":0.625808,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":150902,"millis":0.150902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8301,"millis":0.008301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516780124,"millis":516.780124,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438806,"millis":0.438806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":366905,"millis":0.366905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":355905,"millis":0.355905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":334904,"millis":0.334904,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":454006,"millis":0.454006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":382705,"millis":0.382705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28101,"millis":0.028101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":293604,"millis":0.293604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":365105,"millis":0.365105,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":336805,"millis":0.336805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":459006,"millis":0.459006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":464707,"millis":0.464707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.582 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":363205,"millis":0.363205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":411806,"millis":0.411806,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.583 [print] #notpresent \n"},{"result":{"nanos":362305,"millis":0.362305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":387005,"millis":0.387005,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.584 [print] OGC:WFS \n"},{"result":{"nanos":43601,"millis":0.043601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":349505,"millis":0.349505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.584 [print] #notpresent \n"},{"result":{"nanos":463206,"millis":0.463206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":807211,"millis":0.807211,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.586 [print] RIVM \n"},{"result":{"nanos":825411,"millis":0.825411,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.587 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":453906,"millis":0.453906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":655409,"millis":0.655409,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":382705,"millis":0.382705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.878603,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"03c39474-aef9-4169-95da-9890af440b14","startTime":1633064329057,"refId":"[1.66:67]","endTime":1633064329588,"exampleData":{"datasetIdentifierCode":"03c39474-aef9-4169-95da-9890af440b14"},"exampleIndex":65},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.108 karate.env system property was: null \n"},{"result":{"nanos":48901,"millis":0.048901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58401,"millis":0.058401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":78701,"millis":0.078701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263104,"millis":0.263104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":356305,"millis":0.356305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54701,"millis":0.054701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508966721,"millis":508.966721,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":421706,"millis":0.421706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":341205,"millis":0.341205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399205,"millis":0.399205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":354704,"millis":0.354704,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":515407,"millis":0.515407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":404305,"millis":0.404305,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":328904,"millis":0.328904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":415505,"millis":0.415505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":407006,"millis":0.407006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":347405,"millis":0.347405,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":437006,"millis":0.437006,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.623 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":343105,"millis":0.343105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":394805,"millis":0.394805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.624 [print] OGC:WMS \n"},{"result":{"nanos":411406,"millis":0.411406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":402006,"millis":0.402006,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.625 [print] #notpresent \n"},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":324504,"millis":0.324504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.625 [print] OGC:WMS \n"},{"result":{"nanos":361405,"millis":0.361405,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":562308,"millis":0.562308,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.626 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":734010,"millis":0.73401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.627 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":425106,"millis":0.425106,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":428906,"millis":0.428906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368205,"millis":0.368205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.251762,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","startTime":1633064329108,"refId":"[1.67:67]","endTime":1633064329628,"exampleData":{"datasetIdentifierCode":"97b49056-8ace-426c-ae3e-bf7efe4c000f"},"exampleIndex":66},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.157 karate.env system property was: null \n"},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43001,"millis":0.043001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197503,"millis":0.197503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376905,"millis":0.376905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70001,"millis":0.070001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509120826,"millis":509.120826,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":353505,"millis":0.353505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":375505,"millis":0.375505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":352105,"millis":0.352105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":432906,"millis":0.432906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":446706,"millis":0.446706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":391005,"millis":0.391005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":408005,"millis":0.408005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":363405,"millis":0.363405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":333105,"millis":0.333105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62101,"millis":0.062101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":794411,"millis":0.794411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.672 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":387505,"millis":0.387505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99501,"millis":0.099501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.672 [print] #notpresent \n"},{"result":{"nanos":581208,"millis":0.581208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":79601,"millis":0.079601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.673 [print] OGC:WMS \n"},{"result":{"nanos":277204,"millis":0.277204,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65001,"millis":0.065001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.673 [print] #notpresent \n"},{"result":{"nanos":680010,"millis":0.68001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97101,"millis":0.097101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.674 [print] RIVM \n"},{"result":{"nanos":319105,"millis":0.319105,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.674 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":878612,"millis":0.878612,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":565608,"millis":0.565608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":500607,"millis":0.500607,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.018963,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"95e2c712-1b91-4f24-9453-c56b95227717","startTime":1633064329157,"refId":"[1.68:67]","endTime":1633064329676,"exampleData":{"datasetIdentifierCode":"95e2c712-1b91-4f24-9453-c56b95227717"},"exampleIndex":67},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.475 karate.env system property was: null \n"},{"result":{"nanos":33301,"millis":0.033301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246803,"millis":0.246803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50501,"millis":0.050501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":366405,"millis":0.366405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":343405,"millis":0.343405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7001,"millis":0.007001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513167084,"millis":513.167084,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6401,"millis":0.006401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":829911,"millis":0.829911,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":624009,"millis":0.624009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":428206,"millis":0.428206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":382505,"millis":0.382505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":468706,"millis":0.468706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":387805,"millis":0.387805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":336005,"millis":0.336005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":324404,"millis":0.324404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":365705,"millis":0.365705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88601,"millis":0.088601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":840911,"millis":0.840911,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.995 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":343904,"millis":0.343904,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97201,"millis":0.097201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.996 [print] #notpresent \n"},{"result":{"nanos":678009,"millis":0.678009,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92602,"millis":0.092602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.996 [print] INSPIRE Atom \n"},{"result":{"nanos":353505,"millis":0.353505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":346405,"millis":0.346405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.997 [print] #notpresent \n"},{"result":{"nanos":400705,"millis":0.400705,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":98702,"millis":0.098702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.998 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":899212,"millis":0.899212,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.998 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":546508,"millis":0.546508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":795311,"millis":0.795311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386306,"millis":0.386306,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.663742,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c47e4ef8-951e-4765-8d01-29150c12a22d","startTime":1633064329474,"refId":"[1.69:67]","endTime":1633064330000,"exampleData":{"datasetIdentifierCode":"c47e4ef8-951e-4765-8d01-29150c12a22d"},"exampleIndex":68},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.591 karate.env system property was: null \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64801,"millis":0.064801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":284104,"millis":0.284104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52701,"millis":0.052701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375105,"millis":0.375105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41001,"millis":0.041001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":361605,"millis":0.361605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":501507,"millis":0.501507,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508219817,"millis":508.219817,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":577407,"millis":0.577407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":520207,"millis":0.520207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":428006,"millis":0.428006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":451506,"millis":0.451506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":523207,"millis":0.523207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":485807,"millis":0.485807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32701,"millis":0.032701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":458306,"millis":0.458306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":369805,"millis":0.369805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":378206,"millis":0.378206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85301,"millis":0.085301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174202,"millis":0.174202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.106 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":623708,"millis":0.623708,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95902,"millis":0.095902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.107 [print] OGC:WFS \n"},{"result":{"nanos":494607,"millis":0.494607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144302,"millis":0.144302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.107 [print] INSPIRE Atom \n"},{"result":{"nanos":134702,"millis":0.134702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":282204,"millis":0.282204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.108 [print] OGC:WFS \n"},{"result":{"nanos":524507,"millis":0.524507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148502,"millis":0.148502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.109 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":251103,"millis":0.251103,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.109 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":585908,"millis":0.585908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":716910,"millis":0.71691,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":597409,"millis":0.597409,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.251069,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"37308f90-e619-4b62-ae9e-e656bb3f1649","startTime":1633064329590,"refId":"[1.70:67]","endTime":1633064330111,"exampleData":{"datasetIdentifierCode":"37308f90-e619-4b62-ae9e-e656bb3f1649"},"exampleIndex":69},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21200,"millis":0.0212,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.630 karate.env system property was: null \n"},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":207603,"millis":0.207603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46701,"millis":0.046701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376305,"millis":0.376305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40201,"millis":0.040201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":332205,"millis":0.332205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":503374051,"millis":503.374051,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":369605,"millis":0.369605,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":384806,"millis":0.384806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":350405,"millis":0.350405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":347404,"millis":0.347404,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":402005,"millis":0.402005,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":427206,"millis":0.427206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30401,"millis":0.030401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":313404,"millis":0.313404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":407706,"millis":0.407706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":391305,"millis":0.391305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100302,"millis":0.100302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":144302,"millis":0.144302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.139 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":489207,"millis":0.489207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":168902,"millis":0.168902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.139 [print] OGC:WMS \n"},{"result":{"nanos":436406,"millis":0.436406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129801,"millis":0.129801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.140 [print] #notpresent \n"},{"result":{"nanos":42901,"millis":0.042901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.140 [print] OGC:WMS \n"},{"result":{"nanos":431106,"millis":0.431106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":181703,"millis":0.181703,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.141 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":76001,"millis":0.076001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.141 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":650109,"millis":0.650109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":509607,"millis":0.509607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":865912,"millis":0.865912,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":512.362875,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e29b19de-d191-47f2-b944-5056a7674cce","startTime":1633064329629,"refId":"[1.71:67]","endTime":1633064330143,"exampleData":{"datasetIdentifierCode":"e29b19de-d191-47f2-b944-5056a7674cce"},"exampleIndex":70},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.678 karate.env system property was: null \n"},{"result":{"nanos":49301,"millis":0.049301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57701,"millis":0.057701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":193603,"millis":0.193603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":351405,"millis":0.351405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520256481,"millis":520.256481,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":408106,"millis":0.408106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":430706,"millis":0.430706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":563008,"millis":0.563008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":432306,"millis":0.432306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":410206,"millis":0.410206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":421506,"millis":0.421506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":308605,"millis":0.308605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":319204,"millis":0.319204,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":314405,"millis":0.314405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":290704,"millis":0.290704,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.205 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":414506,"millis":0.414506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118601,"millis":0.118601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.205 [print] #notpresent \n"},{"result":{"nanos":367005,"millis":0.367005,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139602,"millis":0.139602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.206 [print] OGC:WFS \n"},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104602,"millis":0.104602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.206 [print] #notpresent \n"},{"result":{"nanos":400705,"millis":0.400705,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118602,"millis":0.118602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.206 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":66601,"millis":0.066601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.207 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":466406,"millis":0.466406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":554808,"millis":0.554808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":393506,"millis":0.393506,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.439696,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","startTime":1633064329678,"refId":"[1.72:67]","endTime":1633064330208,"exampleData":{"datasetIdentifierCode":"fa3ecd49-4571-4eb3-84f3-2865f42934b2"},"exampleIndex":71},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.002 karate.env system property was: null \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247003,"millis":0.247003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375906,"millis":0.375906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58101,"millis":0.058101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":293804,"millis":0.293804,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21601,"millis":0.021601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":552207916,"millis":552.207916,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":687010,"millis":0.68701,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":429606,"millis":0.429606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":359205,"millis":0.359205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":343405,"millis":0.343405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":740010,"millis":0.74001,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":498007,"millis":0.498007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":127502,"millis":0.127502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356105,"millis":0.356105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":370605,"millis":0.370605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402406,"millis":0.402406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":172402,"millis":0.172402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":549808,"millis":0.549808,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.562 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":395805,"millis":0.395805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":136901,"millis":0.136901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.562 [print] INSPIRE Atom \n"},{"result":{"nanos":585108,"millis":0.585108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":198102,"millis":0.198102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.563 [print] #notpresent \n"},{"result":{"nanos":261203,"millis":0.261203,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":180903,"millis":0.180903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.564 [print] INSPIRE Atom \n"},{"result":{"nanos":445906,"millis":0.445906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":188403,"millis":0.188403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.564 [print] Beheer PDOK \n"},{"result":{"nanos":423406,"millis":0.423406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.565 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":537807,"millis":0.537807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596808,"millis":0.596808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":562.924262,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","startTime":1633064330002,"refId":"[1.73:67]","endTime":1633064330566,"exampleData":{"datasetIdentifierCode":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f"},"exampleIndex":72},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.114 karate.env system property was: null \n"},{"result":{"nanos":46501,"millis":0.046501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":306604,"millis":0.306604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456506,"millis":0.456506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21601,"millis":0.021601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74601,"millis":0.074601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":8701,"millis":0.008701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537021109,"millis":537.021109,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":577008,"millis":0.577008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":446606,"millis":0.446606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":452206,"millis":0.452206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":413305,"millis":0.413305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":653509,"millis":0.653509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":709210,"millis":0.70921,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110802,"millis":0.110802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":404306,"millis":0.404306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":766410,"millis":0.76641,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":468307,"millis":0.468307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138402,"millis":0.138402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":484706,"millis":0.484706,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.658 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":471006,"millis":0.471006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":153202,"millis":0.153202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.659 [print] OGC:WMS \n"},{"result":{"nanos":719010,"millis":0.71901,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":165503,"millis":0.165503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.660 [print] #notpresent \n"},{"result":{"nanos":95801,"millis":0.095801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131102,"millis":0.131102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.660 [print] OGC:WMS \n"},{"result":{"nanos":598708,"millis":0.598708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":191402,"millis":0.191402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.661 [print] Beheer PDOK \n"},{"result":{"nanos":120202,"millis":0.120202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.661 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n"},{"result":{"nanos":587708,"millis":0.587708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":523907,"millis":0.523907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428306,"millis":0.428306,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.177462,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d293204f-6581-4b0a-811b-1dcce97adedd","startTime":1633064330113,"refId":"[1.74:67]","endTime":1633064330663,"exampleData":{"datasetIdentifierCode":"d293204f-6581-4b0a-811b-1dcce97adedd"},"exampleIndex":73},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.145 karate.env system property was: null \n"},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213302,"millis":0.213302,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":406106,"millis":0.406106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42501,"millis":0.042501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59101,"millis":0.059101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541451969,"millis":541.451969,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":422605,"millis":0.422605,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":372805,"millis":0.372805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":330704,"millis":0.330704,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":322205,"millis":0.322205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":521307,"millis":0.521307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":492207,"millis":0.492207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84801,"millis":0.084801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":406506,"millis":0.406506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":381405,"millis":0.381405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":363805,"millis":0.363805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127901,"millis":0.127901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":436506,"millis":0.436506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.692 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":713309,"millis":0.713309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148402,"millis":0.148402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.693 [print] #notpresent \n"},{"result":{"nanos":694309,"millis":0.694309,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":152302,"millis":0.152302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.694 [print] INSPIRE Atom \n"},{"result":{"nanos":490607,"millis":0.490607,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":140002,"millis":0.140002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.695 [print] #notpresent \n"},{"result":{"nanos":767011,"millis":0.767011,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":178702,"millis":0.178702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.696 [print] Beheer PDOK \n"},{"result":{"nanos":394205,"millis":0.394205,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.696 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":1101415,"millis":1.101415,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526008,"millis":0.526008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":469906,"millis":0.469906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.630517,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"66805d91-a5f6-4265-bd36-ef13a429c97e","startTime":1633064330145,"refId":"[1.75:67]","endTime":1633064330698,"exampleData":{"datasetIdentifierCode":"66805d91-a5f6-4265-bd36-ef13a429c97e"},"exampleIndex":74},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.210 karate.env system property was: null \n"},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54101,"millis":0.054101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228803,"millis":0.228803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":72901,"millis":0.072901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363105,"millis":0.363105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60201,"millis":0.060201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66501,"millis":0.066501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18801,"millis":0.018801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59101,"millis":0.059101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529238903,"millis":529.238903,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":420206,"millis":0.420206,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":438706,"millis":0.438706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":443606,"millis":0.443606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":355204,"millis":0.355204,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":508106,"millis":0.508106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":497006,"millis":0.497006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89101,"millis":0.089101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":405205,"millis":0.405205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":412605,"millis":0.412605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":411106,"millis":0.411106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155002,"millis":0.155002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":911512,"millis":0.911512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.746 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n"},{"result":{"nanos":515907,"millis":0.515907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":166703,"millis":0.166703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.747 [print] #notpresent \n"},{"result":{"nanos":892012,"millis":0.892012,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":229103,"millis":0.229103,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.748 [print] OGC:SOS \n"},{"result":{"nanos":436905,"millis":0.436905,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":228803,"millis":0.228803,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.749 [print] #notpresent \n"},{"result":{"nanos":1037714,"millis":1.037714,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":199303,"millis":0.199303,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.750 [print] RIVM \n"},{"result":{"nanos":548908,"millis":0.548908,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.750 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n"},{"result":{"nanos":2266231,"millis":2.266231,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":552907,"millis":0.552907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":747611,"millis":0.747611,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.220291,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","startTime":1633064330210,"refId":"[1.76:67]","endTime":1633064330754,"exampleData":{"datasetIdentifierCode":"f39d198a-1e69-43cc-b359-cc60a8c22d28"},"exampleIndex":75},{"sectionIndex":0,"stepResults":[{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.569 karate.env system property was: null \n"},{"result":{"nanos":45301,"millis":0.045301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138002,"millis":0.138002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":140802,"millis":0.140802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":325305,"millis":0.325305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":153902,"millis":0.153902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":488007,"millis":0.488007,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118201,"millis":0.118201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":129502,"millis":0.129502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":200803,"millis":0.200803,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":62901,"millis":0.062901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30401,"millis":0.030401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":29901,"millis":0.029901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513200985,"millis":513.200985,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":449406,"millis":0.449406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":389905,"millis":0.389905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":358705,"millis":0.358705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":371905,"millis":0.371905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":453807,"millis":0.453807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":360805,"millis":0.360805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":306804,"millis":0.306804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306504,"millis":0.306504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":296104,"millis":0.296104,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":579708,"millis":0.579708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.089 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n"},{"result":{"nanos":329504,"millis":0.329504,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81401,"millis":0.081401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.089 [print] OGC:WMS \n"},{"result":{"nanos":541408,"millis":0.541408,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78001,"millis":0.078001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.090 [print] #notpresent \n"},{"result":{"nanos":275804,"millis":0.275804,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68501,"millis":0.068501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.090 [print] OGC:WMS \n"},{"result":{"nanos":762710,"millis":0.76271,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102001,"millis":0.102001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.091 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":833911,"millis":0.833911,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.092 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":415005,"millis":0.415005,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":832112,"millis":0.832112,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386105,"millis":0.386105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.942831,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","startTime":1633064330568,"refId":"[1.77:67]","endTime":1633064331094,"exampleData":{"datasetIdentifierCode":"2d1860f2-f8ba-457e-bd64-93cdabd69aee"},"exampleIndex":76},{"sectionIndex":0,"stepResults":[{"result":{"nanos":79701,"millis":0.079701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.666 karate.env system property was: null \n"},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":135902,"millis":0.135902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":180403,"millis":0.180403,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340004,"millis":0.340004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":213002,"millis":0.213002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":439706,"millis":0.439706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":102301,"millis":0.102301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":127402,"millis":0.127402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":300204,"millis":0.300204,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36301,"millis":0.036301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36901,"millis":0.036901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516095424,"millis":516.095424,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":437906,"millis":0.437906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":382505,"millis":0.382505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":385406,"millis":0.385406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":393205,"millis":0.393205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":423306,"millis":0.423306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":408106,"millis":0.408106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46601,"millis":0.046601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":417906,"millis":0.417906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":310204,"millis":0.310204,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":300704,"millis":0.300704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68701,"millis":0.068701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":551407,"millis":0.551407,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.189 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":461806,"millis":0.461806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89401,"millis":0.089401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.190 [print] #notpresent \n"},{"result":{"nanos":342505,"millis":0.342505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77501,"millis":0.077501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.191 [print] OGC:WMS \n"},{"result":{"nanos":34201,"millis":0.034201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":41801,"millis":0.041801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.191 [print] #notpresent \n"},{"result":{"nanos":441506,"millis":0.441506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63001,"millis":0.063001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.191 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":84501,"millis":0.084501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.191 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":753110,"millis":0.75311,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1168416,"millis":1.168416,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":461506,"millis":0.461506,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.452665,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","startTime":1633064330665,"refId":"[1.78:67]","endTime":1633064331194,"exampleData":{"datasetIdentifierCode":"7b4a0b26-5885-45cd-a99d-27887cff68e5"},"exampleIndex":77},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60201,"millis":0.060201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.700 karate.env system property was: null \n"},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116002,"millis":0.116002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":132402,"millis":0.132402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":280404,"millis":0.280404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":198803,"millis":0.198803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":972313,"millis":0.972313,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":126002,"millis":0.126002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126802,"millis":0.126802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":322504,"millis":0.322504,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32101,"millis":0.032101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":42901,"millis":0.042901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531280731,"millis":531.280731,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":571607,"millis":0.571607,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":490407,"millis":0.490407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":448706,"millis":0.448706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":411305,"millis":0.411305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":437206,"millis":0.437206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":434606,"millis":0.434606,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33001,"millis":0.033001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":391305,"millis":0.391305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":381305,"millis":0.381305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":311204,"millis":0.311204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82202,"millis":0.082202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":208903,"millis":0.208903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.239 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":496306,"millis":0.496306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89801,"millis":0.089801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.240 [print] #notpresent \n"},{"result":{"nanos":542107,"millis":0.542107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76502,"millis":0.076502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.240 [print] INSPIRE Atom \n"},{"result":{"nanos":122901,"millis":0.122901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96201,"millis":0.096201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.241 [print] #notpresent \n"},{"result":{"nanos":525407,"millis":0.525407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66101,"millis":0.066101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.241 [print] Beheer PDOK \n"},{"result":{"nanos":134502,"millis":0.134502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.241 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":514407,"millis":0.514407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":991313,"millis":0.991313,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":655109,"millis":0.655109,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.416781,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","startTime":1633064330700,"refId":"[1.79:67]","endTime":1633064331244,"exampleData":{"datasetIdentifierCode":"c21c6bf5-8899-4b46-8986-0f65eca05ed0"},"exampleIndex":78},{"sectionIndex":0,"stepResults":[{"result":{"nanos":160403,"millis":0.160403,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.756 karate.env system property was: null \n"},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":264003,"millis":0.264003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":164703,"millis":0.164703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":454706,"millis":0.454706,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":173402,"millis":0.173402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":556407,"millis":0.556407,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":122502,"millis":0.122502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":146402,"millis":0.146402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":402206,"millis":0.402206,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58701,"millis":0.058701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":29501,"millis":0.029501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527649582,"millis":527.649582,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":414806,"millis":0.414806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":395805,"millis":0.395805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":379605,"millis":0.379605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":367005,"millis":0.367005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":423806,"millis":0.423806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":453306,"millis":0.453306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31301,"millis":0.031301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":331604,"millis":0.331604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":387106,"millis":0.387106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":420406,"millis":0.420406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69301,"millis":0.069301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":496107,"millis":0.496107,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.292 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":376305,"millis":0.376305,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":339505,"millis":0.339505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.293 [print] OGC:WFS \n"},{"result":{"nanos":527707,"millis":0.527707,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":376806,"millis":0.376806,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.294 [print] INSPIRE Atom \n"},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":424406,"millis":0.424406,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.294 [print] OGC:WFS \n"},{"result":{"nanos":614909,"millis":0.614909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":520207,"millis":0.520207,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.295 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":713810,"millis":0.71381,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.296 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":483807,"millis":0.483807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":6435287,"millis":6.435287,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":535207,"millis":0.535207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.928933,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","startTime":1633064330756,"refId":"[1.80:67]","endTime":1633064331304,"exampleData":{"datasetIdentifierCode":"72f30ca1-3b80-4020-b9ed-301b1a88df39"},"exampleIndex":79},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.096 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56801,"millis":0.056801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247803,"millis":0.247803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":358705,"millis":0.358705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":244003,"millis":0.244003,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508038715,"millis":508.038715,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":844711,"millis":0.844711,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":504207,"millis":0.504207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":487107,"millis":0.487107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":432606,"millis":0.432606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":674209,"millis":0.674209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":484106,"millis":0.484106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28901,"millis":0.028901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":489307,"millis":0.489307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":592308,"millis":0.592308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":387805,"millis":0.387805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":194602,"millis":0.194602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.611 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n"},{"result":{"nanos":468206,"millis":0.468206,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":256504,"millis":0.256504,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.612 [print] #notpresent \n"},{"result":{"nanos":433706,"millis":0.433706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":214103,"millis":0.214103,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.613 [print] INSPIRE Atom \n"},{"result":{"nanos":41101,"millis":0.041101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128101,"millis":0.128101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.613 [print] #notpresent \n"},{"result":{"nanos":434306,"millis":0.434306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":203502,"millis":0.203502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.614 [print] RDW \n"},{"result":{"nanos":133601,"millis":0.133601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.614 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n"},{"result":{"nanos":415806,"millis":0.415806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":807211,"millis":0.807211,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":461707,"millis":0.461707,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.518157,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","startTime":1633064331096,"refId":"[1.81:67]","endTime":1633064331615,"exampleData":{"datasetIdentifierCode":"b85d4a0a-c0f7-42f4-9316-b214d205ca38"},"exampleIndex":80},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.196 karate.env system property was: null \n"},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231203,"millis":0.231203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":362804,"millis":0.362804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59101,"millis":0.059101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531991541,"millis":531.991541,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":402506,"millis":0.402506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":432606,"millis":0.432606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":406705,"millis":0.406705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":433206,"millis":0.433206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":402106,"millis":0.402106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":371505,"millis":0.371505,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25401,"millis":0.025401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":286004,"millis":0.286004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":282104,"millis":0.282104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":299904,"millis":0.299904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116602,"millis":0.116602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.733 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":311004,"millis":0.311004,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101201,"millis":0.101201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.733 [print] #notpresent \n"},{"result":{"nanos":360805,"millis":0.360805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73101,"millis":0.073101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.734 [print] OGC:WFS \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78101,"millis":0.078101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.734 [print] #notpresent \n"},{"result":{"nanos":414605,"millis":0.414605,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87301,"millis":0.087301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.735 [print] RIVM \n"},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.735 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":545708,"millis":0.545708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":693610,"millis":0.69361,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":512907,"millis":0.512907,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.941047,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","startTime":1633064331196,"refId":"[1.82:67]","endTime":1633064331737,"exampleData":{"datasetIdentifierCode":"0606e8cb-fa51-402c-a3be-19fd724b0a10"},"exampleIndex":81},{"sectionIndex":0,"stepResults":[{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.246 karate.env system property was: null \n"},{"result":{"nanos":44401,"millis":0.044401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57101,"millis":0.057101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":258103,"millis":0.258103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":345205,"millis":0.345205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85501,"millis":0.085501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48001,"millis":0.048001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523818829,"millis":523.818829,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":329004,"millis":0.329004,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":433106,"millis":0.433106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":334905,"millis":0.334905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":364005,"millis":0.364005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":367005,"millis":0.367005,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":351305,"millis":0.351305,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":281403,"millis":0.281403,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":283103,"millis":0.283103,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":319904,"millis":0.319904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98701,"millis":0.098701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":899713,"millis":0.899713,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.775 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":341805,"millis":0.341805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":132001,"millis":0.132001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.776 [print] INSPIRE Atom \n"},{"result":{"nanos":791910,"millis":0.79191,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70301,"millis":0.070301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.776 [print] #notpresent \n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":333305,"millis":0.333305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.777 [print] INSPIRE Atom \n"},{"result":{"nanos":634909,"millis":0.634909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78601,"millis":0.078601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.778 [print] Beheer PDOK \n"},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.778 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":1106815,"millis":1.106815,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":437306,"millis":0.437306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":372705,"millis":0.372705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.360357,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","startTime":1633064331245,"refId":"[1.83:67]","endTime":1633064331780,"exampleData":{"datasetIdentifierCode":"88a337a9-bed3-4d79-80fa-ff4b45990d7d"},"exampleIndex":82},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.306 karate.env system property was: null \n"},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52001,"millis":0.052001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60001,"millis":0.060001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225203,"millis":0.225203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368705,"millis":0.368705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37301,"millis":0.037301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":336204,"millis":0.336204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519339768,"millis":519.339768,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":373105,"millis":0.373105,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":385306,"millis":0.385306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":405005,"millis":0.405005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":728210,"millis":0.72821,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":555007,"millis":0.555007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":429906,"millis":0.429906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27801,"millis":0.027801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":337505,"millis":0.337505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":347204,"millis":0.347204,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":393005,"millis":0.393005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":115802,"millis":0.115802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":421506,"millis":0.421506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.832 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n"},{"result":{"nanos":402306,"millis":0.402306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110002,"millis":0.110002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.833 [print] OGC:WCS \n"},{"result":{"nanos":354204,"millis":0.354204,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":109902,"millis":0.109902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.833 [print] #notpresent \n"},{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":108401,"millis":0.108401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.834 [print] OGC:WCS \n"},{"result":{"nanos":396705,"millis":0.396705,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":145702,"millis":0.145702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.835 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":434006,"millis":0.434006,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.835 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":441506,"millis":0.441506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":463406,"millis":0.463406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":427906,"millis":0.427906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.602094,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","startTime":1633064331305,"refId":"[1.84:67]","endTime":1633064331837,"exampleData":{"datasetIdentifierCode":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0"},"exampleIndex":83},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.618 karate.env system property was: null \n"},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":92701,"millis":0.092701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66601,"millis":0.066601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315405,"millis":0.315405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":449306,"millis":0.449306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":221903,"millis":0.221903,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79001,"millis":0.079001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515716419,"millis":515.716419,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":450907,"millis":0.450907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":352505,"millis":0.352505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":353205,"millis":0.353205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":400405,"millis":0.400405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":459507,"millis":0.459507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":357705,"millis":0.357705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":327305,"millis":0.327305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321704,"millis":0.321704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":288204,"millis":0.288204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":535908,"millis":0.535908,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":563907,"millis":0.563907,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.140 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":333904,"millis":0.333904,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":485007,"millis":0.485007,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.141 [print] INSPIRE Atom \n"},{"result":{"nanos":334905,"millis":0.334905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":395905,"millis":0.395905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.141 [print] #notpresent \n"},{"result":{"nanos":44201,"millis":0.044201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":70901,"millis":0.070901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.142 [print] INSPIRE Atom \n"},{"result":{"nanos":874012,"millis":0.874012,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":169502,"millis":0.169502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.143 [print] Beheer PDOK \n"},{"result":{"nanos":767110,"millis":0.76711,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.143 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":439006,"millis":0.439006,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":917012,"millis":0.917012,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":407605,"millis":0.407605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.82357,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","startTime":1633064331617,"refId":"[1.85:67]","endTime":1633064332146,"exampleData":{"datasetIdentifierCode":"cb13a608-3d78-4f79-ba60-be63ccd6e268"},"exampleIndex":84},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.738 karate.env system property was: null \n"},{"result":{"nanos":27801,"millis":0.027801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47801,"millis":0.047801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221903,"millis":0.221903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399305,"millis":0.399305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68801,"millis":0.068801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535573789,"millis":535.573789,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":406505,"millis":0.406505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":344205,"millis":0.344205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":354605,"millis":0.354605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391805,"millis":0.391805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":416105,"millis":0.416105,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":354005,"millis":0.354005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34001,"millis":0.034001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":336705,"millis":0.336705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":291004,"millis":0.291004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":286604,"millis":0.286604,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":761310,"millis":0.76131,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.279 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":322304,"millis":0.322304,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.280 [print] INSPIRE Atom \n"},{"result":{"nanos":620609,"millis":0.620609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110801,"millis":0.110801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.281 [print] #notpresent \n"},{"result":{"nanos":311004,"millis":0.311004,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137302,"millis":0.137302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.281 [print] INSPIRE Atom \n"},{"result":{"nanos":881312,"millis":0.881312,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":406806,"millis":0.406806,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.282 [print] Beheer PDOK \n"},{"result":{"nanos":640509,"millis":0.640509,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.283 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":696809,"millis":0.696809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":753311,"millis":0.753311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385205,"millis":0.385205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.04113,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"deaf8380-ad45-48d2-8c3e-81164471bafb","startTime":1633064331738,"refId":"[1.86:67]","endTime":1633064332285,"exampleData":{"datasetIdentifierCode":"deaf8380-ad45-48d2-8c3e-81164471bafb"},"exampleIndex":85},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.781 karate.env system property was: null \n"},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":298104,"millis":0.298104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354305,"millis":0.354305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39501,"millis":0.039501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89501,"millis":0.089501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":239603,"millis":0.239603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":499788202,"millis":499.788202,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":448006,"millis":0.448006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":625308,"millis":0.625308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":374305,"millis":0.374305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":324004,"millis":0.324004,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":627609,"millis":0.627609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":441006,"millis":0.441006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29101,"millis":0.029101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":327304,"millis":0.327304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335705,"millis":0.335705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":351205,"millis":0.351205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":181702,"millis":0.181702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":154702,"millis":0.154702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.287 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":321804,"millis":0.321804,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":184403,"millis":0.184403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.288 [print] INSPIRE Atom \n"},{"result":{"nanos":431406,"millis":0.431406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":338705,"millis":0.338705,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.289 [print] #notpresent \n"},{"result":{"nanos":60401,"millis":0.060401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":172602,"millis":0.172602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.289 [print] INSPIRE Atom \n"},{"result":{"nanos":562708,"millis":0.562708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":275904,"millis":0.275904,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.290 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":233803,"millis":0.233803,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.290 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":498806,"millis":0.498806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":540707,"millis":0.540707,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":369705,"millis":0.369705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":509.32403,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"77971fa3-f869-4726-969a-482e0b1a8c5d","startTime":1633064331781,"refId":"[1.87:67]","endTime":1633064332292,"exampleData":{"datasetIdentifierCode":"77971fa3-f869-4726-969a-482e0b1a8c5d"},"exampleIndex":86},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.839 karate.env system property was: null \n"},{"result":{"nanos":61201,"millis":0.061201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54401,"millis":0.054401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214103,"millis":0.214103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47001,"millis":0.047001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330505,"millis":0.330505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":320205,"millis":0.320205,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520375982,"millis":520.375982,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":342504,"millis":0.342504,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":459406,"millis":0.459406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417906,"millis":0.417906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":386705,"millis":0.386705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":452506,"millis":0.452506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":419605,"millis":0.419605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25801,"millis":0.025801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":306104,"millis":0.306104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":294504,"millis":0.294504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":435006,"millis":0.435006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86202,"millis":0.086202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":392605,"millis":0.392605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.365 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":425106,"millis":0.425106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":151302,"millis":0.151302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.366 [print] INSPIRE Atom \n"},{"result":{"nanos":383506,"millis":0.383506,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71001,"millis":0.071001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.366 [print] #notpresent \n"},{"result":{"nanos":102001,"millis":0.102001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231503,"millis":0.231503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.367 [print] INSPIRE Atom \n"},{"result":{"nanos":423506,"millis":0.423506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.367 [print] Beheer PDOK \n"},{"result":{"nanos":177702,"millis":0.177702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.367 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":513207,"millis":0.513207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":506507,"millis":0.506507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":395305,"millis":0.395305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.102501,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","startTime":1633064331838,"refId":"[1.88:67]","endTime":1633064332369,"exampleData":{"datasetIdentifierCode":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507"},"exampleIndex":87},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.148 karate.env system property was: null \n"},{"result":{"nanos":31201,"millis":0.031201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62101,"millis":0.062101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254903,"millis":0.254903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51201,"millis":0.051201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":389705,"millis":0.389705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":414106,"millis":0.414106,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527913185,"millis":527.913185,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":525207,"millis":0.525207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":355105,"millis":0.355105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":356105,"millis":0.356105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":378906,"millis":0.378906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435706,"millis":0.435706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":335104,"millis":0.335104,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":275604,"millis":0.275604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":272104,"millis":0.272104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":281504,"millis":0.281504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110101,"millis":0.110101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":147302,"millis":0.147302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.681 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":334305,"millis":0.334305,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":133502,"millis":0.133502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.682 [print] INSPIRE Atom \n"},{"result":{"nanos":361405,"millis":0.361405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65301,"millis":0.065301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.682 [print] #notpresent \n"},{"result":{"nanos":50001,"millis":0.050001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75901,"millis":0.075901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.682 [print] INSPIRE Atom \n"},{"result":{"nanos":481907,"millis":0.481907,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76301,"millis":0.076301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.683 [print] Beheer PDOK \n"},{"result":{"nanos":76101,"millis":0.076101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.683 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":370505,"millis":0.370505,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723409,"millis":0.723409,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":480106,"millis":0.480106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.083697,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","startTime":1633064332147,"refId":"[1.89:67]","endTime":1633064332685,"exampleData":{"datasetIdentifierCode":"555f668f-63b4-47ef-a666-f12d71c2cc4a"},"exampleIndex":88},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.288 karate.env system property was: null \n"},{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":94901,"millis":0.094901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":877212,"millis":0.877212,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":336904,"millis":0.336904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":860712,"millis":0.860712,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44401,"millis":0.044401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106601,"millis":0.106601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515935122,"millis":515.935122,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":352505,"millis":0.352505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":448606,"millis":0.448606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":414906,"millis":0.414906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":325404,"millis":0.325404,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":366305,"millis":0.366305,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":345804,"millis":0.345804,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":387005,"millis":0.387005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335805,"millis":0.335805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309004,"millis":0.309004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116201,"millis":0.116201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":349805,"millis":0.349805,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.812 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":314604,"millis":0.314604,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109502,"millis":0.109502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.813 [print] INSPIRE Atom \n"},{"result":{"nanos":355905,"millis":0.355905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":147402,"millis":0.147402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.814 [print] #notpresent \n"},{"result":{"nanos":311904,"millis":0.311904,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147302,"millis":0.147302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.814 [print] INSPIRE Atom \n"},{"result":{"nanos":451006,"millis":0.451006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116102,"millis":0.116102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.815 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":716410,"millis":0.71641,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.815 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":431406,"millis":0.431406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":567908,"millis":0.567908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423105,"millis":0.423105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.393163,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","startTime":1633064332288,"refId":"[1.90:67]","endTime":1633064332817,"exampleData":{"datasetIdentifierCode":"13e4dff0-1e80-11e2-81c1-0800200c9a66"},"exampleIndex":89},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.293 karate.env system property was: null \n"},{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63101,"millis":0.063101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61101,"millis":0.061101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":405306,"millis":0.405306,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":406806,"millis":0.406806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":159403,"millis":0.159403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545878529,"millis":545.878529,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":359604,"millis":0.359604,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":394805,"millis":0.394805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367305,"millis":0.367305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":333205,"millis":0.333205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":377005,"millis":0.377005,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":384005,"millis":0.384005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":286604,"millis":0.286604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":288204,"millis":0.288204,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":368705,"millis":0.368705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":446806,"millis":0.446806,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":490107,"millis":0.490107,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.845 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n"},{"result":{"nanos":329104,"millis":0.329104,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":380506,"millis":0.380506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.846 [print] #notpresent \n"},{"result":{"nanos":354105,"millis":0.354105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":360805,"millis":0.360805,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.847 [print] INSPIRE Atom \n"},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":390705,"millis":0.390705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.847 [print] #notpresent \n"},{"result":{"nanos":479907,"millis":0.479907,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":599008,"millis":0.599008,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.848 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":1092015,"millis":1.092015,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.849 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":609508,"millis":0.609508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":597608,"millis":0.597608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":478706,"millis":0.478706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":557.098082,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ef2a7962-8bb4-483f-ac78-851b619f357f","startTime":1633064332293,"refId":"[1.91:67]","endTime":1633064332851,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ac78-851b619f357f"},"exampleIndex":90},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.371 karate.env system property was: null \n"},{"result":{"nanos":47101,"millis":0.047101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70201,"millis":0.070201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60801,"millis":0.060801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225003,"millis":0.225003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376805,"millis":0.376805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37601,"millis":0.037601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516970835,"millis":516.970835,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":362405,"millis":0.362405,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":402005,"millis":0.402005,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":563608,"millis":0.563608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":393406,"millis":0.393406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":457906,"millis":0.457906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":393806,"millis":0.393806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":370705,"millis":0.370705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":366505,"millis":0.366505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":307005,"millis":0.307005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57201,"millis":0.057201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":78701,"millis":0.078701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.893 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":605108,"millis":0.605108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":250304,"millis":0.250304,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.894 [print] #notpresent \n"},{"result":{"nanos":355905,"millis":0.355905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":286704,"millis":0.286704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.895 [print] INSPIRE Atom \n"},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":313704,"millis":0.313704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.895 [print] #notpresent \n"},{"result":{"nanos":500507,"millis":0.500507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":287004,"millis":0.287004,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.896 [print] Beheer PDOK \n"},{"result":{"nanos":197903,"millis":0.197903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.896 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n"},{"result":{"nanos":461406,"millis":0.461406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":611109,"millis":0.611109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":895812,"millis":0.895812,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.62267,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","startTime":1633064332370,"refId":"[1.92:67]","endTime":1633064332898,"exampleData":{"datasetIdentifierCode":"e27e61d8-25b1-45ee-a2df-071312ba8a69"},"exampleIndex":91},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.687 karate.env system property was: null \n"},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57401,"millis":0.057401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61201,"millis":0.061201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":257004,"millis":0.257004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":534407,"millis":0.534407,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37401,"millis":0.037401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104901,"millis":0.104901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51301,"millis":0.051301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520064178,"millis":520.064178,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":568007,"millis":0.568007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":512907,"millis":0.512907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":370705,"millis":0.370705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":362505,"millis":0.362505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":499107,"millis":0.499107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":397705,"millis":0.397705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297904,"millis":0.297904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":296504,"millis":0.296504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":419206,"millis":0.419206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80101,"millis":0.080101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":817812,"millis":0.817812,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.213 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":420906,"millis":0.420906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":389305,"millis":0.389305,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.214 [print] OGC:WFS \n"},{"result":{"nanos":361905,"millis":0.361905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":359505,"millis":0.359505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.215 [print] INSPIRE Atom \n"},{"result":{"nanos":41201,"millis":0.041201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":315304,"millis":0.315304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.215 [print] OGC:WFS \n"},{"result":{"nanos":387405,"millis":0.387405,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":371205,"millis":0.371205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.216 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":636209,"millis":0.636209,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.217 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":390805,"millis":0.390805,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":694410,"millis":0.69441,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":455706,"millis":0.455706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.818225,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"01572637-b851-4cc3-b06a-56c1ae1115cc","startTime":1633064332687,"refId":"[1.93:67]","endTime":1633064333218,"exampleData":{"datasetIdentifierCode":"01572637-b851-4cc3-b06a-56c1ae1115cc"},"exampleIndex":92},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.819 karate.env system property was: null \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55801,"millis":0.055801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197503,"millis":0.197503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":314205,"millis":0.314205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":83202,"millis":0.083202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520710787,"millis":520.710787,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":481207,"millis":0.481207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":448206,"millis":0.448206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":460806,"millis":0.460806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":491306,"millis":0.491306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":534507,"millis":0.534507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":382105,"millis":0.382105,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":141602,"millis":0.141602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":470407,"millis":0.470407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":415306,"millis":0.415306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":382005,"millis":0.382005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86402,"millis":0.086402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100901,"millis":0.100901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.346 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":996914,"millis":0.996914,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118602,"millis":0.118602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.347 [print] #notpresent \n"},{"result":{"nanos":404105,"millis":0.404105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84902,"millis":0.084902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.348 [print] OGC:WFS \n"},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":89702,"millis":0.089702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.348 [print] #notpresent \n"},{"result":{"nanos":565308,"millis":0.565308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88601,"millis":0.088601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.349 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":82701,"millis":0.082701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.349 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":463407,"millis":0.463407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2204530,"millis":2.20453,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1056314,"millis":1.056314,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.302247,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"542b330b-d3c6-4617-b97f-693e5cfd1872","startTime":1633064332819,"refId":"[1.94:67]","endTime":1633064333352,"exampleData":{"datasetIdentifierCode":"542b330b-d3c6-4617-b97f-693e5cfd1872"},"exampleIndex":93},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.853 karate.env system property was: null \n"},{"result":{"nanos":27101,"millis":0.027101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45601,"millis":0.045601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197502,"millis":0.197502,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42001,"millis":0.042001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336605,"millis":0.336605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":356405,"millis":0.356405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525321549,"millis":525.321549,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":572007,"millis":0.572007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":506807,"millis":0.506807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":539207,"millis":0.539207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":807811,"millis":0.807811,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":520707,"millis":0.520707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":661009,"millis":0.661009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":382105,"millis":0.382105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":505007,"millis":0.505007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":345004,"millis":0.345004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":854511,"millis":0.854511,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":565608,"millis":0.565608,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.386 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":393906,"millis":0.393906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":461406,"millis":0.461406,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.387 [print] #notpresent \n"},{"result":{"nanos":428906,"millis":0.428906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":489907,"millis":0.489907,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.388 [print] #notpresent \n"},{"result":{"nanos":61101,"millis":0.061101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":488207,"millis":0.488207,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.389 [print] #notpresent \n"},{"result":{"nanos":694709,"millis":0.694709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":514407,"millis":0.514407,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.390 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":622608,"millis":0.622608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.391 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1147516,"millis":1.147516,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":774310,"millis":0.77431,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":810811,"millis":0.810811,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.740044,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a149d97f-0d55-462e-9956-5b47bea00a8d","startTime":1633064332852,"refId":"[1.95:67]","endTime":1633064333393,"exampleData":{"datasetIdentifierCode":"a149d97f-0d55-462e-9956-5b47bea00a8d"},"exampleIndex":94},{"sectionIndex":0,"stepResults":[{"result":{"nanos":305205,"millis":0.305205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.900 karate.env system property was: null \n"},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":152002,"millis":0.152002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":183002,"millis":0.183002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42001,"millis":0.042001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":309804,"millis":0.309804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34301,"millis":0.034301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":563007,"millis":0.563007,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521143993,"millis":521.143993,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":394606,"millis":0.394606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":35017776,"millis":35.017776,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":776310,"millis":0.77631,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":372905,"millis":0.372905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":839311,"millis":0.839311,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":508806,"millis":0.508806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95501,"millis":0.095501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":352805,"millis":0.352805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":463806,"millis":0.463806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":498006,"millis":0.498006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":164803,"millis":0.164803,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1109815,"millis":1.109815,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.464 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":470807,"millis":0.470807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":260703,"millis":0.260703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.465 [print] INSPIRE Atom \n"},{"result":{"nanos":380706,"millis":0.380706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":213303,"millis":0.213303,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.465 [print] #notpresent \n"},{"result":{"nanos":101901,"millis":0.101901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":167503,"millis":0.167503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.465 [print] INSPIRE Atom \n"},{"result":{"nanos":627908,"millis":0.627908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":273604,"millis":0.273604,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.466 [print] Beheer PDOK \n"},{"result":{"nanos":317905,"millis":0.317905,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.467 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":533707,"millis":0.533707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2534235,"millis":2.534235,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":739110,"millis":0.73911,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":570.182358,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","startTime":1633064332899,"refId":"[1.96:67]","endTime":1633064333471,"exampleData":{"datasetIdentifierCode":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9"},"exampleIndex":95},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.221 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54701,"millis":0.054701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225603,"millis":0.225603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44901,"millis":0.044901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379805,"millis":0.379805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52501,"millis":0.052501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523636227,"millis":523.636227,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":619708,"millis":0.619708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":399906,"millis":0.399906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":394905,"millis":0.394905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":400606,"millis":0.400606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":666709,"millis":0.666709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":774611,"millis":0.774611,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97101,"millis":0.097101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":381605,"millis":0.381605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":401505,"millis":0.401505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":403306,"millis":0.403306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":606308,"millis":0.606308,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":720210,"millis":0.72021,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.752 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":436406,"millis":0.436406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":437106,"millis":0.437106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.753 [print] OGC:WFS \n"},{"result":{"nanos":416606,"millis":0.416606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":541308,"millis":0.541308,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.754 [print] #notpresent \n"},{"result":{"nanos":137402,"millis":0.137402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":477706,"millis":0.477706,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.755 [print] OGC:WFS \n"},{"result":{"nanos":383406,"millis":0.383406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":502707,"millis":0.502707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.756 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":691909,"millis":0.691909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.756 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":365005,"millis":0.365005,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":527608,"millis":0.527608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":340304,"millis":0.340304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.097799,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","startTime":1633064333220,"refId":"[1.97:67]","endTime":1633064333757,"exampleData":{"datasetIdentifierCode":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2"},"exampleIndex":96},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.356 karate.env system property was: null \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":281104,"millis":0.281104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393506,"millis":0.393506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":357605,"millis":0.357605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55001,"millis":0.055001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540190052,"millis":540.190052,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":443606,"millis":0.443606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":406306,"millis":0.406306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":401605,"millis":0.401605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":368905,"millis":0.368905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":576107,"millis":0.576107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":553407,"millis":0.553407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":101201,"millis":0.101201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":381405,"millis":0.381405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":401706,"millis":0.401706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":477206,"millis":0.477206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155002,"millis":0.155002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":212203,"millis":0.212203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.902 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":445506,"millis":0.445506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159402,"millis":0.159402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.903 [print] OGC:WFS \n"},{"result":{"nanos":387206,"millis":0.387206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":134402,"millis":0.134402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.904 [print] #notpresent \n"},{"result":{"nanos":122302,"millis":0.122302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138902,"millis":0.138902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.904 [print] OGC:WFS \n"},{"result":{"nanos":400505,"millis":0.400505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":184503,"millis":0.184503,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.904 [print] Beheer PDOK \n"},{"result":{"nanos":157002,"millis":0.157002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.905 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":413606,"millis":0.413606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":500207,"millis":0.500207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":393205,"millis":0.393205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":549.529278,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"6b608d4e-5628-4d59-97fc-0322c57357b2","startTime":1633064333355,"refId":"[1.98:67]","endTime":1633064333906,"exampleData":{"datasetIdentifierCode":"6b608d4e-5628-4d59-97fc-0322c57357b2"},"exampleIndex":97},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.396 karate.env system property was: null \n"},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266704,"millis":0.266704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":446206,"millis":0.446206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":371105,"millis":0.371105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20801,"millis":0.020801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74701,"millis":0.074701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd0b60508-5bf5-4360-b34a-875f10a9a711'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519483970,"millis":519.48397,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1501,"millis":0.001501,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438106,"millis":0.438106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd0b60508-5bf5-4360-b34a-875f10a9a711'"}},{"result":{"nanos":315204,"millis":0.315204,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":296204,"millis":0.296204,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":405506,"millis":0.405506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":487007,"millis":0.487007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":399805,"millis":0.399805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":79101,"millis":0.079101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":438306,"millis":0.438306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":428706,"millis":0.428706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":421806,"millis":0.421806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":828311,"millis":0.828311,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184303,"millis":0.184303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.922 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":683709,"millis":0.683709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":422406,"millis":0.422406,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.923 [print] INSPIRE Atom \n"},{"result":{"nanos":365905,"millis":0.365905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":412506,"millis":0.412506,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.924 [print] #notpresent \n"},{"result":{"nanos":95001,"millis":0.095001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":434306,"millis":0.434306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.925 [print] INSPIRE Atom \n"},{"result":{"nanos":359805,"millis":0.359805,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":459006,"millis":0.459006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.926 [print] Beheer PDOK \n"},{"result":{"nanos":686209,"millis":0.686209,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.926 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":328505,"millis":0.328505,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":400705,"millis":0.400705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":381205,"millis":0.381205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.728326,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d0b60508-5bf5-4360-b34a-875f10a9a711","startTime":1633064333395,"refId":"[1.99:67]","endTime":1633064333927,"exampleData":{"datasetIdentifierCode":"d0b60508-5bf5-4360-b34a-875f10a9a711"},"exampleIndex":98},{"sectionIndex":0,"stepResults":[{"result":{"nanos":165602,"millis":0.165602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.476 karate.env system property was: null \n"},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":228403,"millis":0.228403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":145002,"millis":0.145002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":404605,"millis":0.404605,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":175602,"millis":0.175602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":665109,"millis":0.665109,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":102302,"millis":0.102302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":162302,"millis":0.162302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":38101,"millis":0.038101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516451829,"millis":516.451829,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":319905,"millis":0.319905,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":343005,"millis":0.343005,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":349704,"millis":0.349704,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":334204,"millis":0.334204,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":382505,"millis":0.382505,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":339304,"millis":0.339304,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":266404,"millis":0.266404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":269804,"millis":0.269804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328404,"millis":0.328404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81401,"millis":0.081401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":222504,"millis":0.222504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.998 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":512507,"millis":0.512507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78501,"millis":0.078501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.999 [print] OGC:WFS \n"},{"result":{"nanos":372205,"millis":0.372205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60301,"millis":0.060301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.999 [print] #notpresent \n"},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":200503,"millis":0.200503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.000 [print] OGC:WFS \n"},{"result":{"nanos":354605,"millis":0.354605,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62701,"millis":0.062701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.000 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":92201,"millis":0.092201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.000 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":419406,"millis":0.419406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":560208,"millis":0.560208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":394905,"millis":0.394905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.214246,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"91041d33-54f8-40f1-8965-a867ba00cab8","startTime":1633064333475,"refId":"[1.100:67]","endTime":1633064334002,"exampleData":{"datasetIdentifierCode":"91041d33-54f8-40f1-8965-a867ba00cab8"},"exampleIndex":99},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55601,"millis":0.055601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.761 karate.env system property was: null \n"},{"result":{"nanos":42001,"millis":0.042001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133102,"millis":0.133102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":132602,"millis":0.132602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":310004,"millis":0.310004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":145402,"millis":0.145402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":463506,"millis":0.463506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109801,"millis":0.109801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":427706,"millis":0.427706,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66201,"millis":0.066201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58801,"millis":0.058801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49a53bc1-dd76-417f-b9af-066901ddfec0'"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513255685,"millis":513.255685,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":459606,"millis":0.459606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49a53bc1-dd76-417f-b9af-066901ddfec0'"}},{"result":{"nanos":356405,"millis":0.356405,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":454106,"millis":0.454106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":411405,"millis":0.411405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":408606,"millis":0.408606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1358918,"millis":1.358918,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":317004,"millis":0.317004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":293604,"millis":0.293604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":283104,"millis":0.283104,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":712610,"millis":0.71261,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.281 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/download\/feature\/amplitude-getij_IDS?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":397705,"millis":0.397705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99102,"millis":0.099102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.282 [print] OGC:WCS \n"},{"result":{"nanos":800511,"millis":0.800511,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.283 [print] #notpresent \n"},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":336805,"millis":0.336805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.283 [print] OGC:WCS \n"},{"result":{"nanos":763610,"millis":0.76361,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144302,"millis":0.144302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.284 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":93501,"millis":0.093501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.284 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":369205,"millis":0.369205,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1498821,"millis":1.498821,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349805,"millis":0.349805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.549152,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"49a53bc1-dd76-417f-b9af-066901ddfec0","startTime":1633064333760,"refId":"[1.101:67]","endTime":1633064334287,"exampleData":{"datasetIdentifierCode":"49a53bc1-dd76-417f-b9af-066901ddfec0"},"exampleIndex":100},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53801,"millis":0.053801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.908 karate.env system property was: null \n"},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116602,"millis":0.116602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125302,"millis":0.125302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":380205,"millis":0.380205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":178003,"millis":0.178003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442906,"millis":0.442906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":214903,"millis":0.214903,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":192203,"millis":0.192203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":109701,"millis":0.109701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25601,"millis":0.025601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":494877835,"millis":494.877835,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":540808,"millis":0.540808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":401805,"millis":0.401805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":438106,"millis":0.438106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":380506,"millis":0.380506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433206,"millis":0.433206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":389005,"millis":0.389005,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24601,"millis":0.024601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":300304,"millis":0.300304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":302104,"millis":0.302104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":308404,"millis":0.308404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":286304,"millis":0.286304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.410 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n"},{"result":{"nanos":421905,"millis":0.421905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109802,"millis":0.109802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.410 [print] OGC:WFS \n"},{"result":{"nanos":350805,"millis":0.350805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.411 [print] #notpresent \n"},{"result":{"nanos":32301,"millis":0.032301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99101,"millis":0.099101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.411 [print] OGC:WFS \n"},{"result":{"nanos":469906,"millis":0.469906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.411 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":117101,"millis":0.117101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.411 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":475807,"millis":0.475807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":714310,"millis":0.71431,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377205,"millis":0.377205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":504.075961,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"00e8746f-5031-413e-8343-9203c8ea82ee","startTime":1633064333908,"refId":"[1.102:67]","endTime":1633064334413,"exampleData":{"datasetIdentifierCode":"00e8746f-5031-413e-8343-9203c8ea82ee"},"exampleIndex":101},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54201,"millis":0.054201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.932 karate.env system property was: null \n"},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107802,"millis":0.107802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":123902,"millis":0.123902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250103,"millis":0.250103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":136902,"millis":0.136902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":367005,"millis":0.367005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98901,"millis":0.098901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":231203,"millis":0.231203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70401,"millis":0.070401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33801,"millis":0.033801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24801,"millis":0.024801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529369305,"millis":529.369305,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":410706,"millis":0.410706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":423606,"millis":0.423606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":372005,"millis":0.372005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":385305,"millis":0.385305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":385505,"millis":0.385505,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":543307,"millis":0.543307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28201,"millis":0.028201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390005,"millis":0.390005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":348704,"millis":0.348704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":336405,"millis":0.336405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77001,"millis":0.077001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":773611,"millis":0.773611,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.468 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":407806,"millis":0.407806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110501,"millis":0.110501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.469 [print] #notpresent \n"},{"result":{"nanos":752410,"millis":0.75241,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93801,"millis":0.093801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.470 [print] OGC:WFS \n"},{"result":{"nanos":335005,"millis":0.335005,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67001,"millis":0.067001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.470 [print] #notpresent \n"},{"result":{"nanos":704810,"millis":0.70481,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":117601,"millis":0.117601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.471 [print] RIVM \n"},{"result":{"nanos":105101,"millis":0.105101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.472 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":419806,"millis":0.419806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":645509,"millis":0.645509,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":412906,"millis":0.412906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.658946,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","startTime":1633064333932,"refId":"[1.103:67]","endTime":1633064334473,"exampleData":{"datasetIdentifierCode":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed"},"exampleIndex":102},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.004 karate.env system property was: null \n"},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231903,"millis":0.231903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110602,"millis":0.110602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347504,"millis":0.347504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":124502,"millis":0.124502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513291186,"millis":513.291186,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":424006,"millis":0.424006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":375205,"millis":0.375205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":375506,"millis":0.375506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":413805,"millis":0.413805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":391506,"millis":0.391506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":380105,"millis":0.380105,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23901,"millis":0.023901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":370405,"millis":0.370405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":387705,"millis":0.387705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":295004,"millis":0.295004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61701,"millis":0.061701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.522 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":688709,"millis":0.688709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122902,"millis":0.122902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.523 [print] #notpresent \n"},{"result":{"nanos":626908,"millis":0.626908,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72901,"millis":0.072901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.524 [print] OGC:WMS \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":353105,"millis":0.353105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.524 [print] #notpresent \n"},{"result":{"nanos":393806,"millis":0.393806,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71301,"millis":0.071301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.525 [print] RIVM \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.525 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":963014,"millis":0.963014,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":579308,"millis":0.579308,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":523007,"millis":0.523007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.453612,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","startTime":1633064334003,"refId":"[1.104:67]","endTime":1633064334527,"exampleData":{"datasetIdentifierCode":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf"},"exampleIndex":103},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.290 karate.env system property was: null \n"},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74301,"millis":0.074301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62801,"millis":0.062801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":312504,"millis":0.312504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":688009,"millis":0.688009,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89301,"millis":0.089301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51401,"millis":0.051401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":589497423,"millis":589.497423,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":662809,"millis":0.662809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":464407,"millis":0.464407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":350205,"millis":0.350205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":466506,"millis":0.466506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":561908,"millis":0.561908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":444106,"millis":0.444106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35401,"millis":0.035401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":342205,"millis":0.342205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321304,"millis":0.321304,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":324205,"millis":0.324205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":859112,"millis":0.859112,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.886 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":356905,"millis":0.356905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127002,"millis":0.127002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.887 [print] INSPIRE Atom \n"},{"result":{"nanos":689409,"millis":0.689409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.887 [print] #notpresent \n"},{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":450406,"millis":0.450406,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.888 [print] INSPIRE Atom \n"},{"result":{"nanos":931313,"millis":0.931313,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116402,"millis":0.116402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.889 [print] Beheer PDOK \n"},{"result":{"nanos":811611,"millis":0.811611,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.890 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":540707,"millis":0.540707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2376133,"millis":2.376133,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389505,"millis":0.389505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":602.875807,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"54122631-d343-40be-9c28-e44626b37a0e","startTime":1633064334289,"refId":"[1.105:67]","endTime":1633064334893,"exampleData":{"datasetIdentifierCode":"54122631-d343-40be-9c28-e44626b37a0e"},"exampleIndex":104},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.415 karate.env system property was: null \n"},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85602,"millis":0.085602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373605,"millis":0.373605,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":82201,"millis":0.082201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399506,"millis":0.399506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":105401,"millis":0.105401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509917240,"millis":509.91724,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":410806,"millis":0.410806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":483607,"millis":0.483607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":638509,"millis":0.638509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":386605,"millis":0.386605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":394506,"millis":0.394506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":381305,"millis":0.381305,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":290403,"millis":0.290403,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":330604,"millis":0.330604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":365005,"millis":0.365005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":230904,"millis":0.230904,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":313704,"millis":0.313704,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.931 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":406106,"millis":0.406106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":212703,"millis":0.212703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.932 [print] #notpresent \n"},{"result":{"nanos":337704,"millis":0.337704,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":183302,"millis":0.183302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.932 [print] OGC:WMS \n"},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":154202,"millis":0.154202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.932 [print] #notpresent \n"},{"result":{"nanos":398406,"millis":0.398406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":175502,"millis":0.175502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.933 [print] RIVM \n"},{"result":{"nanos":127502,"millis":0.127502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.933 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":380605,"millis":0.380605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":470307,"millis":0.470307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":353405,"millis":0.353405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.681761,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","startTime":1633064334415,"refId":"[1.106:67]","endTime":1633064334934,"exampleData":{"datasetIdentifierCode":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda"},"exampleIndex":105},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.475 karate.env system property was: null \n"},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":192002,"millis":0.192002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":319105,"millis":0.319105,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":322704,"millis":0.322704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":477906,"millis":0.477906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":127802,"millis":0.127802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":319904,"millis":0.319904,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64501,"millis":0.064501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511706264,"millis":511.706264,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":479807,"millis":0.479807,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":486106,"millis":0.486106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":357204,"millis":0.357204,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":508307,"millis":0.508307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":553207,"millis":0.553207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":463006,"millis":0.463006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46701,"millis":0.046701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356505,"millis":0.356505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":295404,"millis":0.295404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":282204,"millis":0.282204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":210103,"millis":0.210103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":175402,"millis":0.175402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.994 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":332604,"millis":0.332604,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":217003,"millis":0.217003,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.995 [print] INSPIRE Atom \n"},{"result":{"nanos":297804,"millis":0.297804,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":179302,"millis":0.179302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.995 [print] #notpresent \n"},{"result":{"nanos":37201,"millis":0.037201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":120201,"millis":0.120201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.996 [print] INSPIRE Atom \n"},{"result":{"nanos":348404,"millis":0.348404,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":200103,"millis":0.200103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.996 [print] Beheer PDOK \n"},{"result":{"nanos":122102,"millis":0.122102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.996 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":336105,"millis":0.336105,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":527207,"millis":0.527207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":405606,"millis":0.405606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":521.093288,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","startTime":1633064334475,"refId":"[1.107:67]","endTime":1633064334998,"exampleData":{"datasetIdentifierCode":"bb85e473-c04a-42a6-9fdc-f0bb0239327e"},"exampleIndex":106},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.529 karate.env system property was: null \n"},{"result":{"nanos":45701,"millis":0.045701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55801,"millis":0.055801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55201,"millis":0.055201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":212903,"millis":0.212903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42301,"millis":0.042301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354004,"millis":0.354004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54201,"millis":0.054201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13001,"millis":0.013001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14401,"millis":0.014401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":121201,"millis":0.121201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":8501,"millis":0.008501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524445438,"millis":524.445438,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":740510,"millis":0.74051,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":634109,"millis":0.634109,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":530608,"millis":0.530608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":605208,"millis":0.605208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":748510,"millis":0.74851,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":639109,"millis":0.639109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46701,"millis":0.046701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":460906,"millis":0.460906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":482907,"millis":0.482907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":713610,"millis":0.71361,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":709710,"millis":0.70971,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":753310,"millis":0.75331,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.062 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":401305,"millis":0.401305,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":428206,"millis":0.428206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.063 [print] #notpresent \n"},{"result":{"nanos":374605,"millis":0.374605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":395606,"millis":0.395606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.064 [print] OGC:WMS \n"},{"result":{"nanos":77801,"millis":0.077801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":378005,"millis":0.378005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.064 [print] #notpresent \n"},{"result":{"nanos":460406,"millis":0.460406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":435206,"millis":0.435206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.065 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":660709,"millis":0.660709,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.066 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":680109,"millis":0.680109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":632108,"millis":0.632108,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3282545,"millis":3.282545,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.785963,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","startTime":1633064334528,"refId":"[1.108:67]","endTime":1633064335071,"exampleData":{"datasetIdentifierCode":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d"},"exampleIndex":107},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.896 karate.env system property was: null \n"},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137002,"millis":0.137002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1077315,"millis":1.077315,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":550107,"millis":0.550107,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43201,"millis":0.043201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":135002,"millis":0.135002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510888853,"millis":510.888853,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":573008,"millis":0.573008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":478107,"millis":0.478107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":479406,"millis":0.479406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":446306,"millis":0.446306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":717410,"millis":0.71741,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":554407,"millis":0.554407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25601,"millis":0.025601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":430806,"millis":0.430806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":469106,"millis":0.469106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":507506,"millis":0.507506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":515607,"millis":0.515607,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":361605,"millis":0.361605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.415 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":356605,"millis":0.356605,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":288904,"millis":0.288904,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.416 [print] #notpresent \n"},{"result":{"nanos":396405,"millis":0.396405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":374406,"millis":0.374406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.416 [print] OGC:WMS \n"},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":286903,"millis":0.286903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.417 [print] #notpresent \n"},{"result":{"nanos":601808,"millis":0.601808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":388505,"millis":0.388505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.418 [print] Beheer PDOK \n"},{"result":{"nanos":319904,"millis":0.319904,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.418 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":662309,"millis":0.662309,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1020713,"millis":1.020713,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":420705,"millis":0.420705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.858325,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6de8b875-c4c2-4469-ac80-0782bb67f285","startTime":1633064334895,"refId":"[1.109:67]","endTime":1633064335420,"exampleData":{"datasetIdentifierCode":"6de8b875-c4c2-4469-ac80-0782bb67f285"},"exampleIndex":108},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.936 karate.env system property was: null \n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42701,"millis":0.042701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216603,"millis":0.216603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":306504,"millis":0.306504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31301,"millis":0.031301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513061182,"millis":513.061182,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":382705,"millis":0.382705,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":437706,"millis":0.437706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":413706,"millis":0.413706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":449206,"millis":0.449206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433506,"millis":0.433506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":397006,"millis":0.397006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":298004,"millis":0.298004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":282104,"millis":0.282104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":336404,"millis":0.336404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":283903,"millis":0.283903,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":275104,"millis":0.275104,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.455 [print] #notpresent \n"},{"result":{"nanos":392305,"millis":0.392305,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":239203,"millis":0.239203,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.455 [print] #notpresent \n"},{"result":{"nanos":391405,"millis":0.391405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":269804,"millis":0.269804,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.456 [print] #notpresent \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":233503,"millis":0.233503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.456 [print] #notpresent \n"},{"result":{"nanos":440706,"millis":0.440706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":407406,"millis":0.407406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.457 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":259503,"millis":0.259503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.457 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":424706,"millis":0.424706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":521907,"millis":0.521907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":741110,"millis":0.74111,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.347106,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","startTime":1633064334936,"refId":"[1.110:67]","endTime":1633064335459,"exampleData":{"datasetIdentifierCode":"364c5d7a-d6ec-11ea-87d0-0242ac130003"},"exampleIndex":109},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.000 karate.env system property was: null \n"},{"result":{"nanos":26401,"millis":0.026401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":192203,"millis":0.192203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":3421047,"millis":3.421047,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":169503,"millis":0.169503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53801,"millis":0.053801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519130865,"millis":519.130865,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":435306,"millis":0.435306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":425206,"millis":0.425206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":375505,"millis":0.375505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":395305,"millis":0.395305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":493107,"millis":0.493107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":429306,"millis":0.429306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25501,"millis":0.025501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":367405,"millis":0.367405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":330504,"millis":0.330504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":504007,"millis":0.504007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":285604,"millis":0.285604,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":550708,"millis":0.550708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.528 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":397705,"millis":0.397705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72801,"millis":0.072801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.528 [print] #notpresent \n"},{"result":{"nanos":462406,"millis":0.462406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.529 [print] INSPIRE Atom \n"},{"result":{"nanos":165302,"millis":0.165302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72801,"millis":0.072801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.529 [print] #notpresent \n"},{"result":{"nanos":485006,"millis":0.485006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96502,"millis":0.096502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.530 [print] Beheer PDOK \n"},{"result":{"nanos":224703,"millis":0.224703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.530 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":705609,"millis":0.705609,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":522007,"millis":0.522007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":384705,"millis":0.384705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.555233,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","startTime":1633064334999,"refId":"[1.111:67]","endTime":1633064335532,"exampleData":{"datasetIdentifierCode":"ddf33bff-8de3-4cca-b6f5-24d18daa502f"},"exampleIndex":110},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.073 karate.env system property was: null \n"},{"result":{"nanos":30301,"millis":0.030301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":101401,"millis":0.101401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309704,"millis":0.309704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371705,"millis":0.371705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35001,"millis":0.035001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519704473,"millis":519.704473,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":531007,"millis":0.531007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":544508,"millis":0.544508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":553107,"millis":0.553107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":495407,"millis":0.495407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1231317,"millis":1.231317,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":558708,"millis":0.558708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":572507,"millis":0.572507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":527607,"millis":0.527607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":512507,"millis":0.512507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":615309,"millis":0.615309,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":716909,"millis":0.716909,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.601 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":419905,"millis":0.419905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":490706,"millis":0.490706,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.602 [print] OGC:WMS \n"},{"result":{"nanos":404906,"millis":0.404906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":430106,"millis":0.430106,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.603 [print] #notpresent \n"},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":496907,"millis":0.496907,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.604 [print] OGC:WMS \n"},{"result":{"nanos":476306,"millis":0.476306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":444406,"millis":0.444406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.604 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":722010,"millis":0.72201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.605 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":467007,"millis":0.467007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":581308,"millis":0.581308,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":413106,"millis":0.413106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.178256,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bd14098b-44e6-47e5-959d-f40dda65da5a","startTime":1633064335073,"refId":"[1.112:67]","endTime":1633064335607,"exampleData":{"datasetIdentifierCode":"bd14098b-44e6-47e5-959d-f40dda65da5a"},"exampleIndex":111},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.423 karate.env system property was: null \n"},{"result":{"nanos":31301,"millis":0.031301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":261403,"millis":0.261403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":768911,"millis":0.768911,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408806,"millis":0.408806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":233503,"millis":0.233503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":7701,"millis":0.007701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523254021,"millis":523.254021,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":506907,"millis":0.506907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":457506,"millis":0.457506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":367605,"millis":0.367605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433205,"millis":0.433205,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":581107,"millis":0.581107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":294704,"millis":0.294704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":429906,"millis":0.429906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":504307,"millis":0.504307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96502,"millis":0.096502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":221503,"millis":0.221503,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.953 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":945113,"millis":0.945113,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":421206,"millis":0.421206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.954 [print] #notpresent \n"},{"result":{"nanos":430206,"millis":0.430206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":383105,"millis":0.383105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.955 [print] OGC:WMS \n"},{"result":{"nanos":37801,"millis":0.037801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":317704,"millis":0.317704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.955 [print] #notpresent \n"},{"result":{"nanos":420606,"millis":0.420606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":355005,"millis":0.355005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.956 [print] RIVM \n"},{"result":{"nanos":537707,"millis":0.537707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.957 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":408605,"millis":0.408605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634209,"millis":0.634209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":375005,"millis":0.375005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.806978,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"745968a3-37af-4406-988e-ec595f58c7fe","startTime":1633064335422,"refId":"[1.113:67]","endTime":1633064335958,"exampleData":{"datasetIdentifierCode":"745968a3-37af-4406-988e-ec595f58c7fe"},"exampleIndex":112},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.462 karate.env system property was: null \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77301,"millis":0.077301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":212503,"millis":0.212503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":359405,"millis":0.359405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":262304,"millis":0.262304,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":393805,"millis":0.393805,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73101,"millis":0.073101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e91719b1-a139-42cf-8a1a-db78cd7477f8'"}},{"result":{"nanos":8901,"millis":0.008901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521261994,"millis":521.261994,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":482506,"millis":0.482506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e91719b1-a139-42cf-8a1a-db78cd7477f8'"}},{"result":{"nanos":403705,"millis":0.403705,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":424906,"millis":0.424906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":378005,"millis":0.378005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":436506,"millis":0.436506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":398605,"millis":0.398605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":310104,"millis":0.310104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321704,"millis":0.321704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":317404,"millis":0.317404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":522707,"millis":0.522707,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":562608,"millis":0.562608,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.990 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2009\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":386405,"millis":0.386405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":430606,"millis":0.430606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.990 [print] #notpresent \n"},{"result":{"nanos":336405,"millis":0.336405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":385505,"millis":0.385505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.991 [print] INSPIRE Atom \n"},{"result":{"nanos":38501,"millis":0.038501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":428605,"millis":0.428605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.992 [print] #notpresent \n"},{"result":{"nanos":712009,"millis":0.712009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1126415,"millis":1.126415,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.994 [print] Beheer PDOK \n"},{"result":{"nanos":1289118,"millis":1.289118,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.995 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\"] \n"},{"result":{"nanos":751910,"millis":0.75191,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1588822,"millis":1.588822,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":541307,"millis":0.541307,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.500786,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e91719b1-a139-42cf-8a1a-db78cd7477f8","startTime":1633064335461,"refId":"[1.114:67]","endTime":1633064335998,"exampleData":{"datasetIdentifierCode":"e91719b1-a139-42cf-8a1a-db78cd7477f8"},"exampleIndex":113},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.534 karate.env system property was: null \n"},{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":85201,"millis":0.085201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":219003,"millis":0.219003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":78101,"millis":0.078101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":611508,"millis":0.611508,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53501,"millis":0.053501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":78301,"millis":0.078301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":118001,"millis":0.118001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519745273,"millis":519.745273,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":518307,"millis":0.518307,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":633408,"millis":0.633408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":683309,"millis":0.683309,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":563808,"millis":0.563808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":654709,"millis":0.654709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":691310,"millis":0.69131,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":439006,"millis":0.439006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":437206,"millis":0.437206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":680709,"millis":0.680709,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88401,"millis":0.088401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":892112,"millis":0.892112,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.062 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":507907,"millis":0.507907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":414606,"millis":0.414606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.063 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":482406,"millis":0.482406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":435505,"millis":0.435505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.064 [print] #notpresent \n"},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":441006,"millis":0.441006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.064 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":620109,"millis":0.620109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":381405,"millis":0.381405,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.065 [print] Beheer PDOK \n"},{"result":{"nanos":638909,"millis":0.638909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.066 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":760211,"millis":0.760211,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":667409,"millis":0.667409,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":380505,"millis":0.380505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.319754,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d467c2cc-4026-b80a-d4e1a9d2bf79","startTime":1633064335534,"refId":"[1.115:67]","endTime":1633064336068,"exampleData":{"datasetIdentifierCode":"d467c2cc-4026-b80a-d4e1a9d2bf79"},"exampleIndex":114},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17401,"millis":0.017401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.610 karate.env system property was: null \n"},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59801,"millis":0.059801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":306705,"millis":0.306705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385606,"millis":0.385606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":405305,"millis":0.405305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74001,"millis":0.074001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517698946,"millis":517.698946,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":458407,"millis":0.458407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":464906,"millis":0.464906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":555508,"millis":0.555508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":365205,"millis":0.365205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":455206,"millis":0.455206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":401806,"millis":0.401806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":405805,"millis":0.405805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":334305,"millis":0.334305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":343705,"millis":0.343705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80001,"millis":0.080001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":118502,"millis":0.118502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.134 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":508207,"millis":0.508207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":131002,"millis":0.131002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.135 [print] OGC:WMS \n"},{"result":{"nanos":358005,"millis":0.358005,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90301,"millis":0.090301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.135 [print] #notpresent \n"},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76601,"millis":0.076601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.135 [print] OGC:WMS \n"},{"result":{"nanos":404505,"millis":0.404505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":108002,"millis":0.108002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.136 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":88901,"millis":0.088901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.136 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":405306,"millis":0.405306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":550008,"millis":0.550008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":439406,"millis":0.439406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.405867,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"87a382da-c6dc-403c-a006-2379eb6daaa6","startTime":1633064335609,"refId":"[1.116:67]","endTime":1633064336137,"exampleData":{"datasetIdentifierCode":"87a382da-c6dc-403c-a006-2379eb6daaa6"},"exampleIndex":115},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.960 karate.env system property was: null \n"},{"result":{"nanos":32201,"millis":0.032201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70301,"millis":0.070301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77101,"millis":0.077101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263904,"millis":0.263904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462106,"millis":0.462106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68101,"millis":0.068101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107302,"millis":0.107302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17401,"millis":0.017401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52101,"millis":0.052101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'beb6dd70-7834-475f-9acc-954a809dfe87'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540995563,"millis":540.995563,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":496406,"millis":0.496406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'beb6dd70-7834-475f-9acc-954a809dfe87'"}},{"result":{"nanos":421605,"millis":0.421605,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":343904,"millis":0.343904,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":569407,"millis":0.569407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":601908,"millis":0.601908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":373505,"millis":0.373505,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":304304,"millis":0.304304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":285504,"millis":0.285504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":314604,"millis":0.314604,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92202,"millis":0.092202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1088015,"millis":1.088015,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.507 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/atom\/cbsgebiedsindelingen.xml \n"},{"result":{"nanos":508607,"millis":0.508607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":474306,"millis":0.474306,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.509 [print] INSPIRE Atom \n"},{"result":{"nanos":366604,"millis":0.366604,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":435306,"millis":0.435306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.510 [print] #notpresent \n"},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":349105,"millis":0.349105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.510 [print] INSPIRE Atom \n"},{"result":{"nanos":463507,"millis":0.463507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":424306,"millis":0.424306,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.511 [print] Beheer PDOK \n"},{"result":{"nanos":626608,"millis":0.626608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.512 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":405906,"millis":0.405906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":711010,"millis":0.71101,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":397505,"millis":0.397505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.385615,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"beb6dd70-7834-475f-9acc-954a809dfe87","startTime":1633064335960,"refId":"[1.117:67]","endTime":1633064336514,"exampleData":{"datasetIdentifierCode":"beb6dd70-7834-475f-9acc-954a809dfe87"},"exampleIndex":116},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.003 karate.env system property was: null \n"},{"result":{"nanos":31501,"millis":0.031501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95201,"millis":0.095201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275903,"millis":0.275903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107701,"millis":0.107701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":531707,"millis":0.531707,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":358105,"millis":0.358105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527361378,"millis":527.361378,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":373205,"millis":0.373205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":424306,"millis":0.424306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":380505,"millis":0.380505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":371905,"millis":0.371905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":416205,"millis":0.416205,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":396206,"millis":0.396206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":360605,"millis":0.360605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321904,"millis":0.321904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":307005,"millis":0.307005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":198402,"millis":0.198402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":168402,"millis":0.168402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.536 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":339405,"millis":0.339405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":198102,"millis":0.198102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.537 [print] #notpresent \n"},{"result":{"nanos":380705,"millis":0.380705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":203803,"millis":0.203803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.537 [print] OGC:WMS \n"},{"result":{"nanos":36901,"millis":0.036901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":151002,"millis":0.151002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.538 [print] #notpresent \n"},{"result":{"nanos":495007,"millis":0.495007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":216803,"millis":0.216803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.538 [print] RIVM \n"},{"result":{"nanos":129202,"millis":0.129202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.539 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":803811,"millis":0.803811,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":514107,"millis":0.514107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1160516,"millis":1.160516,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.392514,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"755d488b-7b94-4883-95be-6aa279604f85","startTime":1633064336002,"refId":"[1.118:67]","endTime":1633064336541,"exampleData":{"datasetIdentifierCode":"755d488b-7b94-4883-95be-6aa279604f85"},"exampleIndex":117},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.070 karate.env system property was: null \n"},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":81501,"millis":0.081501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247304,"millis":0.247304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475807,"millis":0.475807,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37101,"millis":0.037101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":380205,"millis":0.380205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16701,"millis":0.016701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53101,"millis":0.053101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":503513153,"millis":503.513153,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":469407,"millis":0.469407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":360705,"millis":0.360705,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":327105,"millis":0.327105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":316504,"millis":0.316504,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":391405,"millis":0.391405,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":343304,"millis":0.343304,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25301,"millis":0.025301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":29097296,"millis":29.097296,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":926413,"millis":0.926413,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":430906,"millis":0.430906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":178403,"millis":0.178403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2302831,"millis":2.302831,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.611 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":721509,"millis":0.721509,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":263903,"millis":0.263903,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.612 [print] #notpresent \n"},{"result":{"nanos":426006,"millis":0.426006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":242704,"millis":0.242704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.613 [print] OGC:WMS \n"},{"result":{"nanos":98401,"millis":0.098401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":175803,"millis":0.175803,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.613 [print] #notpresent \n"},{"result":{"nanos":421305,"millis":0.421305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":205602,"millis":0.205602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.614 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":184703,"millis":0.184703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.614 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":374705,"millis":0.374705,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":687809,"millis":0.687809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":664109,"millis":0.664109,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.653514,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b7880739-a701-4cc0-bb32-2bba61fa8924","startTime":1633064336070,"refId":"[1.119:67]","endTime":1633064336616,"exampleData":{"datasetIdentifierCode":"b7880739-a701-4cc0-bb32-2bba61fa8924"},"exampleIndex":118},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.140 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":212003,"millis":0.212003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":80701,"millis":0.080701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":365005,"millis":0.365005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":128601,"millis":0.128601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57701,"millis":0.057701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510798052,"millis":510.798052,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":781111,"millis":0.781111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":523007,"millis":0.523007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":419705,"millis":0.419705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":430406,"millis":0.430406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":601609,"millis":0.601609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":457406,"millis":0.457406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":101402,"millis":0.101402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":361305,"millis":0.361305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":441706,"millis":0.441706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":411706,"millis":0.411706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":163202,"millis":0.163202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":371705,"millis":0.371705,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.657 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1865225,"millis":1.865225,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":170102,"millis":0.170102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.659 [print] INSPIRE Atom \n"},{"result":{"nanos":846711,"millis":0.846711,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":196603,"millis":0.196603,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.660 [print] #notpresent \n"},{"result":{"nanos":398406,"millis":0.398406,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":177302,"millis":0.177302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.661 [print] INSPIRE Atom \n"},{"result":{"nanos":660609,"millis":0.660609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":195603,"millis":0.195603,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.662 [print] Beheer PDOK \n"},{"result":{"nanos":426606,"millis":0.426606,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.662 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":1164316,"millis":1.164316,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":573808,"millis":0.573808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":503107,"millis":0.503107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.129531,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","startTime":1633064336139,"refId":"[1.120:67]","endTime":1633064336664,"exampleData":{"datasetIdentifierCode":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225"},"exampleIndex":119},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.516 karate.env system property was: null \n"},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":249203,"millis":0.249203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":364504,"millis":0.364504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":399706,"millis":0.399706,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35901,"millis":0.035901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509893739,"millis":509.893739,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":674809,"millis":0.674809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":403906,"millis":0.403906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":342804,"millis":0.342804,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":336504,"millis":0.336504,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":573908,"millis":0.573908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436506,"millis":0.436506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":103302,"millis":0.103302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":342405,"millis":0.342405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":391505,"millis":0.391505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":374305,"millis":0.374305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148502,"millis":0.148502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":816311,"millis":0.816311,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.033 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":381105,"millis":0.381105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":204203,"millis":0.204203,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.033 [print] INSPIRE Atom \n"},{"result":{"nanos":467606,"millis":0.467606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":170802,"millis":0.170802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.034 [print] #notpresent \n"},{"result":{"nanos":98902,"millis":0.098902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":175002,"millis":0.175002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.035 [print] INSPIRE Atom \n"},{"result":{"nanos":437106,"millis":0.437106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":183602,"millis":0.183602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.036 [print] Beheer PDOK \n"},{"result":{"nanos":227003,"millis":0.227003,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.036 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":460706,"millis":0.460706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634109,"millis":0.634109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387505,"millis":0.387505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.113675,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","startTime":1633064336515,"refId":"[1.121:67]","endTime":1633064337038,"exampleData":{"datasetIdentifierCode":"0080a9ce-b836-45bc-8fdf-07dcbe97101d"},"exampleIndex":120},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.543 karate.env system property was: null \n"},{"result":{"nanos":29501,"millis":0.029501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49301,"millis":0.049301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213903,"millis":0.213903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":374406,"millis":0.374406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":173003,"millis":0.173003,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533848565,"millis":533.848565,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":466406,"millis":0.466406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":401906,"millis":0.401906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":411305,"millis":0.411305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":460206,"millis":0.460206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":507507,"millis":0.507507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":465106,"millis":0.465106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":78401,"millis":0.078401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":318004,"millis":0.318004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":373205,"millis":0.373205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":421306,"millis":0.421306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":141102,"millis":0.141102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":406606,"millis":0.406606,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.083 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n"},{"result":{"nanos":712210,"millis":0.71221,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":195403,"millis":0.195403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.084 [print] #notpresent \n"},{"result":{"nanos":648109,"millis":0.648109,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":193902,"millis":0.193902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.085 [print] INSPIRE Atom \n"},{"result":{"nanos":446706,"millis":0.446706,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":224103,"millis":0.224103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.086 [print] #notpresent \n"},{"result":{"nanos":914513,"millis":0.914513,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":160602,"millis":0.160602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.087 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":695210,"millis":0.69521,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.087 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n"},{"result":{"nanos":3051441,"millis":3.051441,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":757010,"millis":0.75701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":683910,"millis":0.68391,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.089758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","startTime":1633064336543,"refId":"[1.122:67]","endTime":1633064337092,"exampleData":{"datasetIdentifierCode":"b5ee6914-04bd-4c7e-a180-242371ae40d9"},"exampleIndex":121},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74301,"millis":0.074301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.619 karate.env system property was: null \n"},{"result":{"nanos":44301,"millis":0.044301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":159702,"millis":0.159702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":165702,"millis":0.165702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340105,"millis":0.340105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120401,"millis":0.120401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419706,"millis":0.419706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92002,"millis":0.092002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":312904,"millis":0.312904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70501,"millis":0.070501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25201,"millis":0.025201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":24001,"millis":0.024001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41901,"millis":0.041901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":555462960,"millis":555.46296,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":472707,"millis":0.472707,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":528107,"millis":0.528107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":406606,"millis":0.406606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":410105,"millis":0.410105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":880612,"millis":0.880612,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":563407,"millis":0.563407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":88201,"millis":0.088201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":316904,"millis":0.316904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":331305,"millis":0.331305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":312004,"millis":0.312004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":577008,"millis":0.577008,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":559408,"millis":0.559408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.183 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":425706,"millis":0.425706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":373405,"millis":0.373405,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.184 [print] #notpresent \n"},{"result":{"nanos":337705,"millis":0.337705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":353605,"millis":0.353605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.184 [print] OGC:WFS \n"},{"result":{"nanos":38101,"millis":0.038101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":338204,"millis":0.338204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.185 [print] #notpresent \n"},{"result":{"nanos":397106,"millis":0.397106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":369505,"millis":0.369505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.185 [print] RIVM \n"},{"result":{"nanos":611409,"millis":0.611409,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.186 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":390005,"millis":0.390005,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":651309,"millis":0.651309,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":394606,"millis":0.394606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":567.591629,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","startTime":1633064336618,"refId":"[1.123:67]","endTime":1633064337188,"exampleData":{"datasetIdentifierCode":"b4485d59-a945-4940-a2f5-3ce7de6a947b"},"exampleIndex":122},{"sectionIndex":0,"stepResults":[{"result":{"nanos":84401,"millis":0.084401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.667 karate.env system property was: null \n"},{"result":{"nanos":98502,"millis":0.098502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":162202,"millis":0.162202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":197503,"millis":0.197503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":359205,"millis":0.359205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":159702,"millis":0.159702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455306,"millis":0.455306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90302,"millis":0.090302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":178302,"millis":0.178302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45801,"millis":0.045801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":350605,"millis":0.350605,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25001,"millis":0.025001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":621059357,"millis":621.059357,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":407905,"millis":0.407905,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":389806,"millis":0.389806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":428906,"millis":0.428906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404805,"millis":0.404805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":559007,"millis":0.559007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":472006,"millis":0.472006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26201,"millis":0.026201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356805,"millis":0.356805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":325904,"millis":0.325904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":360805,"millis":0.360805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":447207,"millis":0.447207,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":488006,"millis":0.488006,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.296 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":383405,"millis":0.383405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":369605,"millis":0.369605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.297 [print] OGC:WMS \n"},{"result":{"nanos":397206,"millis":0.397206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.297 [print] #notpresent \n"},{"result":{"nanos":392105,"millis":0.392105,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":123902,"millis":0.123902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.298 [print] OGC:WMS \n"},{"result":{"nanos":658809,"millis":0.658809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":133602,"millis":0.133602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.299 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":474406,"millis":0.474406,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.299 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":1073515,"millis":1.073515,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":666509,"millis":0.666509,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428106,"millis":0.428106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":633.218223,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"777f41ee-8269-4bbc-b0e4-f889c62be099","startTime":1633064336666,"refId":"[1.124:67]","endTime":1633064337302,"exampleData":{"datasetIdentifierCode":"777f41ee-8269-4bbc-b0e4-f889c62be099"},"exampleIndex":123},{"sectionIndex":0,"stepResults":[{"result":{"nanos":72001,"millis":0.072001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.041 karate.env system property was: null \n"},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":172102,"millis":0.172102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":145502,"millis":0.145502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":336405,"millis":0.336405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":125002,"millis":0.125002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":938013,"millis":0.938013,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":106201,"millis":0.106201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":213303,"millis":0.213303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":322605,"millis":0.322605,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24201,"millis":0.024201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519250692,"millis":519.250692,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'"}},{"result":{"nanos":321504,"millis":0.321504,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":305204,"millis":0.305204,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":295204,"millis":0.295204,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":344404,"millis":0.344404,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":314405,"millis":0.314405,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43401,"millis":0.043401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":275904,"millis":0.275904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":255403,"millis":0.255403,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":278604,"millis":0.278604,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108102,"millis":0.108102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":143002,"millis":0.143002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.567 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":284704,"millis":0.284704,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":82301,"millis":0.082301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.567 [print] OGC:WMS \n"},{"result":{"nanos":323105,"millis":0.323105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101501,"millis":0.101501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.568 [print] #notpresent \n"},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65101,"millis":0.065101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.568 [print] OGC:WMS \n"},{"result":{"nanos":356305,"millis":0.356305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91602,"millis":0.091602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.568 [print] Beheer PDOK \n"},{"result":{"nanos":107401,"millis":0.107401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.568 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n"},{"result":{"nanos":381606,"millis":0.381606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":645409,"millis":0.645409,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376505,"millis":0.376505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.837011,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","startTime":1633064337041,"refId":"[1.125:67]","endTime":1633064337570,"exampleData":{"datasetIdentifierCode":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2"},"exampleIndex":124},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56401,"millis":0.056401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.095 karate.env system property was: null \n"},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":123402,"millis":0.123402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126402,"millis":0.126402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":327405,"millis":0.327405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":197602,"millis":0.197602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390305,"millis":0.390305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90801,"millis":0.090801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":325905,"millis":0.325905,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'"}},{"result":{"nanos":43101,"millis":0.043101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537287343,"millis":537.287343,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":516608,"millis":0.516608,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'"}},{"result":{"nanos":393605,"millis":0.393605,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":381905,"millis":0.381905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":292304,"millis":0.292304,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":323304,"millis":0.323304,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":317804,"millis":0.317804,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":252104,"millis":0.252104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":252504,"millis":0.252504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":276603,"millis":0.276603,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93101,"millis":0.093101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96002,"millis":0.096002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.638 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":298904,"millis":0.298904,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97601,"millis":0.097601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.638 [print] INSPIRE Atom \n"},{"result":{"nanos":296604,"millis":0.296604,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96901,"millis":0.096901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.639 [print] #notpresent \n"},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.639 [print] INSPIRE Atom \n"},{"result":{"nanos":372506,"millis":0.372506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":127801,"millis":0.127801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.639 [print] Beheer PDOK \n"},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.639 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n"},{"result":{"nanos":348904,"millis":0.348904,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":408706,"millis":0.408706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":477207,"millis":0.477207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.182448,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","startTime":1633064337094,"refId":"[1.126:67]","endTime":1633064337641,"exampleData":{"datasetIdentifierCode":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba"},"exampleIndex":125},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.191 karate.env system property was: null \n"},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":83101,"millis":0.083101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":296104,"millis":0.296104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45701,"millis":0.045701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":397705,"millis":0.397705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33001,"millis":0.033001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":743910,"millis":0.74391,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506917634,"millis":506.917634,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":399905,"millis":0.399905,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":391206,"millis":0.391206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":402505,"millis":0.402505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":384905,"millis":0.384905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435606,"millis":0.435606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":428406,"millis":0.428406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":303204,"millis":0.303204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339005,"millis":0.339005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328804,"millis":0.328804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":418606,"millis":0.418606,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.704 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":420906,"millis":0.420906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":187103,"millis":0.187103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.704 [print] OGC:WFS \n"},{"result":{"nanos":328904,"millis":0.328904,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":197803,"millis":0.197803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.705 [print] INSPIRE Atom \n"},{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":125102,"millis":0.125102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.705 [print] OGC:WFS \n"},{"result":{"nanos":417006,"millis":0.417006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":162702,"millis":0.162702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.706 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":163002,"millis":0.163002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.706 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":435206,"millis":0.435206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":531808,"millis":0.531808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":437606,"millis":0.437606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":516.12606,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","startTime":1633064337190,"refId":"[1.127:67]","endTime":1633064337707,"exampleData":{"datasetIdentifierCode":"fbe544b6-6e6f-43a0-80b9-ced1df78c434"},"exampleIndex":126},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.304 karate.env system property was: null \n"},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":638609,"millis":0.638609,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279703,"millis":0.279703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":935113,"millis":0.935113,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100401,"millis":0.100401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8801,"millis":0.008801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59301,"millis":0.059301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515055848,"millis":515.055848,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":540807,"millis":0.540807,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":455006,"millis":0.455006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":577707,"millis":0.577707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":543607,"millis":0.543607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":523607,"millis":0.523607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":445507,"millis":0.445507,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":335505,"millis":0.335505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350505,"millis":0.350505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":466606,"millis":0.466606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":410705,"millis":0.410705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":739610,"millis":0.73961,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.828 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n"},{"result":{"nanos":466906,"millis":0.466906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72101,"millis":0.072101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.829 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":364705,"millis":0.364705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.829 [print] #notpresent \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80801,"millis":0.080801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.829 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":498007,"millis":0.498007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.830 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":112902,"millis":0.112902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.830 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":445906,"millis":0.445906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":696310,"millis":0.69631,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":553807,"millis":0.553807,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.3178,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","startTime":1633064337304,"refId":"[1.128:67]","endTime":1633064337832,"exampleData":{"datasetIdentifierCode":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7"},"exampleIndex":127},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.572 karate.env system property was: null \n"},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58701,"millis":0.058701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90201,"millis":0.090201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238203,"millis":0.238203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42701,"millis":0.042701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":384305,"millis":0.384305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33301,"millis":0.033301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89701,"millis":0.089701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'"}},{"result":{"nanos":6801,"millis":0.006801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510387684,"millis":510.387684,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":461207,"millis":0.461207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'"}},{"result":{"nanos":417206,"millis":0.417206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":310604,"millis":0.310604,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":293704,"millis":0.293704,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":430005,"millis":0.430005,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":331704,"millis":0.331704,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23601,"millis":0.023601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":264403,"millis":0.264403,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":271704,"millis":0.271704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":261504,"millis":0.261504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":724510,"millis":0.72451,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.088 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":301004,"millis":0.301004,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":68801,"millis":0.068801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.088 [print] INSPIRE Atom \n"},{"result":{"nanos":559007,"millis":0.559007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":124402,"millis":0.124402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.089 [print] #notpresent \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":516407,"millis":0.516407,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.090 [print] INSPIRE Atom \n"},{"result":{"nanos":921813,"millis":0.921813,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105202,"millis":0.105202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.091 [print] Beheer PDOK \n"},{"result":{"nanos":600208,"millis":0.600208,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.091 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":336805,"millis":0.336805,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":877412,"millis":0.877412,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2546635,"millis":2.546635,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.376148,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","startTime":1633064337572,"refId":"[1.129:67]","endTime":1633064338095,"exampleData":{"datasetIdentifierCode":"dc9fbc85-1263-4a1b-b001-7be701a6039e"},"exampleIndex":128},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.642 karate.env system property was: null \n"},{"result":{"nanos":27501,"millis":0.027501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54101,"millis":0.054101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":404006,"millis":0.404006,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450206,"millis":0.450206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34001,"millis":0.034001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111601,"millis":0.111601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14001,"millis":0.014001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511325497,"millis":511.325497,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":449906,"millis":0.449906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":539507,"millis":0.539507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":427505,"millis":0.427505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":526707,"millis":0.526707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":636309,"millis":0.636309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":437606,"millis":0.437606,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":305405,"millis":0.305405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335804,"millis":0.335804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":314804,"millis":0.314804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108501,"millis":0.108501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":118101,"millis":0.118101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.160 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":328805,"millis":0.328805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":82501,"millis":0.082501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.160 [print] #notpresent \n"},{"result":{"nanos":566808,"millis":0.566808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":109602,"millis":0.109602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.161 [print] #notpresent \n"},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71901,"millis":0.071901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.161 [print] #notpresent \n"},{"result":{"nanos":398005,"millis":0.398005,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96501,"millis":0.096501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.161 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.162 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":460006,"millis":0.460006,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":447006,"millis":0.447006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":412606,"millis":0.412606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":519.933113,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"56093b94-7517-456d-a0d4-338aba3d8c74","startTime":1633064337642,"refId":"[1.130:67]","endTime":1633064338163,"exampleData":{"datasetIdentifierCode":"56093b94-7517-456d-a0d4-338aba3d8c74"},"exampleIndex":129},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.709 karate.env system property was: null \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45401,"millis":0.045401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54401,"millis":0.054401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":202803,"millis":0.202803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388706,"millis":0.388706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":144402,"millis":0.144402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":498772125,"millis":498.772125,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":403506,"millis":0.403506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":374205,"millis":0.374205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":348405,"millis":0.348405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":323704,"millis":0.323704,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":749610,"millis":0.74961,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":391505,"millis":0.391505,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25301,"millis":0.025301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":287204,"millis":0.287204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":268504,"millis":0.268504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":280204,"millis":0.280204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80701,"millis":0.080701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":232703,"millis":0.232703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.213 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n"},{"result":{"nanos":392306,"millis":0.392306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114001,"millis":0.114001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.214 [print] OGC:WMS \n"},{"result":{"nanos":449006,"millis":0.449006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":283904,"millis":0.283904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.214 [print] #notpresent \n"},{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":282404,"millis":0.282404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.215 [print] OGC:WMS \n"},{"result":{"nanos":447806,"millis":0.447806,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":722510,"millis":0.72251,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.216 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":276904,"millis":0.276904,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.216 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":384906,"millis":0.384906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":469306,"millis":0.469306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354805,"millis":0.354805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":507.835753,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"17ad94f6-4961-448b-a6f5-5368b7870409","startTime":1633064337709,"refId":"[1.131:67]","endTime":1633064338217,"exampleData":{"datasetIdentifierCode":"17ad94f6-4961-448b-a6f5-5368b7870409"},"exampleIndex":130},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.834 karate.env system property was: null \n"},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246403,"millis":0.246403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352805,"millis":0.352805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":129702,"millis":0.129702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56801,"millis":0.056801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":499573235,"millis":499.573235,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":458906,"millis":0.458906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":444906,"millis":0.444906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":394805,"millis":0.394805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":380406,"millis":0.380406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":464906,"millis":0.464906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":432506,"millis":0.432506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325504,"millis":0.325504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":278003,"millis":0.278003,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":275903,"millis":0.275903,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61401,"millis":0.061401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100502,"millis":0.100502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.338 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n"},{"result":{"nanos":849412,"millis":0.849412,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.339 [print] #notpresent \n"},{"result":{"nanos":573408,"millis":0.573408,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.340 [print] OGC:WFS \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":357305,"millis":0.357305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.340 [print] #notpresent \n"},{"result":{"nanos":384205,"millis":0.384205,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.341 [print] RIVM \n"},{"result":{"nanos":41001,"millis":0.041001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.341 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":861412,"millis":0.861412,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":744510,"millis":0.74451,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":443507,"millis":0.443507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":508.830961,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","startTime":1633064337833,"refId":"[1.132:67]","endTime":1633064338343,"exampleData":{"datasetIdentifierCode":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545"},"exampleIndex":131},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.098 karate.env system property was: null \n"},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":253704,"millis":0.253704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368205,"millis":0.368205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66001,"millis":0.066001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515384352,"millis":515.384352,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":679510,"millis":0.67951,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":422306,"millis":0.422306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":392505,"millis":0.392505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":385306,"millis":0.385306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":439206,"millis":0.439206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":415206,"millis":0.415206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":450206,"millis":0.450206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":383405,"millis":0.383405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":341304,"millis":0.341304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98102,"millis":0.098102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":109001,"millis":0.109001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.619 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":325305,"millis":0.325305,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":54201,"millis":0.054201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.619 [print] OGC:WFS \n"},{"result":{"nanos":323004,"millis":0.323004,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.620 [print] #notpresent \n"},{"result":{"nanos":29201,"millis":0.029201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.620 [print] OGC:WFS \n"},{"result":{"nanos":497507,"millis":0.497507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70601,"millis":0.070601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.621 [print] Beheer PDOK \n"},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.621 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":551608,"millis":0.551608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":650909,"millis":0.650909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":436806,"millis":0.436806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.683266,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1d568785-efdd-429d-b491-56f785c3656a","startTime":1633064338098,"refId":"[1.133:67]","endTime":1633064338622,"exampleData":{"datasetIdentifierCode":"1d568785-efdd-429d-b491-56f785c3656a"},"exampleIndex":132},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.165 karate.env system property was: null \n"},{"result":{"nanos":26001,"millis":0.026001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89701,"millis":0.089701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":205803,"millis":0.205803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":397805,"millis":0.397805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125402,"millis":0.125402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46101,"millis":0.046101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":502698579,"millis":502.698579,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":379906,"millis":0.379906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":365505,"millis":0.365505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":372905,"millis":0.372905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1269817,"millis":1.269817,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":556907,"millis":0.556907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":443606,"millis":0.443606,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":281604,"millis":0.281604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":291404,"millis":0.291404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":351905,"millis":0.351905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":625208,"millis":0.625208,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.674 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n"},{"result":{"nanos":361405,"millis":0.361405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":67001,"millis":0.067001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.674 [print] #notpresent \n"},{"result":{"nanos":569808,"millis":0.569808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.675 [print] OGC:WMS \n"},{"result":{"nanos":29001,"millis":0.029001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.675 [print] #notpresent \n"},{"result":{"nanos":826712,"millis":0.826712,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76001,"millis":0.076001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.676 [print] Informatiehuis Water \n"},{"result":{"nanos":592508,"millis":0.592508,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.677 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":444806,"millis":0.444806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":444406,"millis":0.444406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347104,"millis":0.347104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":512.751616,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","startTime":1633064338164,"refId":"[1.134:67]","endTime":1633064338678,"exampleData":{"datasetIdentifierCode":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d"},"exampleIndex":133},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.220 karate.env system property was: null \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49601,"millis":0.049601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214203,"millis":0.214203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41301,"millis":0.041301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":358705,"millis":0.358705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":335505,"millis":0.335505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508828463,"millis":508.828463,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":457306,"millis":0.457306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":458207,"millis":0.458207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":364905,"millis":0.364905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":354105,"millis":0.354105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":437006,"millis":0.437006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":393906,"millis":0.393906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":304805,"millis":0.304805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321404,"millis":0.321404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":322805,"millis":0.322805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60201,"millis":0.060201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":616208,"millis":0.616208,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.734 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":342305,"millis":0.342305,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70401,"millis":0.070401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.735 [print] OGC:WMS \n"},{"result":{"nanos":521707,"millis":0.521707,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.736 [print] #notpresent \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.736 [print] OGC:WMS \n"},{"result":{"nanos":764210,"millis":0.76421,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112202,"millis":0.112202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.737 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":634209,"millis":0.634209,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.737 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":388505,"millis":0.388505,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":517107,"millis":0.517107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323305,"millis":0.323305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.04869,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","startTime":1633064338219,"refId":"[1.135:67]","endTime":1633064338739,"exampleData":{"datasetIdentifierCode":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e"},"exampleIndex":134},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.345 karate.env system property was: null \n"},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53601,"millis":0.053601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":219203,"millis":0.219203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337204,"millis":0.337204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":303205,"millis":0.303205,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25501,"millis":0.025501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511557400,"millis":511.5574,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":589508,"millis":0.589508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":414206,"millis":0.414206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":342405,"millis":0.342405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":308004,"millis":0.308004,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":383506,"millis":0.383506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":335604,"millis":0.335604,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24001,"millis":0.024001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":259803,"millis":0.259803,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":257403,"millis":0.257403,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":269004,"millis":0.269004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100402,"millis":0.100402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.862 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":319704,"millis":0.319704,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.862 [print] OGC:WMS \n"},{"result":{"nanos":277104,"millis":0.277104,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":55601,"millis":0.055601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.863 [print] #notpresent \n"},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.863 [print] OGC:WMS \n"},{"result":{"nanos":347505,"millis":0.347505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":58101,"millis":0.058101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.863 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.863 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":368705,"millis":0.368705,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":641209,"millis":0.641209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316104,"millis":0.316104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.652697,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"060d1139-c371-4c1e-9890-55999adfa4f9","startTime":1633064338345,"refId":"[1.136:67]","endTime":1633064338865,"exampleData":{"datasetIdentifierCode":"060d1139-c371-4c1e-9890-55999adfa4f9"},"exampleIndex":135},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.624 karate.env system property was: null \n"},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52701,"millis":0.052701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53601,"millis":0.053601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":234303,"millis":0.234303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42101,"millis":0.042101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":600208,"millis":0.600208,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42601,"millis":0.042601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89401,"millis":0.089401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":90902,"millis":0.090902,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519989715,"millis":519.989715,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":560508,"millis":0.560508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":427306,"millis":0.427306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":419305,"millis":0.419305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391005,"millis":0.391005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":429806,"millis":0.429806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":384405,"millis":0.384405,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25101,"millis":0.025101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":300604,"millis":0.300604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":322205,"millis":0.322205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328904,"millis":0.328904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70501,"millis":0.070501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160103,"millis":0.160103,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.150 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":371405,"millis":0.371405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88901,"millis":0.088901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.150 [print] #notpresent \n"},{"result":{"nanos":538308,"millis":0.538308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":184702,"millis":0.184702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.151 [print] #notpresent \n"},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.151 [print] #notpresent \n"},{"result":{"nanos":507807,"millis":0.507807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123501,"millis":0.123501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.152 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":82001,"millis":0.082001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.152 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":559707,"millis":0.559707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":702609,"millis":0.702609,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":314604,"millis":0.314604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.691734,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ce0a3f8e-6713-455f-805e-a067162c287d","startTime":1633064338624,"refId":"[1.137:67]","endTime":1633064339153,"exampleData":{"datasetIdentifierCode":"ce0a3f8e-6713-455f-805e-a067162c287d"},"exampleIndex":136},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.680 karate.env system property was: null \n"},{"result":{"nanos":44901,"millis":0.044901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236504,"millis":0.236504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373105,"millis":0.373105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68701,"millis":0.068701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":313604,"millis":0.313604,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54201,"millis":0.054201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":559155052,"millis":559.155052,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":489307,"millis":0.489307,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'"}},{"result":{"nanos":426106,"millis":0.426106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":466906,"millis":0.466906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":427605,"millis":0.427605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":489106,"millis":0.489106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":389506,"millis":0.389506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":301704,"millis":0.301704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":280303,"millis":0.280303,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":517507,"millis":0.517507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":696109,"millis":0.696109,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":585708,"millis":0.585708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.247 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wfs?service=wfs&request=GetCapabilities \n"},{"result":{"nanos":422506,"millis":0.422506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":385105,"millis":0.385105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.248 [print] #notpresent \n"},{"result":{"nanos":358705,"millis":0.358705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":373305,"millis":0.373305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.248 [print] OGC:WFS \n"},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":411805,"millis":0.411805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.249 [print] #notpresent \n"},{"result":{"nanos":452307,"millis":0.452307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":450006,"millis":0.450006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.250 [print] Beheer PDOK \n"},{"result":{"nanos":582508,"millis":0.582508,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.250 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/eng\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":510507,"millis":0.510507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":575208,"millis":0.575208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":711610,"millis":0.71161,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":570.88461,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a8ad0d7d-ea9e-4261-bc92-772e99a41387","startTime":1633064338680,"refId":"[1.138:67]","endTime":1633064339252,"exampleData":{"datasetIdentifierCode":"a8ad0d7d-ea9e-4261-bc92-772e99a41387"},"exampleIndex":137},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.740 karate.env system property was: null \n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46601,"millis":0.046601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":194103,"millis":0.194103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":315505,"millis":0.315505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520278219,"millis":520.278219,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":366606,"millis":0.366606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":368005,"millis":0.368005,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":337104,"millis":0.337104,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":317404,"millis":0.317404,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":340205,"millis":0.340205,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":331504,"millis":0.331504,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":270704,"millis":0.270704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":261403,"millis":0.261403,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":267003,"millis":0.267003,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57001,"millis":0.057001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":60401,"millis":0.060401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.266 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":754910,"millis":0.75491,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66401,"millis":0.066401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.266 [print] OGC:WFS \n"},{"result":{"nanos":518807,"millis":0.518807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70101,"millis":0.070101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.267 [print] #notpresent \n"},{"result":{"nanos":249903,"millis":0.249903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.267 [print] OGC:WFS \n"},{"result":{"nanos":565908,"millis":0.565908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.268 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":35101,"millis":0.035101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.268 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":972313,"millis":0.972313,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":376605,"millis":0.376605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":327904,"millis":0.327904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.237126,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","startTime":1633064338740,"refId":"[1.139:67]","endTime":1633064339270,"exampleData":{"datasetIdentifierCode":"923a666c-ee4f-496c-8c85-94d5f81e1f30"},"exampleIndex":138},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.867 karate.env system property was: null \n"},{"result":{"nanos":28401,"millis":0.028401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52701,"millis":0.052701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71701,"millis":0.071701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":282904,"millis":0.282904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":523907,"millis":0.523907,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":504825707,"millis":504.825707,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":324204,"millis":0.324204,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":377606,"millis":0.377606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":334404,"millis":0.334404,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":359705,"millis":0.359705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":360704,"millis":0.360704,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":338204,"millis":0.338204,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23201,"millis":0.023201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":269703,"millis":0.269703,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":265703,"millis":0.265703,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":262204,"millis":0.262204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":63101,"millis":0.063101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.377 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":691310,"millis":0.69131,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89001,"millis":0.089001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.377 [print] OGC:WMS \n"},{"result":{"nanos":551508,"millis":0.551508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91601,"millis":0.091601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.378 [print] #notpresent \n"},{"result":{"nanos":31501,"millis":0.031501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":294904,"millis":0.294904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.378 [print] OGC:WMS \n"},{"result":{"nanos":592208,"millis":0.592208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74601,"millis":0.074601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.379 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":55601,"millis":0.055601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.379 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":934113,"millis":0.934113,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":421706,"millis":0.421706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328404,"millis":0.328404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":513.311623,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","startTime":1633064338867,"refId":"[1.140:67]","endTime":1633064339381,"exampleData":{"datasetIdentifierCode":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8"},"exampleIndex":139},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.155 karate.env system property was: null \n"},{"result":{"nanos":28301,"millis":0.028301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72200,"millis":0.0722,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236303,"millis":0.236303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42201,"millis":0.042201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337405,"millis":0.337405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84501,"millis":0.084501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":7001,"millis":0.007001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512112808,"millis":512.112808,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":558108,"millis":0.558108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":393105,"millis":0.393105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":368405,"millis":0.368405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":335604,"millis":0.335604,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":395506,"millis":0.395506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":440406,"millis":0.440406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":343205,"millis":0.343205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":262104,"millis":0.262104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":27493876,"millis":27.493876,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":349104,"millis":0.349104,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":192802,"millis":0.192802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.700 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":570508,"millis":0.570508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122602,"millis":0.122602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.701 [print] OGC:WMS \n"},{"result":{"nanos":409006,"millis":0.409006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":117902,"millis":0.117902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.702 [print] #notpresent \n"},{"result":{"nanos":107701,"millis":0.107701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97302,"millis":0.097302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.702 [print] OGC:WMS \n"},{"result":{"nanos":2014727,"millis":2.014727,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":323105,"millis":0.323105,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.704 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":495707,"millis":0.495707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.705 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":409306,"millis":0.409306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":606908,"millis":0.606908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":425706,"millis":0.425706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.017227,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","startTime":1633064339155,"refId":"[1.141:67]","endTime":1633064339706,"exampleData":{"datasetIdentifierCode":"f2d2cd9d-7410-485a-95e0-c1b885243eaf"},"exampleIndex":140},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.255 karate.env system property was: null \n"},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216803,"millis":0.216803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":325705,"millis":0.325705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":407505,"millis":0.407505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70501,"millis":0.070501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532802390,"millis":532.80239,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":432006,"millis":0.432006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":376505,"millis":0.376505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":347605,"millis":0.347605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":357305,"millis":0.357305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":520707,"millis":0.520707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":447206,"millis":0.447206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86901,"millis":0.086901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":355205,"millis":0.355205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":525607,"millis":0.525607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":298204,"millis":0.298204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121702,"millis":0.121702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":245803,"millis":0.245803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.793 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":456607,"millis":0.456607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":133502,"millis":0.133502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.794 [print] #notpresent \n"},{"result":{"nanos":464106,"millis":0.464106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128202,"millis":0.128202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.795 [print] #notpresent \n"},{"result":{"nanos":168702,"millis":0.168702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":144302,"millis":0.144302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.795 [print] #notpresent \n"},{"result":{"nanos":550107,"millis":0.550107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":133502,"millis":0.133502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.796 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":191503,"millis":0.191503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.796 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":605008,"millis":0.605008,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":496807,"millis":0.496807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":381406,"millis":0.381406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.086717,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","startTime":1633064339254,"refId":"[1.142:67]","endTime":1633064339797,"exampleData":{"datasetIdentifierCode":"ac3ee940-4f98-427c-a2d9-58696005d9c2"},"exampleIndex":141},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67001,"millis":0.067001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.271 karate.env system property was: null \n"},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223303,"millis":0.223303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36901,"millis":0.036901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":284204,"millis":0.284204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":288404,"millis":0.288404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549717822,"millis":549.717822,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":411505,"millis":0.411505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":480207,"millis":0.480207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":429306,"millis":0.429306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":343805,"millis":0.343805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":457906,"millis":0.457906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":478607,"millis":0.478607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77901,"millis":0.077901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":387906,"millis":0.387906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":367905,"millis":0.367905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":306804,"millis":0.306804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":482507,"millis":0.482507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":650409,"millis":0.650409,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.828 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":514707,"millis":0.514707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":502207,"millis":0.502207,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.829 [print] #notpresent \n"},{"result":{"nanos":421306,"millis":0.421306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":426706,"millis":0.426706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.830 [print] OGC:WMS \n"},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":404005,"millis":0.404005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.830 [print] #notpresent \n"},{"result":{"nanos":367405,"millis":0.367405,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":436106,"millis":0.436106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.831 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":671709,"millis":0.671709,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.832 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":418606,"millis":0.418606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":400705,"millis":0.400705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374306,"millis":0.374306,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.792276,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","startTime":1633064339271,"refId":"[1.143:67]","endTime":1633064339833,"exampleData":{"datasetIdentifierCode":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE"},"exampleIndex":142},{"sectionIndex":0,"stepResults":[{"result":{"nanos":139602,"millis":0.139602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.382 karate.env system property was: null \n"},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230303,"millis":0.230303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":289704,"millis":0.289704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30501,"millis":0.030501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64501,"millis":0.064501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":373405,"millis":0.373405,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":508335155,"millis":508.335155,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433406,"millis":0.433406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":419006,"millis":0.419006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":388505,"millis":0.388505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":348805,"millis":0.348805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":452706,"millis":0.452706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":414506,"millis":0.414506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73501,"millis":0.073501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":334705,"millis":0.334705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":330005,"millis":0.330005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":344504,"millis":0.344504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":334104,"millis":0.334104,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":324605,"millis":0.324605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.897 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":397505,"millis":0.397505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":284404,"millis":0.284404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.898 [print] INSPIRE Atom \n"},{"result":{"nanos":387405,"millis":0.387405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":325005,"millis":0.325005,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.899 [print] #notpresent \n"},{"result":{"nanos":102301,"millis":0.102301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":509807,"millis":0.509807,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.899 [print] INSPIRE Atom \n"},{"result":{"nanos":483407,"millis":0.483407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":376405,"millis":0.376405,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.900 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":301705,"millis":0.301705,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.900 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":353905,"millis":0.353905,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":370005,"millis":0.370005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":331504,"millis":0.331504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.141488,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","startTime":1633064339382,"refId":"[1.144:67]","endTime":1633064339901,"exampleData":{"datasetIdentifierCode":"f5660ac6-8031-4acc-832c-1d1b82b062ba"},"exampleIndex":143},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.711 karate.env system property was: null \n"},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":142302,"millis":0.142302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":148902,"millis":0.148902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":319804,"millis":0.319804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113902,"millis":0.113902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375905,"millis":0.375905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":125002,"millis":0.125002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":202303,"millis":0.202303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":129401,"millis":0.129401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27301,"millis":0.027301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27301,"millis":0.027301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544339148,"millis":544.339148,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":523707,"millis":0.523707,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":400105,"millis":0.400105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":361305,"millis":0.361305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":407905,"millis":0.407905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":747511,"millis":0.747511,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":485906,"millis":0.485906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99902,"millis":0.099902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":382905,"millis":0.382905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":367805,"millis":0.367805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":381405,"millis":0.381405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70501,"millis":0.070501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":581608,"millis":0.581608,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.262 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":552808,"millis":0.552808,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":501407,"millis":0.501407,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.263 [print] OGC:WFS \n"},{"result":{"nanos":366305,"millis":0.366305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":375706,"millis":0.375706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.264 [print] INSPIRE Atom \n"},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":366405,"millis":0.366405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.265 [print] OGC:WFS \n"},{"result":{"nanos":548807,"millis":0.548807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":456707,"millis":0.456707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.266 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":587808,"millis":0.587808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.266 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":437806,"millis":0.437806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":496007,"millis":0.496007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322504,"millis":0.322504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":556.043306,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"46873d16-6835-48c4-b47f-134ab0cb31fa","startTime":1633064339710,"refId":"[1.145:67]","endTime":1633064340268,"exampleData":{"datasetIdentifierCode":"46873d16-6835-48c4-b47f-134ab0cb31fa"},"exampleIndex":144},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53701,"millis":0.053701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.800 karate.env system property was: null \n"},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151102,"millis":0.151102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114601,"millis":0.114601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":234203,"millis":0.234203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116302,"millis":0.116302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":364905,"millis":0.364905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":102101,"millis":0.102101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":149702,"millis":0.149702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46001,"millis":0.046001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25601,"millis":0.025601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":607549114,"millis":607.549114,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":493707,"millis":0.493707,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":367905,"millis":0.367905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":427006,"millis":0.427006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":427006,"millis":0.427006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":427506,"millis":0.427506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436206,"millis":0.436206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24801,"millis":0.024801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":344305,"millis":0.344305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":307404,"millis":0.307404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":281904,"millis":0.281904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62301,"millis":0.062301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":272604,"millis":0.272604,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.413 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":391605,"millis":0.391605,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189603,"millis":0.189603,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.414 [print] #notpresent \n"},{"result":{"nanos":385405,"millis":0.385405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":208502,"millis":0.208502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.414 [print] #notpresent \n"},{"result":{"nanos":146402,"millis":0.146402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":287704,"millis":0.287704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.415 [print] #notpresent \n"},{"result":{"nanos":411405,"millis":0.411405,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69601,"millis":0.069601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.415 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":270104,"millis":0.270104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.415 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":376105,"millis":0.376105,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":577708,"millis":0.577708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348905,"millis":0.348905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":616.618439,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"257b960c-ece6-4e0f-b893-77b219c6133f","startTime":1633064339799,"refId":"[1.146:67]","endTime":1633064340417,"exampleData":{"datasetIdentifierCode":"257b960c-ece6-4e0f-b893-77b219c6133f"},"exampleIndex":145},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.842 karate.env system property was: null \n"},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":113102,"millis":0.113102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118501,"millis":0.118501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":253803,"millis":0.253803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":7608504,"millis":7.608504,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385306,"millis":0.385306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":119802,"millis":0.119802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114501,"millis":0.114501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":322405,"millis":0.322405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":60201,"millis":0.060201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23801,"millis":0.023801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":616783540,"millis":616.78354,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":443606,"millis":0.443606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":504507,"millis":0.504507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":541908,"millis":0.541908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":565608,"millis":0.565608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":575008,"millis":0.575008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":631209,"millis":0.631209,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":393106,"millis":0.393106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390705,"millis":0.390705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":379705,"millis":0.379705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133901,"millis":0.133901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.473 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n"},{"result":{"nanos":412605,"millis":0.412605,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.474 [print] #notpresent \n"},{"result":{"nanos":425406,"millis":0.425406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.474 [print] INSPIRE Atom \n"},{"result":{"nanos":51401,"millis":0.051401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94202,"millis":0.094202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.474 [print] #notpresent \n"},{"result":{"nanos":816111,"millis":0.816111,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72901,"millis":0.072901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.475 [print] Beheer PDOK \n"},{"result":{"nanos":267904,"millis":0.267904,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.476 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n"},{"result":{"nanos":583608,"millis":0.583608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":769411,"millis":0.769411,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":634208,"millis":0.634208,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":635.01509,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","startTime":1633064339841,"refId":"[1.147:67]","endTime":1633064340478,"exampleData":{"datasetIdentifierCode":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4"},"exampleIndex":146},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.904 karate.env system property was: null \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":112702,"millis":0.112702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116002,"millis":0.116002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":287404,"millis":0.287404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":118601,"millis":0.118601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411406,"millis":0.411406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88001,"millis":0.088001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113501,"millis":0.113501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":185703,"millis":0.185703,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":43201,"millis":0.043201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":601816135,"millis":601.816135,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":425606,"millis":0.425606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'"}},{"result":{"nanos":401306,"millis":0.401306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399905,"millis":0.399905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":372805,"millis":0.372805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":427306,"millis":0.427306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":431506,"millis":0.431506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325204,"millis":0.325204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339205,"millis":0.339205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":329205,"millis":0.329205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":144102,"millis":0.144102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.512 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":351804,"millis":0.351804,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":250403,"millis":0.250403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.513 [print] OGC:WMS \n"},{"result":{"nanos":350105,"millis":0.350105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.513 [print] #notpresent \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138402,"millis":0.138402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.513 [print] OGC:WMS \n"},{"result":{"nanos":446306,"millis":0.446306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":103602,"millis":0.103602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.514 [print] Beheer PDOK \n"},{"result":{"nanos":90301,"millis":0.090301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.514 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":441406,"millis":0.441406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532208,"millis":0.532208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":518807,"millis":0.518807,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":610.513452,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43","startTime":1633064339904,"refId":"[1.148:67]","endTime":1633064340516,"exampleData":{"datasetIdentifierCode":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43"},"exampleIndex":147},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.270 karate.env system property was: null \n"},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":257403,"millis":0.257403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42501,"millis":0.042501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372205,"millis":0.372205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":455906,"millis":0.455906,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73101,"millis":0.073101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515173149,"millis":515.173149,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":454306,"millis":0.454306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":373605,"millis":0.373605,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":353505,"millis":0.353505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":343405,"millis":0.343405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":656109,"millis":0.656109,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":437406,"millis":0.437406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":359805,"millis":0.359805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350005,"millis":0.350005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":282704,"millis":0.282704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68801,"millis":0.068801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113302,"millis":0.113302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.791 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":434006,"millis":0.434006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101801,"millis":0.101801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.791 [print] #notpresent \n"},{"result":{"nanos":339805,"millis":0.339805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68701,"millis":0.068701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.792 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":89201,"millis":0.089201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.792 [print] #notpresent \n"},{"result":{"nanos":444906,"millis":0.444906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65601,"millis":0.065601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.793 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":70901,"millis":0.070901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.793 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":369005,"millis":0.369005,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":622709,"millis":0.622709,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317604,"millis":0.317604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.446064,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"35546103-58eb-4f61-a858-a6fbc5a7e814","startTime":1633064340269,"refId":"[1.149:67]","endTime":1633064340794,"exampleData":{"datasetIdentifierCode":"35546103-58eb-4f61-a858-a6fbc5a7e814"},"exampleIndex":148},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.419 karate.env system property was: null \n"},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46501,"millis":0.046501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52200,"millis":0.0522,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230104,"millis":0.230104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335205,"millis":0.335205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31201,"millis":0.031201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":364905,"millis":0.364905,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51201,"millis":0.051201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522772053,"millis":522.772053,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":317104,"millis":0.317104,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":316904,"millis":0.316904,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":303504,"millis":0.303504,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":359105,"millis":0.359105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":344705,"millis":0.344705,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":324604,"millis":0.324604,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26301,"millis":0.026301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":249103,"millis":0.249103,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":255004,"millis":0.255004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":250904,"millis":0.250904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.946 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":294004,"millis":0.294004,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147102,"millis":0.147102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.947 [print] INSPIRE Atom \n"},{"result":{"nanos":297104,"millis":0.297104,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92701,"millis":0.092701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.947 [print] #notpresent \n"},{"result":{"nanos":31501,"millis":0.031501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.947 [print] INSPIRE Atom \n"},{"result":{"nanos":358305,"millis":0.358305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60901,"millis":0.060901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.948 [print] Beheer PDOK \n"},{"result":{"nanos":41001,"millis":0.041001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.948 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":556907,"millis":0.556907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1339019,"millis":1.339019,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":375505,"millis":0.375505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.554561,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","startTime":1633064340419,"refId":"[1.150:67]","endTime":1633064340950,"exampleData":{"datasetIdentifierCode":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638"},"exampleIndex":149},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.479 karate.env system property was: null \n"},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50001,"millis":0.050001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":185002,"millis":0.185002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55201,"millis":0.055201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":315705,"millis":0.315705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97902,"millis":0.097902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514917646,"millis":514.917646,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":431006,"millis":0.431006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":412205,"millis":0.412205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":471107,"millis":0.471107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":448006,"millis":0.448006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":483307,"millis":0.483307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":324905,"millis":0.324905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":334905,"millis":0.334905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":446306,"millis":0.446306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116902,"millis":0.116902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105701,"millis":0.105701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.000 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n"},{"result":{"nanos":432406,"millis":0.432406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.000 [print] OGC:WCS \n"},{"result":{"nanos":371305,"millis":0.371305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75601,"millis":0.075601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.001 [print] #notpresent \n"},{"result":{"nanos":48401,"millis":0.048401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.001 [print] OGC:WCS \n"},{"result":{"nanos":619508,"millis":0.619508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75801,"millis":0.075801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.001 [print] Beheer PDOK \n"},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.002 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":491307,"millis":0.491307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":488007,"millis":0.488007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365705,"millis":0.365705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.960157,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","startTime":1633064340479,"refId":"[1.151:67]","endTime":1633064341003,"exampleData":{"datasetIdentifierCode":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808"},"exampleIndex":150},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.517 karate.env system property was: null \n"},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65001,"millis":0.065001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":173002,"millis":0.173002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37101,"millis":0.037101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":311304,"millis":0.311304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29101,"millis":0.029101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45901,"millis":0.045901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509259168,"millis":509.259168,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":395905,"millis":0.395905,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":455306,"millis":0.455306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":425205,"millis":0.425205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":421305,"millis":0.421305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":446607,"millis":0.446607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":496407,"millis":0.496407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":544908,"millis":0.544908,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":397405,"millis":0.397405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":686409,"millis":0.686409,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68501,"millis":0.068501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":101502,"millis":0.101502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.032 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":449506,"millis":0.449506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117402,"millis":0.117402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.033 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":397305,"millis":0.397305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.033 [print] #notpresent \n"},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.033 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":518307,"millis":0.518307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63901,"millis":0.063901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.034 [print] Beheer PDOK \n"},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.034 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":459406,"millis":0.459406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":373206,"millis":0.373206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355105,"millis":0.355105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":517.570081,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7a914681-61bd-4f67-902b-45037a00c469","startTime":1633064340517,"refId":"[1.152:67]","endTime":1633064341035,"exampleData":{"datasetIdentifierCode":"7a914681-61bd-4f67-902b-45037a00c469"},"exampleIndex":151},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.796 karate.env system property was: null \n"},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":118402,"millis":0.118402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":241103,"millis":0.241103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":414406,"millis":0.414406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47001,"millis":0.047001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524135772,"millis":524.135772,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":486506,"millis":0.486506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":444906,"millis":0.444906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":443006,"millis":0.443006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":417506,"millis":0.417506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":467206,"millis":0.467206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":430906,"millis":0.430906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24801,"millis":0.024801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":316604,"millis":0.316604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":531708,"millis":0.531708,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":371005,"millis":0.371005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116802,"millis":0.116802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.326 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n"},{"result":{"nanos":760510,"millis":0.76051,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":92502,"millis":0.092502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.327 [print] #notpresent \n"},{"result":{"nanos":841011,"millis":0.841011,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92702,"millis":0.092702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.328 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":32301,"millis":0.032301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":297104,"millis":0.297104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.328 [print] #notpresent \n"},{"result":{"nanos":663709,"millis":0.663709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90902,"millis":0.090902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.329 [print] Beheer PDOK \n"},{"result":{"nanos":927112,"millis":0.927112,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.330 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":736810,"millis":0.73681,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1013714,"millis":1.013714,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389005,"millis":0.389005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.310624,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","startTime":1633064340796,"refId":"[1.153:67]","endTime":1633064341332,"exampleData":{"datasetIdentifierCode":"fff9d7cf-9929-4dde-98b8-06ceda7e5610"},"exampleIndex":152},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.953 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43901,"millis":0.043901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":217303,"millis":0.217303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40001,"millis":0.040001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":340404,"millis":0.340404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":573708,"millis":0.573708,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":556352313,"millis":556.352313,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":524507,"millis":0.524507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":501807,"millis":0.501807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":457306,"millis":0.457306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":458007,"millis":0.458007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":597208,"millis":0.597208,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":473807,"millis":0.473807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":370705,"millis":0.370705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":356805,"millis":0.356805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":404506,"millis":0.404506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125802,"millis":0.125802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.516 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n"},{"result":{"nanos":990314,"millis":0.990314,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":273304,"millis":0.273304,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.517 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":727310,"millis":0.72731,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85801,"millis":0.085801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.518 [print] #notpresent \n"},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":398205,"millis":0.398205,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.519 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":616708,"millis":0.616708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85701,"millis":0.085701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.519 [print] Beheer PDOK \n"},{"result":{"nanos":856312,"millis":0.856312,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.520 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n"},{"result":{"nanos":491907,"millis":0.491907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":655209,"millis":0.655209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":378605,"millis":0.378605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":567.776072,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","startTime":1633064340952,"refId":"[1.154:67]","endTime":1633064341522,"exampleData":{"datasetIdentifierCode":"bfcc588f-9393-4c70-b989-d9e92ac2f493"},"exampleIndex":153},{"sectionIndex":0,"stepResults":[{"result":{"nanos":49901,"millis":0.049901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.005 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52001,"millis":0.052001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250104,"millis":0.250104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":356604,"millis":0.356604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56901,"millis":0.056901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523795667,"millis":523.795667,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":671309,"millis":0.671309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":576108,"millis":0.576108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":567508,"millis":0.567508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":538607,"millis":0.538607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":704610,"millis":0.70461,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":586808,"millis":0.586808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24601,"millis":0.024601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":364405,"millis":0.364405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":361005,"millis":0.361005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":425506,"millis":0.425506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70301,"millis":0.070301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139002,"millis":0.139002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.535 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":570708,"millis":0.570708,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113002,"millis":0.113002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.536 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":458006,"millis":0.458006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83101,"millis":0.083101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.536 [print] #notpresent \n"},{"result":{"nanos":154402,"millis":0.154402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":185503,"millis":0.185503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.537 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":592508,"millis":0.592508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104001,"millis":0.104001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.537 [print] Beheer PDOK \n"},{"result":{"nanos":929612,"millis":0.929612,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.538 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":504207,"millis":0.504207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":504407,"millis":0.504407,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333604,"millis":0.333604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.388011,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","startTime":1633064341004,"refId":"[1.155:67]","endTime":1633064341540,"exampleData":{"datasetIdentifierCode":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448"},"exampleIndex":154},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.037 karate.env system property was: null \n"},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44901,"millis":0.044901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":171802,"millis":0.171802,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":331505,"millis":0.331505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43301,"millis":0.043301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4501,"millis":0.004501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537581256,"millis":537.581256,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":576008,"millis":0.576008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":543708,"millis":0.543708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":448806,"millis":0.448806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":443506,"millis":0.443506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":836412,"millis":0.836412,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":737610,"millis":0.73761,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":437606,"millis":0.437606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":359705,"millis":0.359705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395805,"millis":0.395805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":140302,"millis":0.140302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.581 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":755610,"millis":0.75561,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.582 [print] #notpresent \n"},{"result":{"nanos":805511,"millis":0.805511,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92701,"millis":0.092701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.582 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":49701,"millis":0.049701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":331604,"millis":0.331604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.583 [print] #notpresent \n"},{"result":{"nanos":826311,"millis":0.826311,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91001,"millis":0.091001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.584 [print] Beheer PDOK \n"},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.584 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":1048314,"millis":1.048314,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":571208,"millis":0.571208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308004,"millis":0.308004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.454204,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","startTime":1633064341037,"refId":"[1.156:67]","endTime":1633064341586,"exampleData":{"datasetIdentifierCode":"68d14b1c-71ad-4ce7-8267-45787a80c2d4"},"exampleIndex":155},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.334 karate.env system property was: null \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50001,"millis":0.050001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":476706,"millis":0.476706,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":471207,"millis":0.471207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62701,"millis":0.062701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":361704,"millis":0.361704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524772381,"millis":524.772381,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":773111,"millis":0.773111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":489007,"millis":0.489007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":424306,"millis":0.424306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":553907,"millis":0.553907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":619508,"millis":0.619508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504207,"millis":0.504207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":352005,"millis":0.352005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":336905,"millis":0.336905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":403005,"millis":0.403005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87901,"millis":0.087901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":293704,"millis":0.293704,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.866 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":380405,"millis":0.380405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123502,"millis":0.123502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.867 [print] OGC:WMS \n"},{"result":{"nanos":358705,"millis":0.358705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104702,"millis":0.104702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.867 [print] #notpresent \n"},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78801,"millis":0.078801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.867 [print] OGC:WMS \n"},{"result":{"nanos":466106,"millis":0.466106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96602,"millis":0.096602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.868 [print] Beheer PDOK \n"},{"result":{"nanos":113501,"millis":0.113501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.868 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":563808,"millis":0.563808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":586708,"millis":0.586708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322205,"millis":0.322205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.554015,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","startTime":1633064341334,"refId":"[1.157:67]","endTime":1633064341870,"exampleData":{"datasetIdentifierCode":"5b40b9b4-fcb2-4553-bcab-34824c43c992"},"exampleIndex":156},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.524 karate.env system property was: null \n"},{"result":{"nanos":79501,"millis":0.079501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73001,"millis":0.073001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":268304,"millis":0.268304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424606,"millis":0.424606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55801,"millis":0.055801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73001,"millis":0.073001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49801,"millis":0.049801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543396936,"millis":543.396936,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":454706,"millis":0.454706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":670709,"millis":0.670709,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":637709,"millis":0.637709,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":573608,"millis":0.573608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":475107,"millis":0.475107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":398205,"millis":0.398205,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26101,"millis":0.026101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":293304,"millis":0.293304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":310704,"millis":0.310704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":323505,"millis":0.323505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105302,"millis":0.105302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":206103,"millis":0.206103,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.074 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":438406,"millis":0.438406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84601,"millis":0.084601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.074 [print] OGC:WMS \n"},{"result":{"nanos":321905,"millis":0.321905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":136802,"millis":0.136802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.075 [print] #notpresent \n"},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147902,"millis":0.147902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.075 [print] OGC:WMS \n"},{"result":{"nanos":463406,"millis":0.463406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74501,"millis":0.074501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.076 [print] Beheer PDOK \n"},{"result":{"nanos":38401,"millis":0.038401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.076 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":403905,"millis":0.403905,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":578207,"millis":0.578207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":476206,"millis":0.476206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.282159,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","startTime":1633064341524,"refId":"[1.158:67]","endTime":1633064342077,"exampleData":{"datasetIdentifierCode":"ac3a9efe-2154-4a4c-aae3-ea269044945d"},"exampleIndex":157},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.541 karate.env system property was: null \n"},{"result":{"nanos":26501,"millis":0.026501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64101,"millis":0.064101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":202503,"millis":0.202503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":366405,"millis":0.366405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":403006,"millis":0.403006,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14401,"millis":0.014401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51501,"millis":0.051501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534654316,"millis":534.654316,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":323105,"millis":0.323105,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":343505,"millis":0.343505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":444706,"millis":0.444706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":700910,"millis":0.70091,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":389905,"millis":0.389905,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":793411,"millis":0.793411,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320305,"millis":0.320305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":291104,"millis":0.291104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":308704,"millis":0.308704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74001,"millis":0.074001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":269603,"millis":0.269603,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.083 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":390706,"millis":0.390706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140502,"millis":0.140502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.083 [print] OGC:WMS \n"},{"result":{"nanos":314204,"millis":0.314204,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.084 [print] #notpresent \n"},{"result":{"nanos":214703,"millis":0.214703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":340305,"millis":0.340305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.084 [print] OGC:WMS \n"},{"result":{"nanos":1006914,"millis":1.006914,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":162902,"millis":0.162902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.085 [print] Beheer PDOK \n"},{"result":{"nanos":239803,"millis":0.239803,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.086 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":448007,"millis":0.448007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":460706,"millis":0.460706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":426606,"millis":0.426606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.484452,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","startTime":1633064341541,"refId":"[1.159:67]","endTime":1633064342087,"exampleData":{"datasetIdentifierCode":"5523cfd7-a72c-409e-a0c7-89b858aafa64"},"exampleIndex":158},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.588 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71101,"millis":0.071101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55501,"millis":0.055501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232404,"millis":0.232404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":350705,"millis":0.350705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31501,"millis":0.031501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67501,"millis":0.067501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537322552,"millis":537.322552,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":369205,"millis":0.369205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":447306,"millis":0.447306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417606,"millis":0.417606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":320605,"millis":0.320605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":373505,"millis":0.373505,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":400705,"millis":0.400705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":367205,"millis":0.367205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":302404,"millis":0.302404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":297304,"millis":0.297304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1799425,"millis":1.799425,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":600608,"millis":0.600608,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.133 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":350205,"millis":0.350205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":435206,"millis":0.435206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.134 [print] OGC:WMS \n"},{"result":{"nanos":355205,"millis":0.355205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":528008,"millis":0.528008,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.134 [print] #notpresent \n"},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":516707,"millis":0.516707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.135 [print] OGC:WMS \n"},{"result":{"nanos":348005,"millis":0.348005,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":431406,"millis":0.431406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.136 [print] Beheer PDOK \n"},{"result":{"nanos":623308,"millis":0.623308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.136 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":374705,"millis":0.374705,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":577808,"millis":0.577808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2678336,"millis":2.678336,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.310444,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","startTime":1633064341588,"refId":"[1.160:67]","endTime":1633064342140,"exampleData":{"datasetIdentifierCode":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9"},"exampleIndex":159},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19701,"millis":0.019701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.872 karate.env system property was: null \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70701,"millis":0.070701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":273404,"millis":0.273404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41201,"millis":0.041201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1271217,"millis":1.271217,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":354605,"millis":0.354605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537638957,"millis":537.638957,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3001,"millis":0.003001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":409305,"millis":0.409305,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":363504,"millis":0.363504,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":313204,"millis":0.313204,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":301804,"millis":0.301804,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":382105,"millis":0.382105,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":318204,"millis":0.318204,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":256303,"millis":0.256303,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":275203,"millis":0.275203,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":345505,"millis":0.345505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70601,"millis":0.070601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116502,"millis":0.116502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.415 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":293704,"millis":0.293704,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95402,"millis":0.095402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.416 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":325204,"millis":0.325204,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98402,"millis":0.098402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.416 [print] #notpresent \n"},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76301,"millis":0.076301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.416 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":373105,"millis":0.373105,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90901,"millis":0.090901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.417 [print] Beheer PDOK \n"},{"result":{"nanos":73201,"millis":0.073201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.417 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":431906,"millis":0.431906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":820711,"millis":0.820711,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":663209,"millis":0.663209,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.533377,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","startTime":1633064341871,"refId":"[1.161:67]","endTime":1633064342419,"exampleData":{"datasetIdentifierCode":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1"},"exampleIndex":160},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.079 karate.env system property was: null \n"},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54301,"millis":0.054301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55801,"millis":0.055801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289604,"millis":0.289604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42401,"millis":0.042401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382605,"millis":0.382605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32401,"millis":0.032401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":128902,"millis":0.128902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19901,"millis":0.019901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521690639,"millis":521.690639,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":387106,"millis":0.387106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":385105,"millis":0.385105,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":586508,"millis":0.586508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":359205,"millis":0.359205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":394806,"millis":0.394806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":365705,"millis":0.365705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":862011,"millis":0.862011,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":330904,"millis":0.330904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":301304,"millis":0.301304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77502,"millis":0.077502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125801,"millis":0.125801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.607 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":372805,"millis":0.372805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87501,"millis":0.087501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.607 [print] OGC:WMS \n"},{"result":{"nanos":334105,"millis":0.334105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95301,"millis":0.095301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.608 [print] #notpresent \n"},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65201,"millis":0.065201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.608 [print] OGC:WMS \n"},{"result":{"nanos":439906,"millis":0.439906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.608 [print] Beheer PDOK \n"},{"result":{"nanos":78001,"millis":0.078001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.609 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":376605,"millis":0.376605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":738111,"millis":0.738111,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318004,"millis":0.318004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.082256,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","startTime":1633064342079,"refId":"[1.162:67]","endTime":1633064342610,"exampleData":{"datasetIdentifierCode":"89b35a6c-c099-456b-8eaf-2b83c7a35c74"},"exampleIndex":161},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.093 karate.env system property was: null \n"},{"result":{"nanos":47501,"millis":0.047501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":160502,"millis":0.160502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223803,"millis":0.223803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52601,"millis":0.052601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410505,"millis":0.410505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":554408,"millis":0.554408,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16001,"millis":0.016001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530048453,"millis":530.048453,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":398806,"millis":0.398806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":418906,"millis":0.418906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367405,"millis":0.367405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":27190772,"millis":27.190772,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":950013,"millis":0.950013,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":500607,"millis":0.500607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":151802,"millis":0.151802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":412906,"millis":0.412906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":432406,"millis":0.432406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":450606,"millis":0.450606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148502,"millis":0.148502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1030915,"millis":1.030915,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.659 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":505407,"millis":0.505407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":184402,"millis":0.184402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.660 [print] OGC:WFS \n"},{"result":{"nanos":567308,"millis":0.567308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":271303,"millis":0.271303,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.661 [print] #notpresent \n"},{"result":{"nanos":91001,"millis":0.091001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":146302,"millis":0.146302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.661 [print] OGC:WFS \n"},{"result":{"nanos":442606,"millis":0.442606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":197403,"millis":0.197403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.662 [print] Beheer PDOK \n"},{"result":{"nanos":407006,"millis":0.407006,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.663 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":440306,"millis":0.440306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":477807,"millis":0.477807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330504,"millis":0.330504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.279277,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d7d19437-f875-45b3-86cd-2fa3335479ec","startTime":1633064342093,"refId":"[1.163:67]","endTime":1633064342664,"exampleData":{"datasetIdentifierCode":"d7d19437-f875-45b3-86cd-2fa3335479ec"},"exampleIndex":162},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.142 karate.env system property was: null \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49101,"millis":0.049101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242003,"millis":0.242003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443906,"millis":0.443906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37301,"millis":0.037301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":414105,"millis":0.414105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50901,"millis":0.050901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534336611,"millis":534.336611,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":458906,"millis":0.458906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":432806,"millis":0.432806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":639009,"millis":0.639009,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":499807,"millis":0.499807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":591808,"millis":0.591808,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":576708,"millis":0.576708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73201,"millis":0.073201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":554607,"millis":0.554607,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421206,"millis":0.421206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":627709,"millis":0.627709,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":139102,"millis":0.139102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":401105,"millis":0.401105,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.684 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":423906,"millis":0.423906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":257004,"millis":0.257004,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.685 [print] OGC:WFS \n"},{"result":{"nanos":423006,"millis":0.423006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":272704,"millis":0.272704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.685 [print] #notpresent \n"},{"result":{"nanos":82801,"millis":0.082801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":171502,"millis":0.171502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.686 [print] OGC:WFS \n"},{"result":{"nanos":609409,"millis":0.609409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":167002,"millis":0.167002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.686 [print] Beheer PDOK \n"},{"result":{"nanos":438906,"millis":0.438906,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.687 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":442806,"millis":0.442806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":733810,"millis":0.73381,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":821311,"millis":0.821311,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.031372,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","startTime":1633064342142,"refId":"[1.164:67]","endTime":1633064342689,"exampleData":{"datasetIdentifierCode":"63f622ef-46b3-411a-a2aa-045cabf1e3ac"},"exampleIndex":163},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.421 karate.env system property was: null \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51501,"millis":0.051501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225103,"millis":0.225103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":320805,"millis":0.320805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51001,"millis":0.051001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513942733,"millis":513.942733,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":514507,"millis":0.514507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":408906,"millis":0.408906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":370505,"millis":0.370505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":366805,"millis":0.366805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":528308,"millis":0.528308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":484806,"millis":0.484806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":104001,"millis":0.104001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":409706,"millis":0.409706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":432306,"millis":0.432306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151403,"millis":0.151403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":255303,"millis":0.255303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.941 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":405506,"millis":0.405506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":176402,"millis":0.176402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.941 [print] OGC:WFS \n"},{"result":{"nanos":431506,"millis":0.431506,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":158402,"millis":0.158402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.942 [print] #notpresent \n"},{"result":{"nanos":139902,"millis":0.139902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":177802,"millis":0.177802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.942 [print] OGC:WFS \n"},{"result":{"nanos":672309,"millis":0.672309,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":149202,"millis":0.149202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.943 [print] Beheer PDOK \n"},{"result":{"nanos":145802,"millis":0.145802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.943 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":513207,"millis":0.513207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596508,"millis":0.596508,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":345305,"millis":0.345305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.18766,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"bc0b75c6-3eef-49de-aca2-8483024903c1","startTime":1633064342421,"refId":"[1.165:67]","endTime":1633064342945,"exampleData":{"datasetIdentifierCode":"bc0b75c6-3eef-49de-aca2-8483024903c1"},"exampleIndex":164},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.612 karate.env system property was: null \n"},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66001,"millis":0.066001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238603,"millis":0.238603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":72401,"millis":0.072401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":308505,"millis":0.308505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":322704,"millis":0.322704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537526855,"millis":537.526855,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":661409,"millis":0.661409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":419706,"millis":0.419706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":439706,"millis":0.439706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":520407,"millis":0.520407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":829912,"millis":0.829912,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":598408,"millis":0.598408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":100302,"millis":0.100302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":701709,"millis":0.701709,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":457707,"millis":0.457707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":375705,"millis":0.375705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":328505,"millis":0.328505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":287204,"millis":0.287204,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.158 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":460006,"millis":0.460006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":308105,"millis":0.308105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.159 [print] OGC:WMS \n"},{"result":{"nanos":408605,"millis":0.408605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":296405,"millis":0.296405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.160 [print] #notpresent \n"},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":252904,"millis":0.252904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.160 [print] OGC:WMS \n"},{"result":{"nanos":509107,"millis":0.509107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":314304,"millis":0.314304,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.161 [print] Beheer PDOK \n"},{"result":{"nanos":233003,"millis":0.233003,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.161 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":397805,"millis":0.397805,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":495807,"millis":0.495807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":359705,"millis":0.359705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.668509,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","startTime":1633064342611,"refId":"[1.166:67]","endTime":1633064343163,"exampleData":{"datasetIdentifierCode":"7b8f44b5-6eae-4113-a835-84b8678c3dd5"},"exampleIndex":165},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.667 karate.env system property was: null \n"},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":340105,"millis":0.340105,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":131202,"millis":0.131202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367305,"millis":0.367305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":173903,"millis":0.173903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435606,"millis":0.435606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":81901,"millis":0.081901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":232403,"millis":0.232403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37001,"millis":0.037001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23501,"millis":0.023501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":22001,"millis":0.022001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537918761,"millis":537.918761,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":461807,"millis":0.461807,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":498607,"millis":0.498607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":385105,"millis":0.385105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":375905,"millis":0.375905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":399806,"millis":0.399806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":380605,"millis":0.380605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22601,"millis":0.022601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":313504,"millis":0.313504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":298004,"millis":0.298004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":303605,"millis":0.303605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":229403,"millis":0.229403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.211 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":355805,"millis":0.355805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":129102,"millis":0.129102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.212 [print] OGC:WFS \n"},{"result":{"nanos":376905,"millis":0.376905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98901,"millis":0.098901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.212 [print] #notpresent \n"},{"result":{"nanos":112801,"millis":0.112801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95702,"millis":0.095702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.212 [print] OGC:WFS \n"},{"result":{"nanos":432506,"millis":0.432506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64101,"millis":0.064101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.213 [print] Beheer PDOK \n"},{"result":{"nanos":97902,"millis":0.097902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.213 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":411605,"millis":0.411605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":516207,"millis":0.516207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":441706,"millis":0.441706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.853685,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b023459a-9f0e-4d53-8059-a794119abbed","startTime":1633064342666,"refId":"[1.167:67]","endTime":1633064343214,"exampleData":{"datasetIdentifierCode":"b023459a-9f0e-4d53-8059-a794119abbed"},"exampleIndex":166},{"sectionIndex":0,"stepResults":[{"result":{"nanos":84601,"millis":0.084601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.693 karate.env system property was: null \n"},{"result":{"nanos":39601,"millis":0.039601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":167602,"millis":0.167602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":157502,"millis":0.157502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":525607,"millis":0.525607,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":189003,"millis":0.189003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401005,"millis":0.401005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":146702,"millis":0.146702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":288004,"millis":0.288004,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26701,"millis":0.026701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":30401,"millis":0.030401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":45601,"millis":0.045601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523362461,"millis":523.362461,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":388206,"millis":0.388206,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":397705,"millis":0.397705,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389605,"millis":0.389605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":401505,"millis":0.401505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":397105,"millis":0.397105,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":426806,"millis":0.426806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26401,"millis":0.026401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":290304,"millis":0.290304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":300304,"millis":0.300304,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":494707,"millis":0.494707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77901,"millis":0.077901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":765211,"millis":0.765211,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.224 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":374905,"millis":0.374905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":408905,"millis":0.408905,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.225 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":479707,"millis":0.479707,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":378405,"millis":0.378405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.226 [print] #notpresent \n"},{"result":{"nanos":34901,"millis":0.034901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.226 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":620509,"millis":0.620509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":103501,"millis":0.103501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.227 [print] Beheer PDOK \n"},{"result":{"nanos":815812,"millis":0.815812,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.227 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":427406,"millis":0.427406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":365205,"millis":0.365205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":310504,"millis":0.310504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.403214,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","startTime":1633064342693,"refId":"[1.168:67]","endTime":1633064343229,"exampleData":{"datasetIdentifierCode":"101a2cc7-bb53-4a16-98f9-bab1f4745b01"},"exampleIndex":167},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74101,"millis":0.074101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.947 karate.env system property was: null \n"},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":214203,"millis":0.214203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":199803,"millis":0.199803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":418606,"millis":0.418606,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":154802,"millis":0.154802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475507,"millis":0.475507,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90201,"millis":0.090201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":155703,"millis":0.155703,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":78001,"millis":0.078001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":45001,"millis":0.045001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539286179,"millis":539.286179,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":560908,"millis":0.560908,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":599608,"millis":0.599608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":463707,"millis":0.463707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":417205,"millis":0.417205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":458706,"millis":0.458706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":424106,"millis":0.424106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":294104,"millis":0.294104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":381305,"millis":0.381305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":419506,"millis":0.419506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":759710,"millis":0.75971,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":720310,"millis":0.72031,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.495 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":405606,"millis":0.405606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":509707,"millis":0.509707,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.496 [print] OGC:WMS \n"},{"result":{"nanos":429606,"millis":0.429606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121001,"millis":0.121001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.497 [print] #notpresent \n"},{"result":{"nanos":86002,"millis":0.086002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":207902,"millis":0.207902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.497 [print] OGC:WMS \n"},{"result":{"nanos":650509,"millis":0.650509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90301,"millis":0.090301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.498 [print] Beheer PDOK \n"},{"result":{"nanos":499807,"millis":0.499807,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.499 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":518307,"millis":0.518307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":671709,"millis":0.671709,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323604,"millis":0.323604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.461044,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","startTime":1633064342947,"refId":"[1.169:67]","endTime":1633064343501,"exampleData":{"datasetIdentifierCode":"25c69c01-8dfa-406f-bbcb-24feba25dcc6"},"exampleIndex":168},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.165 karate.env system property was: null \n"},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125002,"millis":0.125002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":223003,"millis":0.223003,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":303504,"millis":0.303504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114902,"millis":0.114902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399906,"millis":0.399906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85201,"millis":0.085201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":228503,"millis":0.228503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51701,"millis":0.051701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39401,"millis":0.039401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":25701,"millis":0.025701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539316780,"millis":539.31678,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":624508,"millis":0.624508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":552007,"millis":0.552007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":929213,"millis":0.929213,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":502407,"millis":0.502407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":747210,"millis":0.74721,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":608408,"millis":0.608408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28401,"millis":0.028401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":359105,"millis":0.359105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374705,"millis":0.374705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":307404,"millis":0.307404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85401,"millis":0.085401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":362805,"millis":0.362805,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.713 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n"},{"result":{"nanos":349805,"millis":0.349805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143302,"millis":0.143302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.713 [print] OGC:WMS \n"},{"result":{"nanos":369605,"millis":0.369605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118302,"millis":0.118302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.714 [print] #notpresent \n"},{"result":{"nanos":79401,"millis":0.079401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":117902,"millis":0.117902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.714 [print] OGC:WMS \n"},{"result":{"nanos":515507,"millis":0.515507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99701,"millis":0.099701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.715 [print] Beheer PDOK \n"},{"result":{"nanos":192002,"millis":0.192002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.715 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":541907,"millis":0.541907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":650409,"millis":0.650409,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":458507,"millis":0.458507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.243029,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a7aeddf2-3b37-4668-9c75-de93d9326276","startTime":1633064343165,"refId":"[1.170:67]","endTime":1633064343716,"exampleData":{"datasetIdentifierCode":"a7aeddf2-3b37-4668-9c75-de93d9326276"},"exampleIndex":169},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.217 karate.env system property was: null \n"},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":212902,"millis":0.212902,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":316705,"millis":0.316705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":119401,"millis":0.119401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":173502,"millis":0.173502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14801,"millis":0.014801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53801,"millis":0.053801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":502851481,"millis":502.851481,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":565008,"millis":0.565008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":1029114,"millis":1.029114,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":568107,"millis":0.568107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":472306,"millis":0.472306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":516407,"millis":0.516407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462606,"millis":0.462606,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320305,"millis":0.320305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350905,"millis":0.350905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":378805,"millis":0.378805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":674010,"millis":0.67401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":870012,"millis":0.870012,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.728 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":503307,"millis":0.503307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":546807,"millis":0.546807,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.729 [print] OGC:WFS \n"},{"result":{"nanos":426406,"millis":0.426406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":366705,"millis":0.366705,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.730 [print] #notpresent \n"},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":375406,"millis":0.375406,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.730 [print] OGC:WFS \n"},{"result":{"nanos":723910,"millis":0.72391,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":358405,"millis":0.358405,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.731 [print] Beheer PDOK \n"},{"result":{"nanos":794811,"millis":0.794811,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.732 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":2046128,"millis":2.046128,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":359205,"millis":0.359205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":359305,"millis":0.359305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":517.140173,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1601e160-91e8-4091-9aca-10294f819d42","startTime":1633064343217,"refId":"[1.171:67]","endTime":1633064343735,"exampleData":{"datasetIdentifierCode":"1601e160-91e8-4091-9aca-10294f819d42"},"exampleIndex":170},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.230 karate.env system property was: null \n"},{"result":{"nanos":24801,"millis":0.024801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42301,"millis":0.042301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":180903,"millis":0.180903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368205,"millis":0.368205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541298107,"millis":541.298107,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":411706,"millis":0.411706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":387505,"millis":0.387505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":361205,"millis":0.361205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":348805,"millis":0.348805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":416506,"millis":0.416506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":391705,"millis":0.391705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22601,"millis":0.022601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":307504,"millis":0.307504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":274404,"millis":0.274404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":285204,"millis":0.285204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":53601,"millis":0.053601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":60801,"millis":0.060801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.777 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":299304,"millis":0.299304,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116702,"millis":0.116702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.777 [print] OGC:WMS \n"},{"result":{"nanos":323204,"millis":0.323204,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114802,"millis":0.114802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.778 [print] #notpresent \n"},{"result":{"nanos":31601,"millis":0.031601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":116801,"millis":0.116801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.778 [print] OGC:WMS \n"},{"result":{"nanos":408906,"millis":0.408906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61501,"millis":0.061501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.778 [print] Beheer PDOK \n"},{"result":{"nanos":73601,"millis":0.073601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.778 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":396006,"millis":0.396006,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":378605,"millis":0.378605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":433106,"millis":0.433106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.330905,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"275b64ab-34c2-41f8-8904-97812c7f716e","startTime":1633064343230,"refId":"[1.172:67]","endTime":1633064343780,"exampleData":{"datasetIdentifierCode":"275b64ab-34c2-41f8-8904-97812c7f716e"},"exampleIndex":171},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.503 karate.env system property was: null \n"},{"result":{"nanos":27501,"millis":0.027501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49201,"millis":0.049201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":283604,"millis":0.283604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44901,"millis":0.044901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":364805,"millis":0.364805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":423106,"millis":0.423106,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24001,"millis":0.024001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":148502,"millis":0.148502,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":8401,"millis":0.008401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520305119,"millis":520.305119,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":618608,"millis":0.618608,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":472207,"millis":0.472207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":509707,"millis":0.509707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":426506,"millis":0.426506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":669409,"millis":0.669409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":563508,"millis":0.563508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":462006,"millis":0.462006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374605,"millis":0.374605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":371205,"millis":0.371205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1074815,"millis":1.074815,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":279904,"millis":0.279904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.031 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":4020555,"millis":4.020555,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":141002,"millis":0.141002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.035 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":407405,"millis":0.407405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120001,"millis":0.120001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.036 [print] #notpresent \n"},{"result":{"nanos":33001,"millis":0.033001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":90001,"millis":0.090001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.036 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":458206,"millis":0.458206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":115701,"millis":0.115701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.037 [print] Beheer PDOK \n"},{"result":{"nanos":92602,"millis":0.092602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.037 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":543907,"millis":0.543907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":675810,"millis":0.67581,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":331504,"millis":0.331504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.725817,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","startTime":1633064343503,"refId":"[1.173:67]","endTime":1633064344038,"exampleData":{"datasetIdentifierCode":"c6fa88ab-e440-414b-a773-793c4ce6d8df"},"exampleIndex":172},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.718 karate.env system property was: null \n"},{"result":{"nanos":43801,"millis":0.043801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49201,"millis":0.049201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":331105,"millis":0.331105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":598309,"millis":0.598309,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97602,"millis":0.097602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6401,"millis":0.006401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68001,"millis":0.068001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512937419,"millis":512.937419,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":585108,"millis":0.585108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":456607,"millis":0.456607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":441306,"millis":0.441306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":411006,"millis":0.411006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":460006,"millis":0.460006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":546108,"millis":0.546108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":404205,"millis":0.404205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":326905,"millis":0.326905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":459306,"millis":0.459306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":281504,"millis":0.281504,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":405106,"millis":0.405106,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.238 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":806211,"millis":0.806211,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159402,"millis":0.159402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.239 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":462906,"millis":0.462906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":161802,"millis":0.161802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.240 [print] #notpresent \n"},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94402,"millis":0.094402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.240 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":664409,"millis":0.664409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":194203,"millis":0.194203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.241 [print] Beheer PDOK \n"},{"result":{"nanos":124702,"millis":0.124702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.241 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":556108,"millis":0.556108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":635408,"millis":0.635408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330004,"millis":0.330004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.404866,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"db1e010a-96f8-453e-b63c-9c27d6273157","startTime":1633064343718,"refId":"[1.174:67]","endTime":1633064344243,"exampleData":{"datasetIdentifierCode":"db1e010a-96f8-453e-b63c-9c27d6273157"},"exampleIndex":173},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15001,"millis":0.015001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.736 karate.env system property was: null \n"},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":32701,"millis":0.032701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":149102,"millis":0.149102,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":301405,"millis":0.301405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43401,"millis":0.043401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11101,"millis":0.011101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49901,"millis":0.049901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528395130,"millis":528.39513,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":470106,"millis":0.470106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":876812,"millis":0.876812,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":532907,"millis":0.532907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":466907,"millis":0.466907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":684809,"millis":0.684809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":636109,"millis":0.636109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":607208,"millis":0.607208,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":466806,"millis":0.466806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":465207,"millis":0.465207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99901,"millis":0.099901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":176503,"millis":0.176503,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.271 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":498307,"millis":0.498307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":240803,"millis":0.240803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.272 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":418006,"millis":0.418006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":147102,"millis":0.147102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.273 [print] #notpresent \n"},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101001,"millis":0.101001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.273 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":645109,"millis":0.645109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.274 [print] Beheer PDOK \n"},{"result":{"nanos":111501,"millis":0.111501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.274 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":541708,"millis":0.541708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":469006,"millis":0.469006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386806,"millis":0.386806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.387268,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"35359958-c40a-486f-9cf5-567a94de905e","startTime":1633064343736,"refId":"[1.175:67]","endTime":1633064344275,"exampleData":{"datasetIdentifierCode":"35359958-c40a-486f-9cf5-567a94de905e"},"exampleIndex":174},{"sectionIndex":0,"stepResults":[{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.781 karate.env system property was: null \n"},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":240304,"millis":0.240304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347304,"millis":0.347304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":102501,"millis":0.102501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14801,"millis":0.014801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51301,"millis":0.051301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550809538,"millis":550.809538,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":409406,"millis":0.409406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":433606,"millis":0.433606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":522307,"millis":0.522307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":493507,"millis":0.493507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":458806,"millis":0.458806,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":464707,"millis":0.464707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":334004,"millis":0.334004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":361705,"millis":0.361705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":437206,"millis":0.437206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":135201,"millis":0.135201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":692409,"millis":0.692409,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.338 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":328105,"millis":0.328105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104101,"millis":0.104101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.339 [print] INSPIRE Atom \n"},{"result":{"nanos":326305,"millis":0.326305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113601,"millis":0.113601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.339 [print] #notpresent \n"},{"result":{"nanos":294504,"millis":0.294504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99502,"millis":0.099502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.340 [print] INSPIRE Atom \n"},{"result":{"nanos":395106,"millis":0.395106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97401,"millis":0.097401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.340 [print] Beheer PDOK \n"},{"result":{"nanos":316704,"millis":0.316704,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.341 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":378005,"millis":0.378005,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":604909,"millis":0.604909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347905,"millis":0.347905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.070164,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","startTime":1633064343781,"refId":"[1.176:67]","endTime":1633064344343,"exampleData":{"datasetIdentifierCode":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb"},"exampleIndex":175},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.040 karate.env system property was: null \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49801,"millis":0.049801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271704,"millis":0.271704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50901,"millis":0.050901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348605,"millis":0.348605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103202,"millis":0.103202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513751330,"millis":513.75133,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":504107,"millis":0.504107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":327504,"millis":0.327504,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":308704,"millis":0.308704,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":332305,"millis":0.332305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":359305,"millis":0.359305,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":316305,"millis":0.316305,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":255504,"millis":0.255504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":255603,"millis":0.255603,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":253903,"millis":0.253903,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":673709,"millis":0.673709,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.559 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":445407,"millis":0.445407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86401,"millis":0.086401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.560 [print] OGC:WMS \n"},{"result":{"nanos":632109,"millis":0.632109,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89701,"millis":0.089701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.561 [print] #notpresent \n"},{"result":{"nanos":32001,"millis":0.032001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":285304,"millis":0.285304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.561 [print] OGC:WMS \n"},{"result":{"nanos":583908,"millis":0.583908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90101,"millis":0.090101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.562 [print] Beheer PDOK \n"},{"result":{"nanos":652808,"millis":0.652808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.562 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":345504,"millis":0.345504,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":665510,"millis":0.66551,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":310004,"millis":0.310004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.711453,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","startTime":1633064344040,"refId":"[1.177:67]","endTime":1633064344564,"exampleData":{"datasetIdentifierCode":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa"},"exampleIndex":176},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15401,"millis":0.015401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.245 karate.env system property was: null \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44201,"millis":0.044201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47501,"millis":0.047501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236203,"millis":0.236203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":492107,"millis":0.492107,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41701,"millis":0.041701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":161702,"millis":0.161702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":195003,"millis":0.195003,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":608503026,"millis":608.503026,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":470106,"millis":0.470106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":452506,"millis":0.452506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":421305,"millis":0.421305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":472406,"millis":0.472406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":483607,"millis":0.483607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":434506,"millis":0.434506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":331505,"millis":0.331505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":341505,"millis":0.341505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":357505,"millis":0.357505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":180303,"millis":0.180303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.860 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":548507,"millis":0.548507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":131501,"millis":0.131501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.860 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":420405,"millis":0.420405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101701,"millis":0.101701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.861 [print] #notpresent \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":100801,"millis":0.100801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.861 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":515807,"millis":0.515807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68101,"millis":0.068101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.862 [print] Beheer PDOK \n"},{"result":{"nanos":92602,"millis":0.092602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.862 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":503707,"millis":0.503707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":765510,"millis":0.76551,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":448907,"millis":0.448907,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":617.675952,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","startTime":1633064344245,"refId":"[1.178:67]","endTime":1633064344864,"exampleData":{"datasetIdentifierCode":"25a99d92-ea8a-4163-82ab-3521c9b0c96b"},"exampleIndex":177},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.277 karate.env system property was: null \n"},{"result":{"nanos":44901,"millis":0.044901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":205102,"millis":0.205102,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348105,"millis":0.348105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32201,"millis":0.032201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84201,"millis":0.084201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51101,"millis":0.051101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":628112395,"millis":628.112395,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438106,"millis":0.438106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":344805,"millis":0.344805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":359405,"millis":0.359405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":338105,"millis":0.338105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":344005,"millis":0.344005,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":323104,"millis":0.323104,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":258704,"millis":0.258704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":258903,"millis":0.258903,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":261604,"millis":0.261604,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":641509,"millis":0.641509,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.910 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":296204,"millis":0.296204,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98901,"millis":0.098901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.911 [print] OGC:WFS \n"},{"result":{"nanos":299304,"millis":0.299304,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.911 [print] #notpresent \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":531708,"millis":0.531708,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.912 [print] OGC:WFS \n"},{"result":{"nanos":457606,"millis":0.457606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":134602,"millis":0.134602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.912 [print] Beheer PDOK \n"},{"result":{"nanos":99302,"millis":0.099302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.913 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":567308,"millis":0.567308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1729423,"millis":1.729423,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349505,"millis":0.349505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":637.393422,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","startTime":1633064344277,"refId":"[1.179:67]","endTime":1633064344916,"exampleData":{"datasetIdentifierCode":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1"},"exampleIndex":178},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.344 karate.env system property was: null \n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41401,"millis":0.041401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45401,"millis":0.045401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":198403,"millis":0.198403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":311005,"millis":0.311005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":279404,"millis":0.279404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":586461225,"millis":586.461225,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":309305,"millis":0.309305,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":331204,"millis":0.331204,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":328505,"millis":0.328505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":520407,"millis":0.520407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":508507,"millis":0.508507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":466207,"millis":0.466207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":281004,"millis":0.281004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":249604,"millis":0.249604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":252703,"millis":0.252703,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":386205,"millis":0.386205,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":451806,"millis":0.451806,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.937 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":297004,"millis":0.297004,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":326704,"millis":0.326704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.937 [print] OGC:WMS \n"},{"result":{"nanos":5894781,"millis":5.894781,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":372605,"millis":0.372605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.944 [print] #notpresent \n"},{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":336105,"millis":0.336105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.944 [print] OGC:WMS \n"},{"result":{"nanos":440706,"millis":0.440706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":254904,"millis":0.254904,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.945 [print] Beheer PDOK \n"},{"result":{"nanos":224603,"millis":0.224603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.945 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":370605,"millis":0.370605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":414306,"millis":0.414306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323505,"millis":0.323505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":600.963626,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","startTime":1633064344344,"refId":"[1.180:67]","endTime":1633064344946,"exampleData":{"datasetIdentifierCode":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36"},"exampleIndex":179},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.565 karate.env system property was: null \n"},{"result":{"nanos":27901,"millis":0.027901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82601,"millis":0.082601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197502,"millis":0.197502,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38901,"millis":0.038901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":307404,"millis":0.307404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29101,"millis":0.029101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96701,"millis":0.096701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70801,"millis":0.070801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527045212,"millis":527.045212,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":432406,"millis":0.432406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":700810,"millis":0.70081,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":370705,"millis":0.370705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":513507,"millis":0.513507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":670809,"millis":0.670809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":678409,"millis":0.678409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":564608,"millis":0.564608,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":363205,"millis":0.363205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":312505,"millis":0.312505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":177802,"millis":0.177802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":404406,"millis":0.404406,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.099 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":846212,"millis":0.846212,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122301,"millis":0.122301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.100 [print] OGC:WFS \n"},{"result":{"nanos":602008,"millis":0.602008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":126902,"millis":0.126902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.101 [print] #notpresent \n"},{"result":{"nanos":265603,"millis":0.265603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.101 [print] OGC:WFS \n"},{"result":{"nanos":592008,"millis":0.592008,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90601,"millis":0.090601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.102 [print] Beheer PDOK \n"},{"result":{"nanos":754310,"millis":0.75431,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.103 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":439206,"millis":0.439206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":614408,"millis":0.614408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377206,"millis":0.377206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.139461,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","startTime":1633064344565,"refId":"[1.181:67]","endTime":1633064345104,"exampleData":{"datasetIdentifierCode":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774"},"exampleIndex":180},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32201,"millis":0.032201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.866 karate.env system property was: null \n"},{"result":{"nanos":49201,"millis":0.049201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":332505,"millis":0.332505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457406,"millis":0.457406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85901,"millis":0.085901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87001,"millis":0.087001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52701,"millis":0.052701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522112636,"millis":522.112636,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":435106,"millis":0.435106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":351205,"millis":0.351205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":323805,"millis":0.323805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":368205,"millis":0.368205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":463006,"millis":0.463006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":360705,"millis":0.360705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":293904,"millis":0.293904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":267203,"millis":0.267203,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":269604,"millis":0.269604,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67801,"millis":0.067801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139702,"millis":0.139702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.393 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":311704,"millis":0.311704,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102601,"millis":0.102601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.394 [print] OGC:WMS \n"},{"result":{"nanos":284004,"millis":0.284004,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122902,"millis":0.122902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.394 [print] #notpresent \n"},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.394 [print] OGC:WMS \n"},{"result":{"nanos":371306,"millis":0.371306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.394 [print] Beheer PDOK \n"},{"result":{"nanos":77201,"millis":0.077201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.395 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":363605,"millis":0.363605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":594308,"millis":0.594308,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":334705,"millis":0.334705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.521438,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","startTime":1633064344865,"refId":"[1.182:67]","endTime":1633064345396,"exampleData":{"datasetIdentifierCode":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e"},"exampleIndex":181},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.917 karate.env system property was: null \n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37901,"millis":0.037901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":524708,"millis":0.524708,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371006,"millis":0.371006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85202,"millis":0.085202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":241903,"millis":0.241903,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55601,"millis":0.055601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536497429,"millis":536.497429,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":349205,"millis":0.349205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":345605,"millis":0.345605,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":329104,"millis":0.329104,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":337504,"millis":0.337504,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":374805,"millis":0.374805,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":333204,"millis":0.333204,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":261903,"millis":0.261903,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":293004,"millis":0.293004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":364204,"millis":0.364204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68501,"millis":0.068501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":142502,"millis":0.142502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.460 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":23881425,"millis":23.881425,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":345404,"millis":0.345404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.484 [print] OGC:WMS \n"},{"result":{"nanos":510507,"millis":0.510507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":126201,"millis":0.126201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.484 [print] #notpresent \n"},{"result":{"nanos":93401,"millis":0.093401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136102,"millis":0.136102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.485 [print] OGC:WMS \n"},{"result":{"nanos":432306,"millis":0.432306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116102,"millis":0.116102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.485 [print] Beheer PDOK \n"},{"result":{"nanos":132301,"millis":0.132301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.485 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":353404,"millis":0.353404,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":462206,"millis":0.462206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306104,"millis":0.306104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":568.151156,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","startTime":1633064344917,"refId":"[1.183:67]","endTime":1633064345487,"exampleData":{"datasetIdentifierCode":"488c1e6d-363e-4476-b2ff-17756ac9b35f"},"exampleIndex":182},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.948 karate.env system property was: null \n"},{"result":{"nanos":25301,"millis":0.025301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43801,"millis":0.043801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230203,"millis":0.230203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38401,"millis":0.038401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347305,"millis":0.347305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":213203,"millis":0.213203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539678771,"millis":539.678771,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":428806,"millis":0.428806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":333905,"millis":0.333905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":312804,"millis":0.312804,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":463307,"millis":0.463307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3152443,"millis":3.152443,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":445406,"millis":0.445406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86302,"millis":0.086302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":430806,"millis":0.430806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":405505,"millis":0.405505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":391006,"millis":0.391006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":473506,"millis":0.473506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":542508,"millis":0.542508,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.496 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":330505,"millis":0.330505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":451606,"millis":0.451606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.497 [print] OGC:WMS \n"},{"result":{"nanos":377405,"millis":0.377405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":482007,"millis":0.482007,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.498 [print] #notpresent \n"},{"result":{"nanos":101901,"millis":0.101901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":451407,"millis":0.451407,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.499 [print] OGC:WMS \n"},{"result":{"nanos":432706,"millis":0.432706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":497007,"millis":0.497007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.500 [print] Beheer PDOK \n"},{"result":{"nanos":835811,"millis":0.835811,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.500 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":475407,"millis":0.475407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":370205,"millis":0.370205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":366405,"millis":0.366405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":553.405063,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a035801a-3256-4a36-9f81-02421aacee17","startTime":1633064344947,"refId":"[1.184:67]","endTime":1633064345502,"exampleData":{"datasetIdentifierCode":"a035801a-3256-4a36-9f81-02421aacee17"},"exampleIndex":183},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32901,"millis":0.032901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.107 karate.env system property was: null \n"},{"result":{"nanos":101101,"millis":0.101101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49901,"millis":0.049901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343905,"millis":0.343905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75501,"millis":0.075501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":514607,"millis":0.514607,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35901,"millis":0.035901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100801,"millis":0.100801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34201,"millis":0.034201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72001,"millis":0.072001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516154140,"millis":516.15414,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2901,"millis":0.002901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":506007,"millis":0.506007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":385405,"millis":0.385405,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":316104,"millis":0.316104,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":427405,"millis":0.427405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":551507,"millis":0.551507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":440506,"millis":0.440506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":88802,"millis":0.088802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346704,"millis":0.346704,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":395605,"millis":0.395605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":348505,"millis":0.348505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145502,"millis":0.145502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":613609,"millis":0.613609,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.630 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":318104,"millis":0.318104,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140501,"millis":0.140501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.630 [print] OGC:WFS \n"},{"result":{"nanos":619409,"millis":0.619409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":164902,"millis":0.164902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.631 [print] #notpresent \n"},{"result":{"nanos":397206,"millis":0.397206,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":219803,"millis":0.219803,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.632 [print] OGC:WFS \n"},{"result":{"nanos":408506,"millis":0.408506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":190002,"millis":0.190002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.633 [print] Beheer PDOK \n"},{"result":{"nanos":510407,"millis":0.510407,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.633 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":390905,"millis":0.390905,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":474106,"millis":0.474106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318704,"millis":0.318704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.345978,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"feabca04-e3fd-4802-96f2-583d328e30ad","startTime":1633064345107,"refId":"[1.185:67]","endTime":1633064345634,"exampleData":{"datasetIdentifierCode":"feabca04-e3fd-4802-96f2-583d328e30ad"},"exampleIndex":184},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.401 karate.env system property was: null \n"},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":277804,"millis":0.277804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42601,"millis":0.042601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":360705,"millis":0.360705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":329205,"millis":0.329205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19201,"millis":0.019201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514368410,"millis":514.36841,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":657109,"millis":0.657109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":374705,"millis":0.374705,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":338205,"millis":0.338205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":374805,"millis":0.374805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":550708,"millis":0.550708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446406,"millis":0.446406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89402,"millis":0.089402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":474606,"millis":0.474606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":411606,"millis":0.411606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":412706,"millis":0.412706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":136702,"millis":0.136702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":280904,"millis":0.280904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.922 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":328904,"millis":0.328904,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145202,"millis":0.145202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.922 [print] OGC:WMS \n"},{"result":{"nanos":393405,"millis":0.393405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":176503,"millis":0.176503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.923 [print] #notpresent \n"},{"result":{"nanos":105701,"millis":0.105701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122301,"millis":0.122301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.923 [print] OGC:WMS \n"},{"result":{"nanos":395706,"millis":0.395706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150502,"millis":0.150502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.924 [print] Beheer PDOK \n"},{"result":{"nanos":139702,"millis":0.139702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.924 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":352405,"millis":0.352405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":492607,"millis":0.492607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":468006,"millis":0.468006,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":523.508337,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3ac5737f-55ed-455d-8350-44af11b67fc3","startTime":1633064345400,"refId":"[1.186:67]","endTime":1633064345925,"exampleData":{"datasetIdentifierCode":"3ac5737f-55ed-455d-8350-44af11b67fc3"},"exampleIndex":185},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.491 karate.env system property was: null \n"},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125802,"millis":0.125802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":134402,"millis":0.134402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":304904,"millis":0.304904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112202,"millis":0.112202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":526207,"millis":0.526207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":124002,"millis":0.124002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":145202,"millis":0.145202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":132602,"millis":0.132602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44801,"millis":0.044801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26101,"millis":0.026101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":25501,"millis":0.025501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527779692,"millis":527.779692,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":10901,"millis":0.010901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":558907,"millis":0.558907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":405705,"millis":0.405705,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":378805,"millis":0.378805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":393906,"millis":0.393906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":684709,"millis":0.684709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":626208,"millis":0.626208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":78601,"millis":0.078601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":409105,"millis":0.409105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":376805,"millis":0.376805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":674709,"millis":0.674709,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":154902,"millis":0.154902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":872212,"millis":0.872212,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.027 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":852911,"millis":0.852911,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72001,"millis":0.072001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.028 [print] OGC:WMS \n"},{"result":{"nanos":299404,"millis":0.299404,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68201,"millis":0.068201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.029 [print] #notpresent \n"},{"result":{"nanos":77601,"millis":0.077601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":344004,"millis":0.344004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.029 [print] OGC:WMS \n"},{"result":{"nanos":356405,"millis":0.356405,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.030 [print] Beheer PDOK \n"},{"result":{"nanos":697209,"millis":0.697209,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.031 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":359905,"millis":0.359905,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":468107,"millis":0.468107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":337104,"millis":0.337104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.286346,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","startTime":1633064345490,"refId":"[1.187:67]","endTime":1633064346032,"exampleData":{"datasetIdentifierCode":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d"},"exampleIndex":186},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.504 karate.env system property was: null \n"},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":112302,"millis":0.112302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113601,"millis":0.113601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228603,"millis":0.228603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116401,"millis":0.116401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348405,"millis":0.348405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109202,"millis":0.109202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":464606,"millis":0.464606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":98001,"millis":0.098001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58001,"millis":0.058001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28901,"millis":0.028901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542172088,"millis":542.172088,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":400706,"millis":0.400706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":497307,"millis":0.497307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432606,"millis":0.432606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":462806,"millis":0.462806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":463007,"millis":0.463007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":450506,"millis":0.450506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320605,"millis":0.320605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":413606,"millis":0.413606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":386105,"millis":0.386105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":424706,"millis":0.424706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":480107,"millis":0.480107,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.053 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":382905,"millis":0.382905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":362805,"millis":0.362805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.054 [print] #notpresent \n"},{"result":{"nanos":375805,"millis":0.375805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":572108,"millis":0.572108,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.055 [print] OGC:WFS \n"},{"result":{"nanos":45201,"millis":0.045201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":455706,"millis":0.455706,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.056 [print] #notpresent \n"},{"result":{"nanos":569107,"millis":0.569107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":492006,"millis":0.492006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.057 [print] Beheer PDOK \n"},{"result":{"nanos":748111,"millis":0.748111,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.057 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":686009,"millis":0.686009,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":504207,"millis":0.504207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":532308,"millis":0.532308,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":554.557858,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e08079df-6c19-486e-916e-5c9948cfafea","startTime":1633064345503,"refId":"[1.188:67]","endTime":1633064346059,"exampleData":{"datasetIdentifierCode":"e08079df-6c19-486e-916e-5c9948cfafea"},"exampleIndex":187},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.639 karate.env system property was: null \n"},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121402,"millis":0.121402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":148902,"millis":0.148902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":296204,"millis":0.296204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116502,"millis":0.116502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396405,"millis":0.396405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84601,"millis":0.084601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114401,"millis":0.114401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37901,"millis":0.037901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":116801,"millis":0.116801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514477410,"millis":514.47741,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":639509,"millis":0.639509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":458306,"millis":0.458306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":421906,"millis":0.421906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":527707,"millis":0.527707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":498706,"millis":0.498706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":429405,"millis":0.429405,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":343205,"millis":0.343205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":324004,"millis":0.324004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":444006,"millis":0.444006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91601,"millis":0.091601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1081815,"millis":1.081815,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.161 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":403106,"millis":0.403106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":381105,"millis":0.381105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.162 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":423006,"millis":0.423006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":381205,"millis":0.381205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.163 [print] #notpresent \n"},{"result":{"nanos":37201,"millis":0.037201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":517907,"millis":0.517907,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.163 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":585108,"millis":0.585108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":460206,"millis":0.460206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.164 [print] Beheer PDOK \n"},{"result":{"nanos":1959827,"millis":1.959827,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.166 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n"},{"result":{"nanos":519007,"millis":0.519007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":820512,"millis":0.820512,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":458906,"millis":0.458906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.396895,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"74620aa8-4fa2-414d-8350-50d93e500da8","startTime":1633064345638,"refId":"[1.189:67]","endTime":1633064346168,"exampleData":{"datasetIdentifierCode":"74620aa8-4fa2-414d-8350-50d93e500da8"},"exampleIndex":188},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.928 karate.env system property was: null \n"},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":124502,"millis":0.124502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":121602,"millis":0.121602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315804,"millis":0.315804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142302,"millis":0.142302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394806,"millis":0.394806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85001,"millis":0.085001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115402,"millis":0.115402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61201,"millis":0.061201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28701,"millis":0.028701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":27401,"millis":0.027401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":553683245,"millis":553.683245,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":495907,"millis":0.495907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":472207,"millis":0.472207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":450506,"millis":0.450506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":412506,"millis":0.412506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":533807,"millis":0.533807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":459106,"millis":0.459106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348105,"millis":0.348105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":325205,"millis":0.325205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":369905,"millis":0.369905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":366305,"millis":0.366305,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.488 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n"},{"result":{"nanos":370105,"millis":0.370105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.489 [print] #notpresent \n"},{"result":{"nanos":442806,"millis":0.442806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.489 [print] OGC:WMS \n"},{"result":{"nanos":30001,"millis":0.030001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.489 [print] #notpresent \n"},{"result":{"nanos":435606,"millis":0.435606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.490 [print] Beheer PDOK \n"},{"result":{"nanos":39301,"millis":0.039301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.490 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":463306,"millis":0.463306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":780311,"millis":0.780311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":563808,"millis":0.563808,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":563.095275,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","startTime":1633064345927,"refId":"[1.190:67]","endTime":1633064346492,"exampleData":{"datasetIdentifierCode":"c474b492-da63-4a33-9bdd-b3709ce2cd6c"},"exampleIndex":189},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.034 karate.env system property was: null \n"},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45201,"millis":0.045201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":218003,"millis":0.218003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40101,"millis":0.040101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":340304,"millis":0.340304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29401,"millis":0.029401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47401,"millis":0.047401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48201,"millis":0.048201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512110279,"millis":512.110279,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":597108,"millis":0.597108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":442506,"millis":0.442506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":403905,"millis":0.403905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":426606,"millis":0.426606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":557408,"millis":0.557408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":428906,"millis":0.428906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":362605,"millis":0.362605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":365705,"millis":0.365705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":521207,"millis":0.521207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110302,"millis":0.110302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":148102,"millis":0.148102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.552 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":389805,"millis":0.389805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":59101,"millis":0.059101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.553 [print] OGC:WFS \n"},{"result":{"nanos":349805,"millis":0.349805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":45701,"millis":0.045701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.553 [print] #notpresent \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.553 [print] OGC:WFS \n"},{"result":{"nanos":433306,"millis":0.433306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60901,"millis":0.060901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.554 [print] Beheer PDOK \n"},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.554 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":478806,"millis":0.478806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":827712,"millis":0.827712,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":590408,"millis":0.590408,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":520.762697,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","startTime":1633064346034,"refId":"[1.191:67]","endTime":1633064346556,"exampleData":{"datasetIdentifierCode":"7827b68f-647e-46cc-a02a-cac48eaa5dda"},"exampleIndex":190},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.062 karate.env system property was: null \n"},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":98301,"millis":0.098301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":274604,"millis":0.274604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":593709,"millis":0.593709,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87601,"millis":0.087601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":460306,"millis":0.460306,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20001,"millis":0.020001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53001,"millis":0.053001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537445724,"millis":537.445724,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":794011,"millis":0.794011,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":506407,"millis":0.506407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":548407,"millis":0.548407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":416705,"millis":0.416705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":431006,"millis":0.431006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":401306,"millis":0.401306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":287503,"millis":0.287503,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":303604,"millis":0.303604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":301204,"millis":0.301204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":291104,"millis":0.291104,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.606 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":359105,"millis":0.359105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":211403,"millis":0.211403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.607 [print] #notpresent \n"},{"result":{"nanos":342905,"millis":0.342905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66101,"millis":0.066101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.607 [print] OGC:WFS \n"},{"result":{"nanos":30301,"millis":0.030301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.607 [print] #notpresent \n"},{"result":{"nanos":534708,"millis":0.534708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66601,"millis":0.066601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.608 [print] Beheer PDOK \n"},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.608 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":528607,"millis":0.528607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":660109,"millis":0.660109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":381906,"millis":0.381906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.942456,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","startTime":1633064346061,"refId":"[1.192:67]","endTime":1633064346610,"exampleData":{"datasetIdentifierCode":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c"},"exampleIndex":191},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.170 karate.env system property was: null \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301904,"millis":0.301904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44201,"millis":0.044201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":428806,"millis":0.428806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":394205,"millis":0.394205,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512147379,"millis":512.147379,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438006,"millis":0.438006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":426106,"millis":0.426106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":388605,"millis":0.388605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":443606,"millis":0.443606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":455306,"millis":0.455306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":437406,"millis":0.437406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32001,"millis":0.032001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":314504,"millis":0.314504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":309005,"millis":0.309005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309504,"millis":0.309504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82501,"millis":0.082501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":124902,"millis":0.124902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.688 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":335505,"millis":0.335505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102001,"millis":0.102001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.689 [print] OGC:WMS \n"},{"result":{"nanos":360304,"millis":0.360304,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110801,"millis":0.110801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.689 [print] #notpresent \n"},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78601,"millis":0.078601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.689 [print] OGC:WMS \n"},{"result":{"nanos":486007,"millis":0.486007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70801,"millis":0.070801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.690 [print] Beheer PDOK \n"},{"result":{"nanos":78301,"millis":0.078301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.690 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":476307,"millis":0.476307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1441719,"millis":1.441719,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":426205,"millis":0.426205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":521.403705,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ce963e61-779f-470f-a99d-48d9796e5ba3","startTime":1633064346170,"refId":"[1.193:67]","endTime":1633064346692,"exampleData":{"datasetIdentifierCode":"ce963e61-779f-470f-a99d-48d9796e5ba3"},"exampleIndex":192},{"sectionIndex":0,"stepResults":[{"result":{"nanos":114001,"millis":0.114001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.495 karate.env system property was: null \n"},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47801,"millis":0.047801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":283504,"millis":0.283504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40601,"millis":0.040601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335304,"millis":0.335304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29601,"millis":0.029601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51201,"millis":0.051201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518773269,"millis":518.773269,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2101,"millis":0.002101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":509207,"millis":0.509207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":418005,"millis":0.418005,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":390505,"millis":0.390505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":525707,"millis":0.525707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":574008,"millis":0.574008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":853812,"millis":0.853812,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27901,"millis":0.027901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":340804,"millis":0.340804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":367305,"millis":0.367305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":376705,"millis":0.376705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85501,"millis":0.085501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153602,"millis":0.153602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.020 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":399706,"millis":0.399706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1076015,"millis":1.076015,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.020 [print] OGC:WMS \n"},{"result":{"nanos":525207,"millis":0.525207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130802,"millis":0.130802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.022 [print] #notpresent \n"},{"result":{"nanos":32101,"millis":0.032101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78901,"millis":0.078901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.022 [print] OGC:WMS \n"},{"result":{"nanos":873012,"millis":0.873012,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105301,"millis":0.105301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.023 [print] Beheer PDOK \n"},{"result":{"nanos":861712,"millis":0.861712,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.024 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":495207,"millis":0.495207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":822311,"millis":0.822311,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":353005,"millis":0.353005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.276327,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","startTime":1633064346494,"refId":"[1.194:67]","endTime":1633064347026,"exampleData":{"datasetIdentifierCode":"5be14ec9-9bb3-4395-a061-e7e78d04a527"},"exampleIndex":193},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.558 karate.env system property was: null \n"},{"result":{"nanos":27501,"millis":0.027501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47401,"millis":0.047401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225003,"millis":0.225003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369505,"millis":0.369505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49801,"millis":0.049801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516440737,"millis":516.440737,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":470806,"millis":0.470806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":684010,"millis":0.68401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":853011,"millis":0.853011,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":555008,"millis":0.555008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":551007,"millis":0.551007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":543508,"millis":0.543508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43101,"millis":0.043101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396105,"millis":0.396105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":368806,"millis":0.368806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":431306,"millis":0.431306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71001,"millis":0.071001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":347104,"millis":0.347104,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.081 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":400505,"millis":0.400505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":282904,"millis":0.282904,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.082 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":438806,"millis":0.438806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":224603,"millis":0.224603,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.083 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":215603,"millis":0.215603,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.083 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":569308,"millis":0.569308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":256903,"millis":0.256903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.084 [print] Beheer PDOK \n"},{"result":{"nanos":325405,"millis":0.325405,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.084 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n"},{"result":{"nanos":601008,"millis":0.601008,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":663809,"millis":0.663809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":436706,"millis":0.436706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.176784,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","startTime":1633064346558,"refId":"[1.195:67]","endTime":1633064347086,"exampleData":{"datasetIdentifierCode":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d"},"exampleIndex":194},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.612 karate.env system property was: null \n"},{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":135702,"millis":0.135702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87302,"millis":0.087302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":285004,"millis":0.285004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376106,"millis":0.376106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69601,"millis":0.069601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522122415,"millis":522.122415,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":401405,"millis":0.401405,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":438606,"millis":0.438606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":375705,"millis":0.375705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":570708,"millis":0.570708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":700709,"millis":0.700709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":548407,"millis":0.548407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":322404,"millis":0.322404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350405,"millis":0.350405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":342205,"millis":0.342205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57701,"millis":0.057701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":684409,"millis":0.684409,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.141 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":336405,"millis":0.336405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.142 [print] OGC:WMS \n"},{"result":{"nanos":553508,"millis":0.553508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.142 [print] #notpresent \n"},{"result":{"nanos":252703,"millis":0.252703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":91702,"millis":0.091702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.143 [print] OGC:WMS \n"},{"result":{"nanos":609708,"millis":0.609708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70401,"millis":0.070401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.144 [print] Beheer PDOK \n"},{"result":{"nanos":271704,"millis":0.271704,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.144 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":832811,"millis":0.832811,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":688309,"millis":0.688309,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":444706,"millis":0.444706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.501657,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","startTime":1633064346612,"refId":"[1.196:67]","endTime":1633064347146,"exampleData":{"datasetIdentifierCode":"6a129fd1-0988-4b8a-975a-6ff134b6754a"},"exampleIndex":195},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.695 karate.env system property was: null \n"},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50001,"millis":0.050001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301704,"millis":0.301704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":512507,"millis":0.512507,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121102,"millis":0.121102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66001,"millis":0.066001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531585744,"millis":531.585744,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":416805,"millis":0.416805,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":425106,"millis":0.425106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":563608,"millis":0.563608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":454307,"millis":0.454307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":394805,"millis":0.394805,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":389006,"millis":0.389006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":309804,"millis":0.309804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":294604,"millis":0.294604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":329904,"millis":0.329904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94602,"millis":0.094602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.232 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":484907,"millis":0.484907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.232 [print] OGC:WFS \n"},{"result":{"nanos":430106,"millis":0.430106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100401,"millis":0.100401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.233 [print] #notpresent \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":155202,"millis":0.155202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.233 [print] OGC:WFS \n"},{"result":{"nanos":522807,"millis":0.522807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.234 [print] Beheer PDOK \n"},{"result":{"nanos":151202,"millis":0.151202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.234 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":481806,"millis":0.481806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":424206,"millis":0.424206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332705,"millis":0.332705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.897854,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e264c1e4-90fe-4968-bbf2-7019f6095348","startTime":1633064346694,"refId":"[1.197:67]","endTime":1633064347235,"exampleData":{"datasetIdentifierCode":"e264c1e4-90fe-4968-bbf2-7019f6095348"},"exampleIndex":196},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.028 karate.env system property was: null \n"},{"result":{"nanos":35201,"millis":0.035201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":364205,"millis":0.364205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41801,"millis":0.041801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":469806,"millis":0.469806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49701,"millis":0.049701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54401,"millis":0.054401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":110402,"millis":0.110402,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd415c10a-8dbf-4c01-8061-4689e5db38ac'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506755006,"millis":506.755006,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":593808,"millis":0.593808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd415c10a-8dbf-4c01-8061-4689e5db38ac'"}},{"result":{"nanos":480606,"millis":0.480606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":475007,"millis":0.475007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":570808,"millis":0.570808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":539707,"millis":0.539707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":585208,"millis":0.585208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":412706,"millis":0.412706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":355605,"millis":0.355605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":429506,"millis":0.429506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":141202,"millis":0.141202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.542 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":520807,"millis":0.520807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":149502,"millis":0.149502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.543 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":464006,"millis":0.464006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.544 [print] #notpresent \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78401,"millis":0.078401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.544 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":506207,"millis":0.506207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59801,"millis":0.059801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.544 [print] Beheer PDOK \n"},{"result":{"nanos":42201,"millis":0.042201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.544 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n"},{"result":{"nanos":455506,"millis":0.455506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":655209,"millis":0.655209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":411406,"millis":0.411406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":516.223636,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d415c10a-8dbf-4c01-8061-4689e5db38ac","startTime":1633064347028,"refId":"[1.198:67]","endTime":1633064347546,"exampleData":{"datasetIdentifierCode":"d415c10a-8dbf-4c01-8061-4689e5db38ac"},"exampleIndex":197},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.088 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42601,"millis":0.042601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":212502,"millis":0.212502,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385105,"millis":0.385105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":279804,"millis":0.279804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":4322259,"millis":4.322259,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'"}},{"result":{"nanos":12901,"millis":0.012901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518209062,"millis":518.209062,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":483407,"millis":0.483407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'"}},{"result":{"nanos":773110,"millis":0.77311,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":526908,"millis":0.526908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":498007,"millis":0.498007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":542307,"millis":0.542307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":480407,"millis":0.480407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":347605,"millis":0.347605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":384505,"millis":0.384505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":410105,"millis":0.410105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131202,"millis":0.131202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.617 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":701810,"millis":0.70181,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121902,"millis":0.121902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.618 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":516007,"millis":0.516007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":123401,"millis":0.123401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.619 [print] #notpresent \n"},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":124902,"millis":0.124902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.619 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":634609,"millis":0.634609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":128902,"millis":0.128902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.620 [print] Beheer PDOK \n"},{"result":{"nanos":143402,"millis":0.143402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.620 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n"},{"result":{"nanos":493807,"millis":0.493807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":394805,"millis":0.394805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322505,"millis":0.322505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.083651,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1","startTime":1633064347088,"refId":"[1.199:67]","endTime":1633064347621,"exampleData":{"datasetIdentifierCode":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1"},"exampleIndex":198},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.148 karate.env system property was: null \n"},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":269103,"millis":0.269103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":326405,"millis":0.326405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":80502,"millis":0.080502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":273204,"millis":0.273204,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":78301,"millis":0.078301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518705168,"millis":518.705168,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":333304,"millis":0.333304,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":313205,"millis":0.313205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":403105,"millis":0.403105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":535008,"millis":0.535008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":389305,"millis":0.389305,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":346504,"millis":0.346504,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23801,"millis":0.023801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":250103,"millis":0.250103,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":295904,"millis":0.295904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":252903,"millis":0.252903,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":201203,"millis":0.201203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.672 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":363105,"millis":0.363105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.673 [print] OGC:WFS \n"},{"result":{"nanos":381305,"millis":0.381305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120802,"millis":0.120802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.673 [print] #notpresent \n"},{"result":{"nanos":131202,"millis":0.131202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":213503,"millis":0.213503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.674 [print] OGC:WFS \n"},{"result":{"nanos":400505,"millis":0.400505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":101901,"millis":0.101901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.674 [print] Beheer PDOK \n"},{"result":{"nanos":350405,"millis":0.350405,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.674 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":357005,"millis":0.357005,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":351105,"millis":0.351105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316304,"millis":0.316304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.544875,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","startTime":1633064347148,"refId":"[1.200:67]","endTime":1633064347676,"exampleData":{"datasetIdentifierCode":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506"},"exampleIndex":199},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.237 karate.env system property was: null \n"},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":218603,"millis":0.218603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348205,"millis":0.348205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81401,"millis":0.081401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13601,"millis":0.013601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":187203,"millis":0.187203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526224871,"millis":526.224871,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":317704,"millis":0.317704,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":557408,"millis":0.557408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":367705,"millis":0.367705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":336305,"millis":0.336305,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":326204,"millis":0.326204,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":272804,"millis":0.272804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":256603,"millis":0.256603,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":308905,"millis":0.308905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92601,"millis":0.092601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":97402,"millis":0.097402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.768 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":923312,"millis":0.923312,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87702,"millis":0.087702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.769 [print] OGC:WMS \n"},{"result":{"nanos":536007,"millis":0.536007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81001,"millis":0.081001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.770 [print] #notpresent \n"},{"result":{"nanos":30001,"millis":0.030001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":371705,"millis":0.371705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.770 [print] OGC:WMS \n"},{"result":{"nanos":396106,"millis":0.396106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79901,"millis":0.079901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.770 [print] Beheer PDOK \n"},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.771 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":1264117,"millis":1.264117,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":407806,"millis":0.407806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":331405,"millis":0.331405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.243995,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f917ffa9-1531-48ea-867e-0d413d85b05a","startTime":1633064347236,"refId":"[1.201:67]","endTime":1633064347773,"exampleData":{"datasetIdentifierCode":"f917ffa9-1531-48ea-867e-0d413d85b05a"},"exampleIndex":200},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.548 karate.env system property was: null \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42601,"millis":0.042601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266003,"millis":0.266003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":315905,"millis":0.315905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14101,"millis":0.014101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51501,"millis":0.051501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512351082,"millis":512.351082,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":570208,"millis":0.570208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":419906,"millis":0.419906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":518207,"millis":0.518207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":426506,"millis":0.426506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":419705,"millis":0.419705,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":343904,"millis":0.343904,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24901,"millis":0.024901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":266904,"millis":0.266904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":280504,"millis":0.280504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":284404,"millis":0.284404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":354305,"millis":0.354305,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":297604,"millis":0.297604,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.066 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":333804,"millis":0.333804,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":219103,"millis":0.219103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.066 [print] OGC:WFS \n"},{"result":{"nanos":356605,"millis":0.356605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":287304,"millis":0.287304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.067 [print] #notpresent \n"},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":304204,"millis":0.304204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.067 [print] OGC:WFS \n"},{"result":{"nanos":583408,"millis":0.583408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":493407,"millis":0.493407,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.069 [print] Beheer PDOK \n"},{"result":{"nanos":343605,"millis":0.343605,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.069 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":598908,"millis":0.598908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":711009,"millis":0.711009,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344104,"millis":0.344104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.198214,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","startTime":1633064347548,"refId":"[1.202:67]","endTime":1633064348071,"exampleData":{"datasetIdentifierCode":"03c48a93-1e31-4c69-92c6-9a7efecf67a9"},"exampleIndex":201},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.624 karate.env system property was: null \n"},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":195402,"millis":0.195402,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":491407,"millis":0.491407,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":147302,"millis":0.147302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61101,"millis":0.061101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522775924,"millis":522.775924,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":28387487,"millis":28.387487,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":639609,"millis":0.639609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":376005,"millis":0.376005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":370105,"millis":0.370105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":561807,"millis":0.561807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":542307,"millis":0.542307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":549008,"millis":0.549008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":489707,"millis":0.489707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370506,"millis":0.370506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134101,"millis":0.134101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":297104,"millis":0.297104,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.181 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":460306,"millis":0.460306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":196203,"millis":0.196203,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.182 [print] OGC:WMS \n"},{"result":{"nanos":399706,"millis":0.399706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":123201,"millis":0.123201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.183 [print] #notpresent \n"},{"result":{"nanos":140001,"millis":0.140001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":230703,"millis":0.230703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.183 [print] OGC:WMS \n"},{"result":{"nanos":568508,"millis":0.568508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":233003,"millis":0.233003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.184 [print] Beheer PDOK \n"},{"result":{"nanos":217303,"millis":0.217303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.184 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":453707,"millis":0.453707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":514207,"millis":0.514207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302504,"millis":0.302504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.599437,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"62dc32f1-853c-416a-876b-6e083554f1b6","startTime":1633064347624,"refId":"[1.203:67]","endTime":1633064348185,"exampleData":{"datasetIdentifierCode":"62dc32f1-853c-416a-876b-6e083554f1b6"},"exampleIndex":202},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.677 karate.env system property was: null \n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39601,"millis":0.039601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226904,"millis":0.226904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388305,"millis":0.388305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65201,"millis":0.065201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29201,"millis":0.029201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513212094,"millis":513.212094,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":465706,"millis":0.465706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":431706,"millis":0.431706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":398706,"millis":0.398706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391605,"millis":0.391605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":575907,"millis":0.575907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":627908,"millis":0.627908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75301,"millis":0.075301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":382406,"millis":0.382406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390905,"millis":0.390905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395606,"millis":0.395606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":122002,"millis":0.122002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191502,"millis":0.191502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.197 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":466407,"millis":0.466407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":169302,"millis":0.169302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.197 [print] OGC:WFS \n"},{"result":{"nanos":424206,"millis":0.424206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":146702,"millis":0.146702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.198 [print] #notpresent \n"},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131201,"millis":0.131201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.198 [print] OGC:WFS \n"},{"result":{"nanos":543408,"millis":0.543408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":173302,"millis":0.173302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.199 [print] Beheer PDOK \n"},{"result":{"nanos":269504,"millis":0.269504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.199 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":523107,"millis":0.523107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":495006,"millis":0.495006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":500006,"millis":0.500006,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.603519,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","startTime":1633064347677,"refId":"[1.204:67]","endTime":1633064348201,"exampleData":{"datasetIdentifierCode":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a"},"exampleIndex":203},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.774 karate.env system property was: null \n"},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":164303,"millis":0.164303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":100901,"millis":0.100901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470807,"millis":0.470807,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":57101,"millis":0.057101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":356505,"millis":0.356505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510432856,"millis":510.432856,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":687709,"millis":0.687709,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":446606,"millis":0.446606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":400005,"millis":0.400005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404105,"millis":0.404105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":868412,"millis":0.868412,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":642009,"millis":0.642009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":430305,"millis":0.430305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":691009,"millis":0.691009,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":511707,"millis":0.511707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":141702,"millis":0.141702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":463407,"millis":0.463407,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.292 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":527707,"millis":0.527707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":270004,"millis":0.270004,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.293 [print] OGC:WMS \n"},{"result":{"nanos":479107,"millis":0.479107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":358905,"millis":0.358905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.294 [print] #notpresent \n"},{"result":{"nanos":101401,"millis":0.101401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":304104,"millis":0.304104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.294 [print] OGC:WMS \n"},{"result":{"nanos":452607,"millis":0.452607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":345204,"millis":0.345204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.295 [print] Beheer PDOK \n"},{"result":{"nanos":307404,"millis":0.307404,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.296 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":507007,"millis":0.507007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":458406,"millis":0.458406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333605,"millis":0.333605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.035112,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a1ed8a00-da07-472e-9627-99175d437c94","startTime":1633064347774,"refId":"[1.205:67]","endTime":1633064348297,"exampleData":{"datasetIdentifierCode":"a1ed8a00-da07-472e-9627-99175d437c94"},"exampleIndex":204},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.073 karate.env system property was: null \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78701,"millis":0.078701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48101,"millis":0.048101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238604,"millis":0.238604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456406,"millis":0.456406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":289204,"millis":0.289204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53101,"millis":0.053101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":554904761,"millis":554.904761,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1290117,"millis":1.290117,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":1469420,"millis":1.46942,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1414819,"millis":1.414819,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1890526,"millis":1.890526,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2962641,"millis":2.962641,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1665422,"millis":1.665422,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":117901,"millis":0.117901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1064115,"millis":1.064115,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":979913,"millis":0.979913,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1094515,"millis":1.094515,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":279103,"millis":0.279103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":214703,"millis":0.214703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.644 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1903425,"millis":1.903425,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":268203,"millis":0.268203,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.646 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1184217,"millis":1.184217,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":166202,"millis":0.166202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.648 [print] #notpresent \n"},{"result":{"nanos":169702,"millis":0.169702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145802,"millis":0.145802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.649 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1758324,"millis":1.758324,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148402,"millis":0.148402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.650 [print] Beheer PDOK \n"},{"result":{"nanos":222703,"millis":0.222703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.651 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":1860426,"millis":1.860426,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":443006,"millis":0.443006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308204,"millis":0.308204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":579.264691,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","startTime":1633064348072,"refId":"[1.206:67]","endTime":1633064348653,"exampleData":{"datasetIdentifierCode":"2b9da196-422e-4b0e-a5ba-ba41ade308e9"},"exampleIndex":205},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.188 karate.env system property was: null \n"},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":223903,"millis":0.223903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126502,"millis":0.126502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":345604,"millis":0.345604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":135601,"millis":0.135601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":834012,"millis":0.834012,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":147202,"millis":0.147202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":258404,"millis":0.258404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":68901,"millis":0.068901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40501,"millis":0.040501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":24701,"millis":0.024701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528241799,"millis":528.241799,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":718710,"millis":0.71871,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":901512,"millis":0.901512,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":964413,"millis":0.964413,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":906212,"millis":0.906212,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1101015,"millis":1.101015,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":992313,"millis":0.992313,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25001,"millis":0.025001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":734910,"millis":0.73491,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":829011,"millis":0.829011,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":817412,"millis":0.817412,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":288904,"millis":0.288904,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105601,"millis":0.105601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.728 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1414720,"millis":1.41472,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.729 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1428719,"millis":1.428719,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119101,"millis":0.119101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.731 [print] #notpresent \n"},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":790211,"millis":0.790211,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.731 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":946513,"millis":0.946513,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80401,"millis":0.080401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.733 [print] Beheer PDOK \n"},{"result":{"nanos":41501,"millis":0.041501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.733 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":1596821,"millis":1.596821,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":480306,"millis":0.480306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356505,"millis":0.356505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.401546,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","startTime":1633064348187,"refId":"[1.207:67]","endTime":1633064348735,"exampleData":{"datasetIdentifierCode":"1ce74355-763a-481d-b9d7-aaafbf0d7d53"},"exampleIndex":206},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.203 karate.env system property was: null \n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":101001,"millis":0.101001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":212002,"millis":0.212002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":718409,"millis":0.718409,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":144502,"millis":0.144502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":440006,"millis":0.440006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":188102,"millis":0.188102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":163502,"millis":0.163502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":105602,"millis":0.105602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27901,"millis":0.027901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27501,"millis":0.027501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25701,"millis":0.025701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546018941,"millis":546.018941,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":467706,"millis":0.467706,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":411805,"millis":0.411805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":356305,"millis":0.356305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":347805,"millis":0.347805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":411606,"millis":0.411606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":482007,"millis":0.482007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27901,"millis":0.027901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":338404,"millis":0.338404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":353705,"millis":0.353705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":316705,"millis":0.316705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94501,"millis":0.094501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":818811,"millis":0.818811,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.756 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":414605,"millis":0.414605,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83602,"millis":0.083602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.757 [print] OGC:WMS \n"},{"result":{"nanos":643409,"millis":0.643409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80501,"millis":0.080501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.757 [print] #notpresent \n"},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":307504,"millis":0.307504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.758 [print] OGC:WMS \n"},{"result":{"nanos":667009,"millis":0.667009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82101,"millis":0.082101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.759 [print] Beheer PDOK \n"},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.759 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":990114,"millis":0.990114,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":349104,"millis":0.349104,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":411805,"millis":0.411805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":556.876887,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","startTime":1633064348202,"refId":"[1.208:67]","endTime":1633064348760,"exampleData":{"datasetIdentifierCode":"f0c6fbfe-a172-4223-8af3-58f6a28c881d"},"exampleIndex":207},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.300 karate.env system property was: null \n"},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":132202,"millis":0.132202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109802,"millis":0.109802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":303904,"millis":0.303904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112902,"millis":0.112902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":523607,"millis":0.523607,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":272404,"millis":0.272404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":71101,"millis":0.071101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37401,"millis":0.037401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":25101,"millis":0.025101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":530540130,"millis":530.54013,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":550708,"millis":0.550708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":447906,"millis":0.447906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":413406,"millis":0.413406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":412306,"millis":0.412306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":549907,"millis":0.549907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":435506,"millis":0.435506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":306904,"millis":0.306904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":313805,"millis":0.313805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":354405,"millis":0.354405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":654409,"millis":0.654409,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.837 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":455406,"millis":0.455406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":273404,"millis":0.273404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.838 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":379705,"millis":0.379705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":223304,"millis":0.223304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.839 [print] #notpresent \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":240903,"millis":0.240903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.839 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":565507,"millis":0.565507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":328305,"millis":0.328305,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.840 [print] Beheer PDOK \n"},{"result":{"nanos":268504,"millis":0.268504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.840 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":417706,"millis":0.417706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":466006,"millis":0.466006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":372906,"millis":0.372906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.961374,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4041f923-6b77-4816-bf46-437e85416c31","startTime":1633064348299,"refId":"[1.209:67]","endTime":1633064348842,"exampleData":{"datasetIdentifierCode":"4041f923-6b77-4816-bf46-437e85416c31"},"exampleIndex":208},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53001,"millis":0.053001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.656 karate.env system property was: null \n"},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121101,"millis":0.121101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":136201,"millis":0.136201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279603,"millis":0.279603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108802,"millis":0.108802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405406,"millis":0.405406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82701,"millis":0.082701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186502,"millis":0.186502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":79001,"millis":0.079001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38101,"millis":0.038101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":86201,"millis":0.086201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520745496,"millis":520.745496,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":769910,"millis":0.76991,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":1067314,"millis":1.067314,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":590508,"millis":0.590508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":581907,"millis":0.581907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":630408,"millis":0.630408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":676209,"millis":0.676209,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356405,"millis":0.356405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":364605,"millis":0.364605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":379405,"millis":0.379405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70501,"millis":0.070501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113201,"millis":0.113201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.185 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":465006,"millis":0.465006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105501,"millis":0.105501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.186 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":469006,"millis":0.469006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56901,"millis":0.056901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.186 [print] #notpresent \n"},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147002,"millis":0.147002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.187 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":661009,"millis":0.661009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":98501,"millis":0.098501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.187 [print] Beheer PDOK \n"},{"result":{"nanos":197802,"millis":0.197802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.188 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":578608,"millis":0.578608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":644209,"millis":0.644209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":435106,"millis":0.435106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.982243,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1633064348656,"refId":"[1.210:67]","endTime":1633064349189,"exampleData":{"datasetIdentifierCode":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":209},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.737 karate.env system property was: null \n"},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41201,"millis":0.041201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47201,"millis":0.047201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":396105,"millis":0.396105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":84601,"millis":0.084601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":526808,"millis":0.526808,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":155902,"millis":0.155902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523544835,"millis":523.544835,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":361005,"millis":0.361005,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":395806,"millis":0.395806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":498307,"millis":0.498307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":431906,"millis":0.431906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":375505,"millis":0.375505,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":365205,"millis":0.365205,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":291604,"millis":0.291604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":305204,"millis":0.305204,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395205,"millis":0.395205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174302,"millis":0.174302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.267 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":434006,"millis":0.434006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.268 [print] OGC:WMS \n"},{"result":{"nanos":407706,"millis":0.407706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.268 [print] #notpresent \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":152802,"millis":0.152802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.268 [print] OGC:WMS \n"},{"result":{"nanos":534308,"millis":0.534308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77301,"millis":0.077301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.269 [print] Beheer PDOK \n"},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.269 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":544907,"millis":0.544907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":402706,"millis":0.402706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":392405,"millis":0.392405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.835249,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","startTime":1633064348737,"refId":"[1.211:67]","endTime":1633064349270,"exampleData":{"datasetIdentifierCode":"68722979-8d6c-4ee4-a81a-8381d2588fe5"},"exampleIndex":210},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.762 karate.env system property was: null \n"},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":176603,"millis":0.176603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39501,"millis":0.039501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412605,"millis":0.412605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45301,"millis":0.045301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":175203,"millis":0.175203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11701,"millis":0.011701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":34001,"millis":0.034001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539853657,"millis":539.853657,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":380405,"millis":0.380405,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":430506,"millis":0.430506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":416806,"millis":0.416806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":453706,"millis":0.453706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":492406,"millis":0.492406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":438706,"millis":0.438706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":324405,"millis":0.324405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":323504,"millis":0.323504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":337205,"millis":0.337205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":54101,"millis":0.054101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105301,"millis":0.105301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.308 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":637508,"millis":0.637508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111702,"millis":0.111702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.309 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":479207,"millis":0.479207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88101,"millis":0.088101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.309 [print] #notpresent \n"},{"result":{"nanos":109501,"millis":0.109501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73601,"millis":0.073601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.310 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":566807,"millis":0.566807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106901,"millis":0.106901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.310 [print] Beheer PDOK \n"},{"result":{"nanos":151902,"millis":0.151902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.310 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":606408,"millis":0.606408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":332305,"millis":0.332305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":296204,"millis":0.296204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.369772,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","startTime":1633064348762,"refId":"[1.212:67]","endTime":1633064349312,"exampleData":{"datasetIdentifierCode":"30f65c89-2246-49f8-8b50-0f1140d6f2aa"},"exampleIndex":211},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.843 karate.env system property was: null \n"},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43701,"millis":0.043701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":187402,"millis":0.187402,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37701,"millis":0.037701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":309104,"millis":0.309104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28401,"millis":0.028401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":208503,"millis":0.208503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":544834224,"millis":544.834224,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":387305,"millis":0.387305,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":376905,"millis":0.376905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":321305,"millis":0.321305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":499207,"millis":0.499207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":384905,"millis":0.384905,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":389305,"millis":0.389305,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348005,"millis":0.348005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":294404,"millis":0.294404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":265704,"millis":0.265704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76301,"millis":0.076301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105802,"millis":0.105802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.393 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":727210,"millis":0.72721,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":131702,"millis":0.131702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.394 [print] OGC:WFS \n"},{"result":{"nanos":471206,"millis":0.471206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60901,"millis":0.060901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.394 [print] #notpresent \n"},{"result":{"nanos":29601,"millis":0.029601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":189602,"millis":0.189602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.395 [print] OGC:WFS \n"},{"result":{"nanos":510107,"millis":0.510107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102501,"millis":0.102501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.395 [print] Beheer PDOK \n"},{"result":{"nanos":52001,"millis":0.052001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.395 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":558907,"millis":0.558907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":509607,"millis":0.509607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301104,"millis":0.301104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.954735,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"93a9571d-1754-47ee-a8f9-92633abfab3a","startTime":1633064348843,"refId":"[1.213:67]","endTime":1633064349397,"exampleData":{"datasetIdentifierCode":"93a9571d-1754-47ee-a8f9-92633abfab3a"},"exampleIndex":212},{"sectionIndex":0,"stepResults":[{"result":{"nanos":1119615,"millis":1.119615,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.191 karate.env system property was: null \n"},{"result":{"nanos":33801,"millis":0.033801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":217703,"millis":0.217703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":78301,"millis":0.078301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":494706,"millis":0.494706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104201,"millis":0.104201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":132602,"millis":0.132602,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50001,"millis":0.050001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537236521,"millis":537.236521,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":617108,"millis":0.617108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":412206,"millis":0.412206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":391505,"millis":0.391505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381006,"millis":0.381006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":451006,"millis":0.451006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":489707,"millis":0.489707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":305204,"millis":0.305204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":324404,"millis":0.324404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":326505,"millis":0.326505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65101,"millis":0.065101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":104601,"millis":0.104601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.736 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":2333632,"millis":2.333632,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111302,"millis":0.111302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.738 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":374205,"millis":0.374205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.738 [print] #notpresent \n"},{"result":{"nanos":48601,"millis":0.048601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.739 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":469706,"millis":0.469706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81801,"millis":0.081801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.739 [print] Beheer PDOK \n"},{"result":{"nanos":62101,"millis":0.062101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.739 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":509307,"millis":0.509307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":813511,"millis":0.813511,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":370805,"millis":0.370805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.835678,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b196f948-5d87-4eb4-9854-a93841c3877f","startTime":1633064349191,"refId":"[1.214:67]","endTime":1633064349741,"exampleData":{"datasetIdentifierCode":"b196f948-5d87-4eb4-9854-a93841c3877f"},"exampleIndex":213},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.272 karate.env system property was: null \n"},{"result":{"nanos":26301,"millis":0.026301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":211903,"millis":0.211903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40701,"millis":0.040701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375505,"millis":0.375505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29301,"millis":0.029301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64901,"millis":0.064901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":171502,"millis":0.171502,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":617336612,"millis":617.336612,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1921727,"millis":1.921727,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":2810838,"millis":2.810838,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2906840,"millis":2.90684,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2768938,"millis":2.768938,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3932253,"millis":3.932253,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3119642,"millis":3.119642,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29001,"millis":0.029001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1931526,"millis":1.931526,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2381533,"millis":2.381533,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1830625,"millis":1.830625,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":310204,"millis":0.310204,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":165403,"millis":0.165403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.915 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":2192830,"millis":2.19283,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":132002,"millis":0.132002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.918 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2508534,"millis":2.508534,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121402,"millis":0.121402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.920 [print] #notpresent \n"},{"result":{"nanos":266104,"millis":0.266104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":123001,"millis":0.123001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.921 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2960340,"millis":2.96034,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126302,"millis":0.126302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.924 [print] Beheer PDOK \n"},{"result":{"nanos":312304,"millis":0.312304,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.924 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":2476434,"millis":2.476434,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619508,"millis":0.619508,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1309818,"millis":1.309818,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":655.663436,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"4f4c7848-1767-4c67-be08-87d45d07f313","startTime":1633064349272,"refId":"[1.215:67]","endTime":1633064349929,"exampleData":{"datasetIdentifierCode":"4f4c7848-1767-4c67-be08-87d45d07f313"},"exampleIndex":214},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53501,"millis":0.053501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.314 karate.env system property was: null \n"},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61801,"millis":0.061801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":205803,"millis":0.205803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":345405,"millis":0.345405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":134702,"millis":0.134702,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":594768105,"millis":594.768105,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2552235,"millis":2.552235,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":2153830,"millis":2.15383,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":10217839,"millis":10.217839,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":6135684,"millis":6.135684,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2183030,"millis":2.18303,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2127929,"millis":2.127929,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1375519,"millis":1.375519,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1262318,"millis":1.262318,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1716923,"millis":1.716923,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":312505,"millis":0.312505,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":207203,"millis":0.207203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.940 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1413419,"millis":1.413419,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":188103,"millis":0.188103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.942 [print] #notpresent \n"},{"result":{"nanos":1740024,"millis":1.740024,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":222803,"millis":0.222803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.944 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96601,"millis":0.096601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.944 [print] #notpresent \n"},{"result":{"nanos":2201830,"millis":2.20183,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":111702,"millis":0.111702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.946 [print] Beheer PDOK \n"},{"result":{"nanos":96201,"millis":0.096201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.946 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":2223330,"millis":2.22333,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":463506,"millis":0.463506,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":546007,"millis":0.546007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":635.461761,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","startTime":1633064349313,"refId":"[1.216:67]","endTime":1633064349950,"exampleData":{"datasetIdentifierCode":"1fa220c2-5f2e-4943-a57e-c291cc35084b"},"exampleIndex":215},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.398 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225103,"millis":0.225103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385306,"millis":0.385306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65101,"millis":0.065101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14901,"millis":0.014901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69601,"millis":0.069601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546051341,"millis":546.051341,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2299431,"millis":2.299431,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":2227330,"millis":2.22733,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":7420201,"millis":7.420201,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2146229,"millis":2.146229,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1941226,"millis":1.941226,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1878325,"millis":1.878325,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26001,"millis":0.026001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1499720,"millis":1.49972,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1196617,"millis":1.196617,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1376919,"millis":1.376919,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":200102,"millis":0.200102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":190502,"millis":0.190502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.969 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1609722,"millis":1.609722,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":245604,"millis":0.245604,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.971 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1330918,"millis":1.330918,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":170903,"millis":0.170903,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.972 [print] #notpresent \n"},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":129502,"millis":0.129502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.972 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1770124,"millis":1.770124,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":205203,"millis":0.205203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.974 [print] Beheer PDOK \n"},{"result":{"nanos":146802,"millis":0.146802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.974 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":1929627,"millis":1.929627,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":549907,"millis":0.549907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":533007,"millis":0.533007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":578.118475,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"af4841b5-ce83-4edb-af41-429a21140316","startTime":1633064349398,"refId":"[1.217:67]","endTime":1633064349977,"exampleData":{"datasetIdentifierCode":"af4841b5-ce83-4edb-af41-429a21140316"},"exampleIndex":216},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.743 karate.env system property was: null \n"},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50401,"millis":0.050401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279804,"millis":0.279804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41501,"millis":0.041501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":333704,"millis":0.333704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30501,"millis":0.030501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66701,"millis":0.066701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531373941,"millis":531.373941,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1566022,"millis":1.566022,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":1693623,"millis":1.693623,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":32756347,"millis":32.756347,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1968227,"millis":1.968227,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2140029,"millis":2.140029,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1689923,"millis":1.689923,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":129202,"millis":0.129202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1699423,"millis":1.699423,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1647122,"millis":1.647122,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1324418,"millis":1.324418,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":296204,"millis":0.296204,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1069914,"millis":1.069914,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.324 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1623523,"millis":1.623523,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":245803,"millis":0.245803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.326 [print] #notpresent \n"},{"result":{"nanos":1666523,"millis":1.666523,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":300504,"millis":0.300504,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.328 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":423805,"millis":0.423805,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":382605,"millis":0.382605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.329 [print] #notpresent \n"},{"result":{"nanos":1813025,"millis":1.813025,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":142002,"millis":0.142002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.331 [print] Beheer PDOK \n"},{"result":{"nanos":654909,"millis":0.654909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.331 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":1520121,"millis":1.520121,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":624908,"millis":0.624908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":435906,"millis":0.435906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":590.186443,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b0119753-5625-4500-9df3-13823ff9868f","startTime":1633064349743,"refId":"[1.218:67]","endTime":1633064350334,"exampleData":{"datasetIdentifierCode":"b0119753-5625-4500-9df3-13823ff9868f"},"exampleIndex":217},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.932 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247603,"millis":0.247603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41201,"millis":0.041201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":331905,"millis":0.331905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":338005,"millis":0.338005,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51601,"millis":0.051601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":574479028,"millis":574.479028,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":559507,"millis":0.559507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":430806,"millis":0.430806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":420805,"millis":0.420805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":413505,"millis":0.413505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":540208,"millis":0.540208,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":494907,"millis":0.494907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89601,"millis":0.089601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":370605,"millis":0.370605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":552908,"millis":0.552908,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":640109,"millis":0.640109,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":139302,"millis":0.139302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":264904,"millis":0.264904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.513 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":792711,"millis":0.792711,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":181502,"millis":0.181502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.514 [print] #notpresent \n"},{"result":{"nanos":500807,"millis":0.500807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120501,"millis":0.120501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.515 [print] OGC:WFS \n"},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":169902,"millis":0.169902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.515 [print] #notpresent \n"},{"result":{"nanos":806211,"millis":0.806211,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":132602,"millis":0.132602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.516 [print] Beheer PDOK \n"},{"result":{"nanos":192903,"millis":0.192903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.516 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":565708,"millis":0.565708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":328604,"millis":0.328604,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302004,"millis":0.302004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":584.820468,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","startTime":1633064349931,"refId":"[1.219:67]","endTime":1633064350517,"exampleData":{"datasetIdentifierCode":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc"},"exampleIndex":218},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.952 karate.env system property was: null \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41801,"millis":0.041801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48501,"millis":0.048501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231003,"millis":0.231003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43301,"millis":0.043301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372105,"millis":0.372105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":3356646,"millis":3.356646,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14801,"millis":0.014801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52501,"millis":0.052501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528990209,"millis":528.990209,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":705610,"millis":0.70561,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":536107,"millis":0.536107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":483707,"millis":0.483707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":530607,"millis":0.530607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":683609,"millis":0.683609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":600908,"millis":0.600908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97402,"millis":0.097402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":442306,"millis":0.442306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":524107,"millis":0.524107,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":460107,"millis":0.460107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":157902,"millis":0.157902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":217003,"millis":0.217003,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.491 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1280018,"millis":1.280018,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":228803,"millis":0.228803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.493 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":979413,"millis":0.979413,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":173902,"millis":0.173902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.494 [print] #notpresent \n"},{"result":{"nanos":361005,"millis":0.361005,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138302,"millis":0.138302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.494 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1224817,"millis":1.224817,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":180203,"millis":0.180203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.496 [print] Beheer PDOK \n"},{"result":{"nanos":413905,"millis":0.413905,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.496 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":1280917,"millis":1.280917,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":474607,"millis":0.474607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":305304,"millis":0.305304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.763541,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"58353cdf-b3a1-454e-9284-932a7e815e57","startTime":1633064349952,"refId":"[1.220:67]","endTime":1633064350498,"exampleData":{"datasetIdentifierCode":"58353cdf-b3a1-454e-9284-932a7e815e57"},"exampleIndex":219},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19601,"millis":0.019601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.980 karate.env system property was: null \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":82401,"millis":0.082401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":74401,"millis":0.074401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214102,"millis":0.214102,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":328905,"millis":0.328905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29901,"millis":0.029901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":174202,"millis":0.174202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":591675763,"millis":591.675763,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1441220,"millis":1.44122,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":2074028,"millis":2.074028,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2035028,"millis":2.035028,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1824325,"millis":1.824325,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1789125,"millis":1.789125,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1997727,"millis":1.997727,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80901,"millis":0.080901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1190317,"millis":1.190317,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1748924,"millis":1.748924,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1387419,"millis":1.387419,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":279704,"millis":0.279704,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1017014,"millis":1.017014,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.590 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1560422,"millis":1.560422,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":441606,"millis":0.441606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.592 [print] #notpresent \n"},{"result":{"nanos":1185216,"millis":1.185216,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":621809,"millis":0.621809,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.594 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":90801,"millis":0.090801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":444506,"millis":0.444506,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.594 [print] #notpresent \n"},{"result":{"nanos":2024928,"millis":2.024928,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":595108,"millis":0.595108,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.597 [print] Beheer PDOK \n"},{"result":{"nanos":867811,"millis":0.867811,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.598 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":2127929,"millis":2.127929,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619408,"millis":0.619408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":366905,"millis":0.366905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":620.605558,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","startTime":1633064349979,"refId":"[1.221:67]","endTime":1633064350601,"exampleData":{"datasetIdentifierCode":"82541a1f-2e4e-459f-ab2f-e97cac3ad040"},"exampleIndex":220},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.337 karate.env system property was: null \n"},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":165403,"millis":0.165403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":150902,"millis":0.150902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":313404,"millis":0.313404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116002,"millis":0.116002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404105,"millis":0.404105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84201,"millis":0.084201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117801,"millis":0.117801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":139802,"millis":0.139802,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39401,"millis":0.039401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":52501,"millis":0.052501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":25201,"millis":0.025201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":580433010,"millis":580.43301,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2019028,"millis":2.019028,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":2315632,"millis":2.315632,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2501034,"millis":2.501034,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2512734,"millis":2.512734,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2851739,"millis":2.851739,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2348632,"millis":2.348632,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25201,"millis":0.025201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1627722,"millis":1.627722,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1510821,"millis":1.510821,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1714723,"millis":1.714723,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":280504,"millis":0.280504,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":243604,"millis":0.243604,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.940 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":1775424,"millis":1.775424,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97202,"millis":0.097202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.941 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1605222,"millis":1.605222,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75201,"millis":0.075201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.943 [print] #notpresent \n"},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97202,"millis":0.097202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.943 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2830238,"millis":2.830238,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96301,"millis":0.096301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.946 [print] Beheer PDOK \n"},{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.946 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":4788765,"millis":4.788765,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":675909,"millis":0.675909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317004,"millis":0.317004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":614.655877,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","startTime":1633064350336,"refId":"[1.222:67]","endTime":1633064350952,"exampleData":{"datasetIdentifierCode":"9c4862c3-0bab-49c3-bc2f-ac5486826766"},"exampleIndex":221},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.502 karate.env system property was: null \n"},{"result":{"nanos":39601,"millis":0.039601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":141802,"millis":0.141802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137502,"millis":0.137502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367805,"millis":0.367805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119702,"millis":0.119702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462606,"millis":0.462606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":115902,"millis":0.115902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":112902,"millis":0.112902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":126102,"millis":0.126102,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26301,"millis":0.026301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":625720627,"millis":625.720627,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1270818,"millis":1.270818,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":1457820,"millis":1.45782,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1680823,"millis":1.680823,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1567521,"millis":1.567521,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1515721,"millis":1.515721,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1646623,"millis":1.646623,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":961113,"millis":0.961113,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":874511,"millis":0.874511,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1140715,"millis":1.140715,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":307304,"millis":0.307304,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":745710,"millis":0.74571,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.143 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1788024,"millis":1.788024,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":571508,"millis":0.571508,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.146 [print] #notpresent \n"},{"result":{"nanos":1194917,"millis":1.194917,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":668009,"millis":0.668009,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.148 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.148 [print] #notpresent \n"},{"result":{"nanos":1682923,"millis":1.682923,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":472906,"millis":0.472906,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.150 [print] Beheer PDOK \n"},{"result":{"nanos":84901,"millis":0.084901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.150 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":1728123,"millis":1.728123,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596908,"millis":0.596908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":310604,"millis":0.310604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":649.993257,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","startTime":1633064350501,"refId":"[1.223:67]","endTime":1633064351153,"exampleData":{"datasetIdentifierCode":"9c5351c8-d8f4-41c2-9642-42a63496a6fe"},"exampleIndex":222},{"sectionIndex":0,"stepResults":[{"result":{"nanos":86301,"millis":0.086301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.519 karate.env system property was: null \n"},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107701,"millis":0.107701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":111902,"millis":0.111902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":245603,"millis":0.245603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110402,"millis":0.110402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382305,"millis":0.382305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98002,"millis":0.098002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118301,"millis":0.118301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40601,"millis":0.040601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30101,"millis":0.030101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23201,"millis":0.023201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":622422282,"millis":622.422282,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":408606,"millis":0.408606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":569808,"millis":0.569808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":562507,"millis":0.562507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":448206,"millis":0.448206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":559608,"millis":0.559608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":408905,"millis":0.408905,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":312904,"millis":0.312904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":329805,"millis":0.329805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":355205,"millis":0.355205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1080115,"millis":1.080115,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":483206,"millis":0.483206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.149 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n"},{"result":{"nanos":393405,"millis":0.393405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":473607,"millis":0.473607,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.150 [print] OGC:WFS \n"},{"result":{"nanos":379205,"millis":0.379205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":369805,"millis":0.369805,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.152 [print] #notpresent \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":352005,"millis":0.352005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.152 [print] OGC:WFS \n"},{"result":{"nanos":425006,"millis":0.425006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":359305,"millis":0.359305,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.153 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":552908,"millis":0.552908,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.153 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":477007,"millis":0.477007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":509207,"millis":0.509207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":4776565,"millis":4.776565,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":638.553702,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"702060c1-b3fd-44ec-8cc6-d4249d150110","startTime":1633064350519,"refId":"[1.224:67]","endTime":1633064351159,"exampleData":{"datasetIdentifierCode":"702060c1-b3fd-44ec-8cc6-d4249d150110"},"exampleIndex":223},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71901,"millis":0.071901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.604 karate.env system property was: null \n"},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":176602,"millis":0.176602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":309105,"millis":0.309105,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":398805,"millis":0.398805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112002,"millis":0.112002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":534207,"millis":0.534207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":467406,"millis":0.467406,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70901,"millis":0.070901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23401,"millis":0.023401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22701,"millis":0.022701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":563088973,"millis":563.088973,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":492907,"millis":0.492907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":569008,"millis":0.569008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":638109,"millis":0.638109,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":491607,"millis":0.491607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":547807,"millis":0.547807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":466506,"millis":0.466506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":333904,"millis":0.333904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":349805,"millis":0.349805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":338105,"millis":0.338105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":302804,"millis":0.302804,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":124202,"millis":0.124202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.175 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":474107,"millis":0.474107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103601,"millis":0.103601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.176 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":457707,"millis":0.457707,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95201,"millis":0.095201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.176 [print] #notpresent \n"},{"result":{"nanos":130602,"millis":0.130602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.176 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":556308,"millis":0.556308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102401,"millis":0.102401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.177 [print] Beheer PDOK \n"},{"result":{"nanos":158703,"millis":0.158703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.177 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":535607,"millis":0.535607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":417006,"millis":0.417006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342505,"millis":0.342505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":573.675619,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7681eb19-a914-4dc7-9208-c2a131dca06d","startTime":1633064350603,"refId":"[1.225:67]","endTime":1633064351179,"exampleData":{"datasetIdentifierCode":"7681eb19-a914-4dc7-9208-c2a131dca06d"},"exampleIndex":224},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.954 karate.env system property was: null \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45301,"millis":0.045301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47901,"millis":0.047901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":224503,"millis":0.224503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450506,"millis":0.450506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50501,"millis":0.050501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":107701,"millis":0.107701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7e450110-f643-4b73-9262-4f13966cffc6'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517799656,"millis":517.799656,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":535208,"millis":0.535208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e450110-f643-4b73-9262-4f13966cffc6'"}},{"result":{"nanos":485407,"millis":0.485407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":406005,"millis":0.406005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":439006,"millis":0.439006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":539108,"millis":0.539108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":412706,"millis":0.412706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":312804,"millis":0.312804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":373605,"millis":0.373605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":477406,"millis":0.477406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96802,"millis":0.096802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":135802,"millis":0.135802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.478 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2009\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":456706,"millis":0.456706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":221503,"millis":0.221503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.479 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":419005,"millis":0.419005,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100801,"millis":0.100801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.479 [print] #notpresent \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74101,"millis":0.074101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.479 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":524507,"millis":0.524507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.480 [print] Beheer PDOK \n"},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.480 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":440806,"millis":0.440806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":613209,"millis":0.613209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":327304,"millis":0.327304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.474974,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7e450110-f643-4b73-9262-4f13966cffc6","startTime":1633064350954,"refId":"[1.226:67]","endTime":1633064351481,"exampleData":{"datasetIdentifierCode":"7e450110-f643-4b73-9262-4f13966cffc6"},"exampleIndex":225},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.156 karate.env system property was: null \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63001,"millis":0.063001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51401,"millis":0.051401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286404,"millis":0.286404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41201,"millis":0.041201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388605,"millis":0.388605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29501,"millis":0.029501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86701,"millis":0.086701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":565700009,"millis":565.700009,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":553107,"millis":0.553107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":537408,"millis":0.537408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":451006,"millis":0.451006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":472706,"millis":0.472706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":497206,"millis":0.497206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":456506,"millis":0.456506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":413206,"millis":0.413206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":349505,"millis":0.349505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":373305,"millis":0.373305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82001,"millis":0.082001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":91801,"millis":0.091801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.727 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":395405,"millis":0.395405,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66701,"millis":0.066701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.728 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":481106,"millis":0.481106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":64801,"millis":0.064801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.728 [print] #notpresent \n"},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":120101,"millis":0.120101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.728 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":717410,"millis":0.71741,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":132402,"millis":0.132402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.729 [print] Beheer PDOK \n"},{"result":{"nanos":147402,"millis":0.147402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.729 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n"},{"result":{"nanos":635209,"millis":0.635209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723810,"millis":0.72381,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355805,"millis":0.355805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":574.997835,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","startTime":1633064351155,"refId":"[1.227:67]","endTime":1633064351731,"exampleData":{"datasetIdentifierCode":"a301ddc7-c26f-42d8-b367-509ae5ae47d0"},"exampleIndex":226},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.161 karate.env system property was: null \n"},{"result":{"nanos":24001,"millis":0.024001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":147502,"millis":0.147502,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35001,"millis":0.035001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335204,"millis":0.335204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":139602,"millis":0.139602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":108502,"millis":0.108502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52501,"millis":0.052501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":500240417,"millis":500.240417,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":546307,"millis":0.546307,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":455007,"millis":0.455007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":481006,"millis":0.481006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":420106,"millis":0.420106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":489007,"millis":0.489007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":460606,"millis":0.460606,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":436706,"millis":0.436706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335504,"millis":0.335504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":388706,"millis":0.388706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74101,"millis":0.074101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":176802,"millis":0.176802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.667 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":403105,"millis":0.403105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97102,"millis":0.097102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.668 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":377605,"millis":0.377605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89601,"millis":0.089601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.668 [print] #notpresent \n"},{"result":{"nanos":32301,"millis":0.032301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.668 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":520707,"millis":0.520707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91701,"millis":0.091701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.669 [print] Beheer PDOK \n"},{"result":{"nanos":100802,"millis":0.100802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.669 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n"},{"result":{"nanos":456606,"millis":0.456606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1125416,"millis":1.125416,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":790111,"millis":0.790111,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":509.737447,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d7a395a2-8673-4794-a5a6-fed6492cd580","startTime":1633064351161,"refId":"[1.228:67]","endTime":1633064351671,"exampleData":{"datasetIdentifierCode":"d7a395a2-8673-4794-a5a6-fed6492cd580"},"exampleIndex":227},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.180 karate.env system property was: null \n"},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":155702,"millis":0.155702,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35901,"millis":0.035901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":346705,"millis":0.346705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125602,"millis":0.125602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":296104,"millis":0.296104,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":83002,"millis":0.083002,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":571995795,"millis":571.995795,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":402606,"millis":0.402606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":418606,"millis":0.418606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":444906,"millis":0.444906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":407605,"millis":0.407605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":441306,"millis":0.441306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":410505,"millis":0.410505,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23501,"millis":0.023501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":306004,"millis":0.306004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":295404,"millis":0.295404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":291304,"millis":0.291304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":51001,"millis":0.051001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":468707,"millis":0.468707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.758 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":398105,"millis":0.398105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":368605,"millis":0.368605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.759 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":385905,"millis":0.385905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":449006,"millis":0.449006,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.759 [print] #notpresent \n"},{"result":{"nanos":198203,"millis":0.198203,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":565907,"millis":0.565907,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.760 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":628309,"millis":0.628309,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":438006,"millis":0.438006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.761 [print] Beheer PDOK \n"},{"result":{"nanos":613909,"millis":0.613909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.762 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":473206,"millis":0.473206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":371205,"millis":0.371205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292604,"millis":0.292604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":582.386138,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","startTime":1633064351180,"refId":"[1.229:67]","endTime":1633064351763,"exampleData":{"datasetIdentifierCode":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e"},"exampleIndex":228},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.483 karate.env system property was: null \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45401,"millis":0.045401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68901,"millis":0.068901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216603,"millis":0.216603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39101,"millis":0.039101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":312404,"millis":0.312404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":6501,"millis":0.006501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513037091,"millis":513.037091,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":492307,"millis":0.492307,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":385506,"millis":0.385506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":391705,"millis":0.391705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":306404,"millis":0.306404,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":359504,"millis":0.359504,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":411105,"millis":0.411105,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320605,"millis":0.320605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":257003,"millis":0.257003,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":262504,"millis":0.262504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":327105,"millis":0.327105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":243903,"millis":0.243903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.002 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":329205,"millis":0.329205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":281204,"millis":0.281204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.002 [print] OGC:WMS \n"},{"result":{"nanos":409806,"millis":0.409806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":343204,"millis":0.343204,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.003 [print] #notpresent \n"},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":124802,"millis":0.124802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.003 [print] OGC:WMS \n"},{"result":{"nanos":505507,"millis":0.505507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129602,"millis":0.129602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.004 [print] Beheer PDOK \n"},{"result":{"nanos":245303,"millis":0.245303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.004 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":419405,"millis":0.419405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":577008,"millis":0.577008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333005,"millis":0.333005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":521.503408,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","startTime":1633064351483,"refId":"[1.230:67]","endTime":1633064352006,"exampleData":{"datasetIdentifierCode":"dd49e02c-ea87-4ffc-89dd-f888608d95b7"},"exampleIndex":229},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.674 karate.env system property was: null \n"},{"result":{"nanos":26301,"millis":0.026301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45401,"millis":0.045401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214203,"millis":0.214203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335804,"millis":0.335804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46701,"millis":0.046701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":524656850,"millis":524.65685,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":970914,"millis":0.970914,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":686409,"millis":0.686409,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":508007,"millis":0.508007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":498707,"millis":0.498707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":757410,"millis":0.75741,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":660309,"millis":0.660309,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":471506,"millis":0.471506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":458506,"millis":0.458506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":418306,"millis":0.418306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":276304,"millis":0.276304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.206 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":426006,"millis":0.426006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180802,"millis":0.180802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.207 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":436206,"millis":0.436206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.207 [print] #notpresent \n"},{"result":{"nanos":37901,"millis":0.037901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99501,"millis":0.099501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.207 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":540607,"millis":0.540607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118902,"millis":0.118902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.208 [print] Beheer PDOK \n"},{"result":{"nanos":163202,"millis":0.163202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.208 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n"},{"result":{"nanos":599209,"millis":0.599209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":653809,"millis":0.653809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326904,"millis":0.326904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":535.038392,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","startTime":1633064351674,"refId":"[1.231:67]","endTime":1633064352210,"exampleData":{"datasetIdentifierCode":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8"},"exampleIndex":230},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.733 karate.env system property was: null \n"},{"result":{"nanos":25801,"millis":0.025801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78001,"millis":0.078001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246603,"millis":0.246603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":409406,"millis":0.409406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30101,"millis":0.030101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":83101,"millis":0.083101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12801,"millis":0.012801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59501,"millis":0.059501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542744296,"millis":542.744296,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1701,"millis":0.001701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":470406,"millis":0.470406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":446306,"millis":0.446306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432006,"millis":0.432006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":437406,"millis":0.437406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":432705,"millis":0.432705,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":408505,"millis":0.408505,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22601,"millis":0.022601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":304504,"millis":0.304504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":349605,"millis":0.349605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395905,"millis":0.395905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87802,"millis":0.087802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.281 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n"},{"result":{"nanos":542508,"millis":0.542508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":212103,"millis":0.212103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.282 [print] #notpresent \n"},{"result":{"nanos":399605,"millis":0.399605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":59301,"millis":0.059301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.283 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":216002,"millis":0.216002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.283 [print] #notpresent \n"},{"result":{"nanos":440206,"millis":0.440206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59801,"millis":0.059801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.283 [print] Beheer PDOK \n"},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.283 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n"},{"result":{"nanos":419005,"millis":0.419005,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":401006,"millis":0.401006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":291104,"millis":0.291104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.933207,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"598c4109-21d2-4a6c-b083-9975a6736849","startTime":1633064351733,"refId":"[1.232:67]","endTime":1633064352285,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736849"},"exampleIndex":231},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.765 karate.env system property was: null \n"},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37201,"millis":0.037201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":193602,"millis":0.193602,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352305,"millis":0.352305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":297904,"millis":0.297904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526349172,"millis":526.349172,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":357904,"millis":0.357904,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":423305,"millis":0.423305,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":33704059,"millis":33.704059,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":679609,"millis":0.679609,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":856511,"millis":0.856511,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":656909,"millis":0.656909,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87201,"millis":0.087201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":369805,"millis":0.369805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":368305,"millis":0.368305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":435706,"millis":0.435706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":638909,"millis":0.638909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":318105,"millis":0.318105,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.332 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":466506,"millis":0.466506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":236503,"millis":0.236503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.333 [print] #notpresent \n"},{"result":{"nanos":396905,"millis":0.396905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":176803,"millis":0.176803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.333 [print] OGC:WFS \n"},{"result":{"nanos":90801,"millis":0.090801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":160502,"millis":0.160502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.334 [print] #notpresent \n"},{"result":{"nanos":421306,"millis":0.421306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":191803,"millis":0.191803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.334 [print] Beheer PDOK \n"},{"result":{"nanos":185402,"millis":0.185402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.334 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":419305,"millis":0.419305,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":487307,"millis":0.487307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":298104,"millis":0.298104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":569.907762,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","startTime":1633064351765,"refId":"[1.233:67]","endTime":1633064352336,"exampleData":{"datasetIdentifierCode":"e9ba7d7f-6cd1-4271-bce4-56432924b338"},"exampleIndex":232},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.008 karate.env system property was: null \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60801,"millis":0.060801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":262104,"millis":0.262104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":650809,"millis":0.650809,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65601,"millis":0.065601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71601,"millis":0.071601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16901,"millis":0.016901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":38401,"millis":0.038401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":107802,"millis":0.107802,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512845289,"millis":512.845289,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":688910,"millis":0.68891,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":468406,"millis":0.468406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":441506,"millis":0.441506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":384705,"millis":0.384705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":649209,"millis":0.649209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":483907,"millis":0.483907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":81101,"millis":0.081101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":430506,"millis":0.430506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":415406,"millis":0.415406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2432333,"millis":2.432333,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":376905,"millis":0.376905,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":291504,"millis":0.291504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.530 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":413205,"millis":0.413205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":187103,"millis":0.187103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.530 [print] OGC:WFS \n"},{"result":{"nanos":400206,"millis":0.400206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":200402,"millis":0.200402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.531 [print] #notpresent \n"},{"result":{"nanos":109901,"millis":0.109901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":221703,"millis":0.221703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.531 [print] OGC:WFS \n"},{"result":{"nanos":562307,"millis":0.562307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":194103,"millis":0.194103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.532 [print] Beheer PDOK \n"},{"result":{"nanos":172503,"millis":0.172503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.532 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":415205,"millis":0.415205,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":528408,"millis":0.528408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339904,"millis":0.339904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.233459,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","startTime":1633064352007,"refId":"[1.234:67]","endTime":1633064352534,"exampleData":{"datasetIdentifierCode":"aaf53e6f-fe99-4a86-a61c-50b128412d80"},"exampleIndex":233},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.212 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":222603,"millis":0.222603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486907,"millis":0.486907,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69901,"millis":0.069901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53101,"millis":0.053101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545682236,"millis":545.682236,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":654909,"millis":0.654909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":440406,"millis":0.440406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":391906,"millis":0.391906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":519707,"millis":0.519707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1009714,"millis":1.009714,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":836412,"millis":0.836412,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":122701,"millis":0.122701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":581308,"millis":0.581308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":473006,"millis":0.473006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":452406,"millis":0.452406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":279704,"millis":0.279704,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":244303,"millis":0.244303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.765 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":393906,"millis":0.393906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":224803,"millis":0.224803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.766 [print] OGC:WMS \n"},{"result":{"nanos":441806,"millis":0.441806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":188202,"millis":0.188202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.767 [print] #notpresent \n"},{"result":{"nanos":92402,"millis":0.092402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231103,"millis":0.231103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.767 [print] OGC:WMS \n"},{"result":{"nanos":574608,"millis":0.574608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":352705,"millis":0.352705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.768 [print] Beheer PDOK \n"},{"result":{"nanos":190703,"millis":0.190703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.768 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":468306,"millis":0.468306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":486206,"millis":0.486206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":507607,"millis":0.507607,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":557.044391,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","startTime":1633064352212,"refId":"[1.235:67]","endTime":1633064352770,"exampleData":{"datasetIdentifierCode":"0bc2bcb8-558b-446b-b4e2-381b13d483a8"},"exampleIndex":234},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.286 karate.env system property was: null \n"},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42601,"millis":0.042601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":179002,"millis":0.179002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":539408,"millis":0.539408,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64001,"millis":0.064001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13801,"millis":0.013801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46001,"millis":0.046001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535745701,"millis":535.745701,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":442006,"millis":0.442006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":418706,"millis":0.418706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382905,"millis":0.382905,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":419706,"millis":0.419706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":522907,"millis":0.522907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":500206,"millis":0.500206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":382505,"millis":0.382505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":444506,"millis":0.444506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":426806,"millis":0.426806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":211103,"millis":0.211103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":212903,"millis":0.212903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.828 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":464307,"millis":0.464307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":212603,"millis":0.212603,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.828 [print] OGC:WMS \n"},{"result":{"nanos":452006,"millis":0.452006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":188403,"millis":0.188403,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.829 [print] #notpresent \n"},{"result":{"nanos":82201,"millis":0.082201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":163702,"millis":0.163702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.829 [print] OGC:WMS \n"},{"result":{"nanos":591708,"millis":0.591708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":224103,"millis":0.224103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.830 [print] Beheer PDOK \n"},{"result":{"nanos":168303,"millis":0.168303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.830 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":673309,"millis":0.673309,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":349505,"millis":0.349505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":315104,"millis":0.315104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.15413,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","startTime":1633064352286,"refId":"[1.236:67]","endTime":1633064352832,"exampleData":{"datasetIdentifierCode":"c78a99eb-9ba3-4307-a21b-2a64ad5da039"},"exampleIndex":235},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57201,"millis":0.057201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.340 karate.env system property was: null \n"},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":145102,"millis":0.145102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118002,"millis":0.118002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":299704,"millis":0.299704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":112202,"millis":0.112202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":627309,"millis":0.627309,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":164002,"millis":0.164002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":345605,"millis":0.345605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62601,"millis":0.062601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28501,"millis":0.028501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":62701,"millis":0.062701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526877780,"millis":526.87778,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":396105,"millis":0.396105,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":518307,"millis":0.518307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":452007,"millis":0.452007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":486006,"millis":0.486006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":613608,"millis":0.613608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504907,"millis":0.504907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":327304,"millis":0.327304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":509507,"millis":0.509507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":403406,"millis":0.403406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":172502,"millis":0.172502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.874 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":363905,"millis":0.363905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113101,"millis":0.113101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.874 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":373705,"millis":0.373705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":138702,"millis":0.138702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.875 [print] #notpresent \n"},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":90502,"millis":0.090502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.875 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":507707,"millis":0.507707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137102,"millis":0.137102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.876 [print] Beheer PDOK \n"},{"result":{"nanos":100201,"millis":0.100201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.876 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":477307,"millis":0.477307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":490307,"millis":0.490307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318204,"millis":0.318204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.702715,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","startTime":1633064352338,"refId":"[1.237:67]","endTime":1633064352877,"exampleData":{"datasetIdentifierCode":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f"},"exampleIndex":236},{"sectionIndex":0,"stepResults":[{"result":{"nanos":92201,"millis":0.092201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.546 karate.env system property was: null \n"},{"result":{"nanos":85902,"millis":0.085902,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148902,"millis":0.148902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":140002,"millis":0.140002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":426506,"millis":0.426506,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":143902,"millis":0.143902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":589608,"millis":0.589608,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":137502,"millis":0.137502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":257403,"millis":0.257403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":79601,"millis":0.079601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24001,"millis":0.024001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506944109,"millis":506.944109,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":628609,"millis":0.628609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":518407,"millis":0.518407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":527807,"millis":0.527807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":525207,"millis":0.525207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":664109,"millis":0.664109,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":650909,"millis":0.650909,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27301,"millis":0.027301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":366005,"millis":0.366005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":326104,"millis":0.326104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":418406,"millis":0.418406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64001,"millis":0.064001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":145002,"millis":0.145002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.061 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n"},{"result":{"nanos":461007,"millis":0.461007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118301,"millis":0.118301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.062 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":430405,"millis":0.430405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.062 [print] #notpresent \n"},{"result":{"nanos":30001,"millis":0.030001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71601,"millis":0.071601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.062 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":496007,"millis":0.496007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62101,"millis":0.062101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.063 [print] Beheer PDOK \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.063 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":466806,"millis":0.466806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":673909,"millis":0.673909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":395606,"millis":0.395606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":517.406351,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","startTime":1633064352536,"refId":"[1.238:67]","endTime":1633064353065,"exampleData":{"datasetIdentifierCode":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c"},"exampleIndex":237},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57101,"millis":0.057101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.773 karate.env system property was: null \n"},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":155202,"millis":0.155202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":151602,"millis":0.151602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373305,"millis":0.373305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":121902,"millis":0.121902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405006,"millis":0.405006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":104101,"millis":0.104101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186503,"millis":0.186503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51101,"millis":0.051101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25001,"millis":0.025001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520611896,"millis":520.611896,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":441006,"millis":0.441006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":410206,"millis":0.410206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":366805,"millis":0.366805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":422406,"millis":0.422406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":514707,"millis":0.514707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":451506,"millis":0.451506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":58401,"millis":0.058401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":513707,"millis":0.513707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":299004,"millis":0.299004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":286304,"millis":0.286304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":115301,"millis":0.115301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.300 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n"},{"result":{"nanos":327304,"millis":0.327304,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95802,"millis":0.095802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.300 [print] OGC:WMTS \n"},{"result":{"nanos":405205,"millis":0.405205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89202,"millis":0.089202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.301 [print] #notpresent \n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":62301,"millis":0.062301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.301 [print] OGC:WMTS \n"},{"result":{"nanos":403006,"millis":0.403006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":55301,"millis":0.055301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.302 [print] Beheer PDOK \n"},{"result":{"nanos":71001,"millis":0.071001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.302 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n"},{"result":{"nanos":413205,"millis":0.413205,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":653608,"millis":0.653608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":338905,"millis":0.338905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.357815,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"54d2021b-e778-4834-a3c6-75c89d36b942","startTime":1633064352772,"refId":"[1.239:67]","endTime":1633064353303,"exampleData":{"datasetIdentifierCode":"54d2021b-e778-4834-a3c6-75c89d36b942"},"exampleIndex":238},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51401,"millis":0.051401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.834 karate.env system property was: null \n"},{"result":{"nanos":34401,"millis":0.034401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115601,"millis":0.115601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126001,"millis":0.126001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275903,"millis":0.275903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":129302,"millis":0.129302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386305,"millis":0.386305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95501,"millis":0.095501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":158603,"millis":0.158603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523268634,"millis":523.268634,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":356505,"millis":0.356505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":447306,"millis":0.447306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":398606,"millis":0.398606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":591808,"millis":0.591808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":491007,"millis":0.491007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":448306,"millis":0.448306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":350104,"millis":0.350104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":319304,"millis":0.319304,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328705,"millis":0.328705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":84602,"millis":0.084602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.363 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":369005,"millis":0.369005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97001,"millis":0.097001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.364 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":338705,"millis":0.338705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56101,"millis":0.056101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.364 [print] #notpresent \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65401,"millis":0.065401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.364 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":429505,"millis":0.429505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":58001,"millis":0.058001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.365 [print] Beheer PDOK \n"},{"result":{"nanos":85502,"millis":0.085502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.365 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":467406,"millis":0.467406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":418006,"millis":0.418006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302004,"millis":0.302004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.458244,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"918388cf-9d8c-4264-b108-3e375bde0d52","startTime":1633064352834,"refId":"[1.240:67]","endTime":1633064353366,"exampleData":{"datasetIdentifierCode":"918388cf-9d8c-4264-b108-3e375bde0d52"},"exampleIndex":239},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.879 karate.env system property was: null \n"},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":192103,"millis":0.192103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348705,"millis":0.348705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97502,"millis":0.097502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523723941,"millis":523.723941,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":586708,"millis":0.586708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":555508,"millis":0.555508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":617309,"millis":0.617309,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":603709,"millis":0.603709,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":553807,"millis":0.553807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":461406,"millis":0.461406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320005,"millis":0.320005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":436806,"millis":0.436806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":507207,"millis":0.507207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":101002,"millis":0.101002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.409 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":460706,"millis":0.460706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87902,"millis":0.087902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.409 [print] #notpresent \n"},{"result":{"nanos":364205,"millis":0.364205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":59501,"millis":0.059501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.410 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.410 [print] #notpresent \n"},{"result":{"nanos":435906,"millis":0.435906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.410 [print] Beheer PDOK \n"},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.411 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":456607,"millis":0.456607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":388605,"millis":0.388605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":329905,"millis":0.329905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.309261,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"62c0d0a5-5826-406d-a625-d84bc5fec800","startTime":1633064352879,"refId":"[1.241:67]","endTime":1633064353412,"exampleData":{"datasetIdentifierCode":"62c0d0a5-5826-406d-a625-d84bc5fec800"},"exampleIndex":240},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.067 karate.env system property was: null \n"},{"result":{"nanos":37001,"millis":0.037001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51501,"millis":0.051501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":241103,"millis":0.241103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46601,"millis":0.046601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394905,"millis":0.394905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96701,"millis":0.096701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40001,"millis":0.040001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85901,"millis":0.085901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510139160,"millis":510.13916,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":432006,"millis":0.432006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":601308,"millis":0.601308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":572408,"millis":0.572408,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":434406,"millis":0.434406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":431706,"millis":0.431706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":400806,"millis":0.400806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":324705,"millis":0.324705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":377305,"millis":0.377305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":405806,"millis":0.405806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":455206,"millis":0.455206,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":685710,"millis":0.68571,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.584 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":575707,"millis":0.575707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":521907,"millis":0.521907,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.586 [print] OGC:WMS \n"},{"result":{"nanos":900212,"millis":0.900212,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":412105,"millis":0.412105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.587 [print] #notpresent \n"},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":407206,"millis":0.407206,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.587 [print] OGC:WMS \n"},{"result":{"nanos":485306,"millis":0.485306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":386606,"millis":0.386606,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.588 [print] Beheer PDOK \n"},{"result":{"nanos":712110,"millis":0.71211,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.589 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":478606,"millis":0.478606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":464107,"millis":0.464107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324804,"millis":0.324804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.165724,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","startTime":1633064353067,"refId":"[1.242:67]","endTime":1633064353590,"exampleData":{"datasetIdentifierCode":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21"},"exampleIndex":241},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.305 karate.env system property was: null \n"},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42201,"millis":0.042201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204003,"millis":0.204003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":306105,"millis":0.306105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62601,"millis":0.062601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46101,"millis":0.046101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":538002145,"millis":538.002145,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":448606,"millis":0.448606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":372005,"millis":0.372005,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":490906,"millis":0.490906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":417005,"millis":0.417005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":400306,"millis":0.400306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":334405,"millis":0.334405,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":388205,"millis":0.388205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":320904,"millis":0.320904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":252104,"millis":0.252104,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87001,"millis":0.087001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":149902,"millis":0.149902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.848 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":316805,"millis":0.316805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":100201,"millis":0.100201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.849 [print] OGC:WFS \n"},{"result":{"nanos":313405,"millis":0.313405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88601,"millis":0.088601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.849 [print] #notpresent \n"},{"result":{"nanos":32401,"millis":0.032401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.849 [print] OGC:WFS \n"},{"result":{"nanos":358605,"millis":0.358605,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60301,"millis":0.060301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.849 [print] Beheer PDOK \n"},{"result":{"nanos":104101,"millis":0.104101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.850 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":385906,"millis":0.385906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":613008,"millis":0.613008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358905,"millis":0.358905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":545.395448,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","startTime":1633064353305,"refId":"[1.243:67]","endTime":1633064353851,"exampleData":{"datasetIdentifierCode":"b87a0095-2ad7-4dbb-81a1-fed060df79e1"},"exampleIndex":242},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.368 karate.env system property was: null \n"},{"result":{"nanos":193402,"millis":0.193402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48901,"millis":0.048901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49301,"millis":0.049301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":218303,"millis":0.218303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36001,"millis":0.036001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":310204,"millis":0.310204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59001,"millis":0.059001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519368090,"millis":519.36809,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":376505,"millis":0.376505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'"}},{"result":{"nanos":386606,"millis":0.386606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382505,"millis":0.382505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":384905,"millis":0.384905,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":405806,"millis":0.405806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":303404,"millis":0.303404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":288804,"millis":0.288804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335204,"millis":0.335204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":393306,"millis":0.393306,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":349405,"millis":0.349405,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.893 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":380105,"millis":0.380105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":261704,"millis":0.261704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.893 [print] OGC:WFS \n"},{"result":{"nanos":560208,"millis":0.560208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":334804,"millis":0.334804,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.894 [print] #notpresent \n"},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":225403,"millis":0.225403,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.895 [print] OGC:WFS \n"},{"result":{"nanos":460107,"millis":0.460107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":238603,"millis":0.238603,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.895 [print] Beheer PDOK \n"},{"result":{"nanos":210603,"millis":0.210603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.896 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":391406,"millis":0.391406,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":374705,"millis":0.374705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311304,"millis":0.311304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.221113,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3","startTime":1633064353368,"refId":"[1.244:67]","endTime":1633064353897,"exampleData":{"datasetIdentifierCode":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3"},"exampleIndex":243},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.413 karate.env system property was: null \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":344505,"millis":0.344505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":342104,"millis":0.342104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29001,"millis":0.029001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":51701,"millis":0.051701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":8301,"millis":0.008301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528395513,"millis":528.395513,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":448906,"millis":0.448906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":636608,"millis":0.636608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":589308,"millis":0.589308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":534807,"millis":0.534807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":541708,"millis":0.541708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":520007,"millis":0.520007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":389705,"millis":0.389705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374805,"millis":0.374805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":396506,"millis":0.396506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":73201,"millis":0.073201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.948 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":637609,"millis":0.637609,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.949 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":575908,"millis":0.575908,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78501,"millis":0.078501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.949 [print] #notpresent \n"},{"result":{"nanos":77601,"millis":0.077601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":310604,"millis":0.310604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.950 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":615208,"millis":0.615208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78501,"millis":0.078501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.951 [print] Beheer PDOK \n"},{"result":{"nanos":357305,"millis":0.357305,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.951 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":550208,"millis":0.550208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":432806,"millis":0.432806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364905,"millis":0.364905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.194546,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ceda1b88-32ac-40b2-a841-71eb041c9427","startTime":1633064353413,"refId":"[1.245:67]","endTime":1633064353952,"exampleData":{"datasetIdentifierCode":"ceda1b88-32ac-40b2-a841-71eb041c9427"},"exampleIndex":244},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.592 karate.env system property was: null \n"},{"result":{"nanos":27501,"millis":0.027501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":190703,"millis":0.190703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":301204,"millis":0.301204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":278004,"millis":0.278004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":509472955,"millis":509.472955,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":625008,"millis":0.625008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":487806,"millis":0.487806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":507607,"millis":0.507607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":431005,"millis":0.431005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":629608,"millis":0.629608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":495907,"millis":0.495907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":414006,"millis":0.414006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":347905,"millis":0.347905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":342205,"millis":0.342205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":132802,"millis":0.132802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.109 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":336904,"millis":0.336904,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81802,"millis":0.081802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.109 [print] OGC:WMS \n"},{"result":{"nanos":340004,"millis":0.340004,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97701,"millis":0.097701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.110 [print] #notpresent \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.110 [print] OGC:WMS \n"},{"result":{"nanos":507807,"millis":0.507807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63800,"millis":0.0638,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.110 [print] Beheer PDOK \n"},{"result":{"nanos":79901,"millis":0.079901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.110 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n"},{"result":{"nanos":450606,"millis":0.450606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634009,"millis":0.634009,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322004,"millis":0.322004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.097767,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1bd24d1e-aa13-4395-809e-893570f7c651","startTime":1633064353592,"refId":"[1.246:67]","endTime":1633064354112,"exampleData":{"datasetIdentifierCode":"1bd24d1e-aa13-4395-809e-893570f7c651"},"exampleIndex":245},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.853 karate.env system property was: null \n"},{"result":{"nanos":32601,"millis":0.032601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238604,"millis":0.238604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470306,"millis":0.470306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71501,"millis":0.071501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16401,"millis":0.016401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":311604,"millis":0.311604,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536494724,"millis":536.494724,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":481207,"millis":0.481207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":421606,"millis":0.421606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":450806,"millis":0.450806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":526707,"millis":0.526707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":551907,"millis":0.551907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":428506,"millis":0.428506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25701,"millis":0.025701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":337104,"millis":0.337104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":342605,"millis":0.342605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":339505,"millis":0.339505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116402,"millis":0.116402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":281404,"millis":0.281404,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.397 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":554607,"millis":0.554607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.397 [print] OGC:WFS \n"},{"result":{"nanos":555708,"millis":0.555708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99801,"millis":0.099801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.398 [print] #notpresent \n"},{"result":{"nanos":123202,"millis":0.123202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122102,"millis":0.122102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.398 [print] OGC:WFS \n"},{"result":{"nanos":574508,"millis":0.574508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":128202,"millis":0.128202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.399 [print] Beheer PDOK \n"},{"result":{"nanos":160002,"millis":0.160002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.399 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":780311,"millis":0.780311,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":617108,"millis":0.617108,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":315705,"millis":0.315705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.331559,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"972edbaa-f860-4c48-b449-4f238a263472","startTime":1633064353853,"refId":"[1.247:67]","endTime":1633064354401,"exampleData":{"datasetIdentifierCode":"972edbaa-f860-4c48-b449-4f238a263472"},"exampleIndex":246},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.898 karate.env system property was: null \n"},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42701,"millis":0.042701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":185302,"millis":0.185302,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61901,"millis":0.061901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":327605,"millis":0.327605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":223603,"millis":0.223603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":512610598,"millis":512.610598,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":393506,"millis":0.393506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":410306,"millis":0.410306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446906,"millis":0.446906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":426806,"millis":0.426806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":558308,"millis":0.558308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":483706,"millis":0.483706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23501,"millis":0.023501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":314204,"millis":0.314204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":340305,"millis":0.340305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":375405,"millis":0.375405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61501,"millis":0.061501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":275304,"millis":0.275304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.417 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n"},{"result":{"nanos":428406,"millis":0.428406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":288304,"millis":0.288304,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.417 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":410006,"millis":0.410006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":262004,"millis":0.262004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.418 [print] #notpresent \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":207703,"millis":0.207703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.418 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":478607,"millis":0.478607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":232303,"millis":0.232303,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.419 [print] Beheer PDOK \n"},{"result":{"nanos":233203,"millis":0.233203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.419 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":746510,"millis":0.74651,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":419606,"millis":0.419606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":312105,"millis":0.312105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":521.834526,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3e65fa1b-9bb1-41bd-9760-76962751b839","startTime":1633064353898,"refId":"[1.248:67]","endTime":1633064354421,"exampleData":{"datasetIdentifierCode":"3e65fa1b-9bb1-41bd-9760-76962751b839"},"exampleIndex":247},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.954 karate.env system property was: null \n"},{"result":{"nanos":26401,"millis":0.026401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77401,"millis":0.077401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337304,"millis":0.337304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":409906,"millis":0.409906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45301,"millis":0.045301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12101,"millis":0.012101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9901,"millis":0.009901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":130201,"millis":0.130201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545860752,"millis":545.860752,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1336419,"millis":1.336419,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":1607822,"millis":1.607822,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1527221,"millis":1.527221,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1391819,"millis":1.391819,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1825025,"millis":1.825025,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1502220,"millis":1.50222,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":100301,"millis":0.100301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1023814,"millis":1.023814,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":920913,"millis":0.920913,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":960813,"millis":0.960813,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":221103,"millis":0.221103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":797311,"millis":0.797311,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.515 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1179416,"millis":1.179416,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":424106,"millis":0.424106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.516 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":942513,"millis":0.942513,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":602508,"millis":0.602508,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.518 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":93301,"millis":0.093301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":417005,"millis":0.417005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.518 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1608922,"millis":1.608922,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":398706,"millis":0.398706,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.520 [print] Beheer PDOK \n"},{"result":{"nanos":955513,"millis":0.955513,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.521 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":1593322,"millis":1.593322,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":448106,"millis":0.448106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":343605,"millis":0.343605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":569.345773,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6c62e0a5-c215-4e47-94b0-a239e264417d","startTime":1633064353954,"refId":"[1.249:67]","endTime":1633064354524,"exampleData":{"datasetIdentifierCode":"6c62e0a5-c215-4e47-94b0-a239e264417d"},"exampleIndex":248},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.114 karate.env system property was: null \n"},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214202,"millis":0.214202,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":525207,"millis":0.525207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66501,"millis":0.066501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":517097459,"millis":517.097459,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":432006,"millis":0.432006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":414306,"millis":0.414306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":388705,"millis":0.388705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":376105,"millis":0.376105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":551207,"millis":0.551207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":507707,"millis":0.507707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":410206,"millis":0.410206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":373506,"millis":0.373506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402505,"millis":0.402505,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":128602,"millis":0.128602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":268304,"millis":0.268304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.637 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":532507,"millis":0.532507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157503,"millis":0.157503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.638 [print] OGC:WMS \n"},{"result":{"nanos":535907,"millis":0.535907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":150103,"millis":0.150103,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.638 [print] #notpresent \n"},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":220103,"millis":0.220103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.639 [print] OGC:WMS \n"},{"result":{"nanos":483607,"millis":0.483607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":228403,"millis":0.228403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.640 [print] Beheer PDOK \n"},{"result":{"nanos":311405,"millis":0.311405,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.640 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":423405,"millis":0.423405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":374805,"millis":0.374805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336904,"millis":0.336904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.388586,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"cea38797-ea4b-4969-b979-8d25eb543a6c","startTime":1633064354114,"refId":"[1.250:67]","endTime":1633064354641,"exampleData":{"datasetIdentifierCode":"cea38797-ea4b-4969-b979-8d25eb543a6c"},"exampleIndex":249},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.403 karate.env system property was: null \n"},{"result":{"nanos":25801,"millis":0.025801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237604,"millis":0.237604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373906,"millis":0.373906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":83302,"millis":0.083302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":120002,"millis":0.120002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81401,"millis":0.081401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519146087,"millis":519.146087,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":667809,"millis":0.667809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":500707,"millis":0.500707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":700009,"millis":0.700009,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":577708,"millis":0.577708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":665510,"millis":0.66551,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":592308,"millis":0.592308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":130202,"millis":0.130202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":373105,"millis":0.373105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":387005,"millis":0.387005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":410205,"millis":0.410205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":119002,"millis":0.119002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":169002,"millis":0.169002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.929 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":795610,"millis":0.79561,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":177902,"millis":0.177902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.930 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":841212,"millis":0.841212,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145302,"millis":0.145302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.931 [print] #notpresent \n"},{"result":{"nanos":304604,"millis":0.304604,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":144902,"millis":0.144902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.931 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":671410,"millis":0.67141,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131001,"millis":0.131001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.932 [print] Beheer PDOK \n"},{"result":{"nanos":362504,"millis":0.362504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.933 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":931312,"millis":0.931312,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":454806,"millis":0.454806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364905,"millis":0.364905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.911646,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","startTime":1633064354403,"refId":"[1.251:67]","endTime":1633064354934,"exampleData":{"datasetIdentifierCode":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98"},"exampleIndex":250},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.422 karate.env system property was: null \n"},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48201,"millis":0.048201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":193302,"millis":0.193302,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":302804,"millis":0.302804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29301,"millis":0.029301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":258403,"millis":0.258403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48401,"millis":0.048401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531456655,"millis":531.456655,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":550107,"millis":0.550107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":591909,"millis":0.591909,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":653209,"millis":0.653209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":530507,"millis":0.530507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":592408,"millis":0.592408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":502807,"millis":0.502807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":114501,"millis":0.114501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":377905,"millis":0.377905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":382905,"millis":0.382905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":386406,"millis":0.386406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":111901,"millis":0.111901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":391506,"millis":0.391506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.961 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":845811,"millis":0.845811,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143102,"millis":0.143102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.962 [print] OGC:WMS \n"},{"result":{"nanos":763310,"millis":0.76331,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":189503,"millis":0.189503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.963 [print] #notpresent \n"},{"result":{"nanos":317204,"millis":0.317204,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":146802,"millis":0.146802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.963 [print] OGC:WMS \n"},{"result":{"nanos":458606,"millis":0.458606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":142302,"millis":0.142302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.964 [print] Beheer PDOK \n"},{"result":{"nanos":345705,"millis":0.345705,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.964 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n"},{"result":{"nanos":931313,"millis":0.931313,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":324904,"millis":0.324904,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":546907,"millis":0.546907,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.83791,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","startTime":1633064354422,"refId":"[1.252:67]","endTime":1633064354966,"exampleData":{"datasetIdentifierCode":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a"},"exampleIndex":251},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51701,"millis":0.051701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.527 karate.env system property was: null \n"},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134102,"millis":0.134102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":115901,"millis":0.115901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301704,"millis":0.301704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":132802,"millis":0.132802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413805,"millis":0.413805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":79501,"millis":0.079501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":386405,"millis":0.386405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41501,"millis":0.041501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22001,"millis":0.022001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57001,"millis":0.057001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533545283,"millis":533.545283,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":702010,"millis":0.70201,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":646309,"millis":0.646309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":412906,"millis":0.412906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":411205,"millis":0.411205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":458507,"millis":0.458507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":430006,"millis":0.430006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":404906,"millis":0.404906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":461706,"millis":0.461706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":729410,"millis":0.72941,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81001,"millis":0.081001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131302,"millis":0.131302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.068 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n"},{"result":{"nanos":425906,"millis":0.425906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121302,"millis":0.121302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.068 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":365805,"millis":0.365805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.069 [print] #notpresent \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74101,"millis":0.074101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.069 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":442906,"millis":0.442906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61301,"millis":0.061301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.069 [print] Beheer PDOK \n"},{"result":{"nanos":74801,"millis":0.074801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.069 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":439106,"millis":0.439106,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1279518,"millis":1.279518,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":437606,"millis":0.437606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.166329,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a2724dae-ebad-4a07-9405-49bddfde3368","startTime":1633064354526,"refId":"[1.253:67]","endTime":1633064355072,"exampleData":{"datasetIdentifierCode":"a2724dae-ebad-4a07-9405-49bddfde3368"},"exampleIndex":252},{"sectionIndex":0,"stepResults":[{"result":{"nanos":49401,"millis":0.049401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.643 karate.env system property was: null \n"},{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":159402,"millis":0.159402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":128602,"millis":0.128602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":322605,"millis":0.322605,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103401,"millis":0.103401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":341405,"millis":0.341405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77901,"millis":0.077901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104402,"millis":0.104402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30601,"millis":0.030601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":110601,"millis":0.110601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":499895125,"millis":499.895125,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":353205,"millis":0.353205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":326004,"millis":0.326004,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":288104,"millis":0.288104,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":296305,"millis":0.296305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":451606,"millis":0.451606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":370205,"millis":0.370205,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28201,"millis":0.028201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":434906,"millis":0.434906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":320504,"millis":0.320504,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":251603,"millis":0.251603,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.149 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":988313,"millis":0.988313,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":67201,"millis":0.067201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.150 [print] OGC:WMS \n"},{"result":{"nanos":489007,"millis":0.489007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61201,"millis":0.061201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.150 [print] #notpresent \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":439106,"millis":0.439106,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.151 [print] OGC:WMS \n"},{"result":{"nanos":331404,"millis":0.331404,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.151 [print] Beheer PDOK \n"},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.151 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":908712,"millis":0.908712,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":521407,"millis":0.521407,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325604,"millis":0.325604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":509.05245,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f57bdee7-4027-4aa2-8312-4051b854be3c","startTime":1633064354643,"refId":"[1.254:67]","endTime":1633064355153,"exampleData":{"datasetIdentifierCode":"f57bdee7-4027-4aa2-8312-4051b854be3c"},"exampleIndex":253},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.937 karate.env system property was: null \n"},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122602,"millis":0.122602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113702,"millis":0.113702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278004,"millis":0.278004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":367105,"millis":0.367105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":79602,"millis":0.079602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111401,"millis":0.111401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27301,"millis":0.027301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":21901,"millis":0.021901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515692740,"millis":515.69274,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":459806,"millis":0.459806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":473507,"millis":0.473507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":508107,"millis":0.508107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":515507,"millis":0.515507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":454406,"millis":0.454406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":454207,"millis":0.454207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390306,"millis":0.390306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":336304,"millis":0.336304,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":331705,"millis":0.331705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":318704,"millis":0.318704,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":241703,"millis":0.241703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.460 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":342105,"millis":0.342105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":232203,"millis":0.232203,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.460 [print] #notpresent \n"},{"result":{"nanos":676609,"millis":0.676609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":341004,"millis":0.341004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.461 [print] OGC:WMS \n"},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":207103,"millis":0.207103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.462 [print] #notpresent \n"},{"result":{"nanos":429806,"millis":0.429806,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95501,"millis":0.095501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.462 [print] Beheer PDOK \n"},{"result":{"nanos":259604,"millis":0.259604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.462 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":453306,"millis":0.453306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634208,"millis":0.634208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":449007,"millis":0.449007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.851981,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f76bdce5-344e-415f-8f2c-972755e80b65","startTime":1633064354936,"refId":"[1.255:67]","endTime":1633064355464,"exampleData":{"datasetIdentifierCode":"f76bdce5-344e-415f-8f2c-972755e80b65"},"exampleIndex":254},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70701,"millis":0.070701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.968 karate.env system property was: null \n"},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":98802,"millis":0.098802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109701,"millis":0.109701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214603,"millis":0.214603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":122701,"millis":0.122701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":325305,"millis":0.325305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78801,"millis":0.078801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118802,"millis":0.118802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":215803,"millis":0.215803,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":57001,"millis":0.057001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533946289,"millis":533.946289,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":580608,"millis":0.580608,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":411005,"millis":0.411005,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":406005,"millis":0.406005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":460807,"millis":0.460807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":447306,"millis":0.447306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436706,"millis":0.436706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":327205,"millis":0.327205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335905,"millis":0.335905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":340804,"millis":0.340804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":861811,"millis":0.861811,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":84902,"millis":0.084902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.509 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":493107,"millis":0.493107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":61501,"millis":0.061501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.510 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":345705,"millis":0.345705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.510 [print] #notpresent \n"},{"result":{"nanos":71001,"millis":0.071001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99701,"millis":0.099701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.511 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":606508,"millis":0.606508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80201,"millis":0.080201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.511 [print] Beheer PDOK \n"},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.511 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":710110,"millis":0.71011,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":535307,"millis":0.535307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1006514,"millis":1.006514,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.352731,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","startTime":1633064354968,"refId":"[1.256:67]","endTime":1633064355514,"exampleData":{"datasetIdentifierCode":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd"},"exampleIndex":255},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.074 karate.env system property was: null \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49601,"millis":0.049601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230303,"millis":0.230303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337705,"millis":0.337705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13301,"millis":0.013301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":138602,"millis":0.138602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521868224,"millis":521.868224,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":478306,"millis":0.478306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":385306,"millis":0.385306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":375505,"millis":0.375505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":373205,"millis":0.373205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":419306,"millis":0.419306,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":422206,"millis":0.422206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":318004,"millis":0.318004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339205,"millis":0.339205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332804,"millis":0.332804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92002,"millis":0.092002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":710510,"millis":0.71051,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.602 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":410705,"millis":0.410705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":430806,"millis":0.430806,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.603 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":563207,"millis":0.563207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":411606,"millis":0.411606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.604 [print] #notpresent \n"},{"result":{"nanos":36001,"millis":0.036001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":336104,"millis":0.336104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.604 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":415506,"millis":0.415506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":339005,"millis":0.339005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.605 [print] Beheer PDOK \n"},{"result":{"nanos":1028314,"millis":1.028314,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.606 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":399506,"millis":0.399506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":573608,"millis":0.573608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":335404,"millis":0.335404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.475469,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"280cee65-1b66-4973-a569-75122e0b745b","startTime":1633064355074,"refId":"[1.257:67]","endTime":1633064355607,"exampleData":{"datasetIdentifierCode":"280cee65-1b66-4973-a569-75122e0b745b"},"exampleIndex":256},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.155 karate.env system property was: null \n"},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":193002,"millis":0.193002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":310504,"millis":0.310504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28401,"millis":0.028401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":280004,"millis":0.280004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4101,"millis":0.004101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":511932988,"millis":511.932988,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":383905,"millis":0.383905,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":418406,"millis":0.418406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":395405,"millis":0.395405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":474207,"millis":0.474207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":520407,"millis":0.520407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":447306,"millis":0.447306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23101,"millis":0.023101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390605,"millis":0.390605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339204,"millis":0.339204,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":318205,"millis":0.318205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":506807,"millis":0.506807,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.673 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":397105,"millis":0.397105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":611409,"millis":0.611409,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.674 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":425106,"millis":0.425106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":345105,"millis":0.345105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.675 [print] #notpresent \n"},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":469707,"millis":0.469707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.675 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":492307,"millis":0.492307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":365405,"millis":0.365405,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.676 [print] Beheer PDOK \n"},{"result":{"nanos":621608,"millis":0.621608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.677 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n"},{"result":{"nanos":480106,"millis":0.480106,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":455507,"millis":0.455507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":361305,"millis":0.361305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.344032,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","startTime":1633064355155,"refId":"[1.258:67]","endTime":1633064355678,"exampleData":{"datasetIdentifierCode":"108fec55-e467-4d04-ab35-fd0d7060e3e2"},"exampleIndex":257},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.466 karate.env system property was: null \n"},{"result":{"nanos":44401,"millis":0.044401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43501,"millis":0.043501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221203,"millis":0.221203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335405,"millis":0.335405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47901,"millis":0.047901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":126502,"millis":0.126502,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516893057,"millis":516.893057,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":483407,"millis":0.483407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":377505,"millis":0.377505,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":334805,"millis":0.334805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":329605,"millis":0.329605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":460006,"millis":0.460006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":343605,"millis":0.343605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":422706,"millis":0.422706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":344705,"millis":0.344705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":298804,"millis":0.298804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":117502,"millis":0.117502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":132102,"millis":0.132102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.988 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":322505,"millis":0.322505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83101,"millis":0.083101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.989 [print] OGC:WMS \n"},{"result":{"nanos":713710,"millis":0.71371,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118802,"millis":0.118802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.990 [print] #notpresent \n"},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":452906,"millis":0.452906,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.990 [print] OGC:WMS \n"},{"result":{"nanos":407505,"millis":0.407505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100501,"millis":0.100501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.991 [print] Beheer PDOK \n"},{"result":{"nanos":35401,"millis":0.035401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.991 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n"},{"result":{"nanos":975313,"millis":0.975313,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":616709,"millis":0.616709,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326604,"millis":0.326604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.75128,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","startTime":1633064355466,"refId":"[1.259:67]","endTime":1633064355993,"exampleData":{"datasetIdentifierCode":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0"},"exampleIndex":258},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.516 karate.env system property was: null \n"},{"result":{"nanos":57701,"millis":0.057701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49401,"millis":0.049401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":183202,"millis":0.183202,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":322504,"millis":0.322504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":340705,"millis":0.340705,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":493477637,"millis":493.477637,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":397305,"millis":0.397305,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":515107,"millis":0.515107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":434606,"millis":0.434606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":485507,"millis":0.485507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":471606,"millis":0.471606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462307,"millis":0.462307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348205,"millis":0.348205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374105,"millis":0.374105,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":389305,"millis":0.389305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":123602,"millis":0.123602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":464406,"millis":0.464406,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.015 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n"},{"result":{"nanos":756411,"millis":0.756411,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130402,"millis":0.130402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.016 [print] OGC:WFS \n"},{"result":{"nanos":477306,"millis":0.477306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":115102,"millis":0.115102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.017 [print] #notpresent \n"},{"result":{"nanos":523807,"millis":0.523807,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145502,"millis":0.145502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.018 [print] OGC:WFS \n"},{"result":{"nanos":790110,"millis":0.79011,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118802,"millis":0.118802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.019 [print] Beheer PDOK \n"},{"result":{"nanos":318305,"millis":0.318305,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.019 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":865211,"millis":0.865211,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":326704,"millis":0.326704,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":343005,"millis":0.343005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":504.090082,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e75b66ae-21b1-4303-aeb3-787608707b23","startTime":1633064355515,"refId":"[1.260:67]","endTime":1633064356021,"exampleData":{"datasetIdentifierCode":"e75b66ae-21b1-4303-aeb3-787608707b23"},"exampleIndex":259},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.610 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59101,"millis":0.059101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64001,"millis":0.064001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":207103,"millis":0.207103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":88902,"millis":0.088902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":453106,"millis":0.453106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":369805,"millis":0.369805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":126802,"millis":0.126802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520479205,"millis":520.479205,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":392106,"millis":0.392106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":396805,"millis":0.396805,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":388706,"millis":0.388706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":383005,"millis":0.383005,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":424606,"millis":0.424606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":422306,"millis":0.422306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":395606,"millis":0.395606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":398405,"millis":0.398405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":369405,"millis":0.369405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":70401,"millis":0.070401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.136 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":322904,"millis":0.322904,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123002,"millis":0.123002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.136 [print] #notpresent \n"},{"result":{"nanos":390905,"millis":0.390905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57700,"millis":0.0577,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.137 [print] OGC:WFS \n"},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83701,"millis":0.083701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.137 [print] #notpresent \n"},{"result":{"nanos":470407,"millis":0.470407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74001,"millis":0.074001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.138 [print] Beheer PDOK \n"},{"result":{"nanos":69901,"millis":0.069901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.138 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":478907,"millis":0.478907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":722910,"millis":0.72291,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":564007,"millis":0.564007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.143625,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c374d556-7b6e-459b-83c7-74da6ad90a59","startTime":1633064355609,"refId":"[1.261:67]","endTime":1633064356139,"exampleData":{"datasetIdentifierCode":"c374d556-7b6e-459b-83c7-74da6ad90a59"},"exampleIndex":260},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.680 karate.env system property was: null \n"},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37801,"millis":0.037801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45601,"millis":0.045601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":194202,"millis":0.194202,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":342805,"millis":0.342805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12601,"millis":0.012601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":143502,"millis":0.143502,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":603306136,"millis":603.306136,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":7046596,"millis":7.046596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":7207198,"millis":7.207198,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":7570103,"millis":7.570103,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":8238812,"millis":8.238812,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":8261513,"millis":8.261513,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":8467416,"millis":8.467416,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":63901,"millis":0.063901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":8946722,"millis":8.946722,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":33982164,"millis":33.982164,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":6263185,"millis":6.263185,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1148215,"millis":1.148215,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1149516,"millis":1.149516,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.383 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":34956477,"millis":34.956477,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":600608,"millis":0.600608,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.419 [print] #notpresent \n"},{"result":{"nanos":5285372,"millis":5.285372,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":6486789,"millis":6.486789,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.430 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":99702,"millis":0.099702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":492706,"millis":0.492706,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.431 [print] #notpresent \n"},{"result":{"nanos":6654091,"millis":6.654091,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":540108,"millis":0.540108,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.439 [print] Beheer PDOK \n"},{"result":{"nanos":681509,"millis":0.681509,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.439 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":7551503,"millis":7.551503,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":447106,"millis":0.447106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324104,"millis":0.324104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":766.761765,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"37e05521-c323-4dbe-aba4-de1178ba44a5","startTime":1633064355680,"refId":"[1.262:67]","endTime":1633064356448,"exampleData":{"datasetIdentifierCode":"37e05521-c323-4dbe-aba4-de1178ba44a5"},"exampleIndex":261},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34001,"millis":0.034001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.995 karate.env system property was: null \n"},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47401,"millis":0.047401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233903,"millis":0.233903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":349405,"millis":0.349405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":278104,"millis":0.278104,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":573978136,"millis":573.978136,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2801,"millis":0.002801,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":782210,"millis":0.78221,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":475306,"millis":0.475306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382805,"millis":0.382805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":377805,"millis":0.377805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":757510,"millis":0.75751,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":503207,"millis":0.503207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":81801,"millis":0.081801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":388805,"millis":0.388805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":347805,"millis":0.347805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":416606,"millis":0.416606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":594608,"millis":0.594608,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":597008,"millis":0.597008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.577 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":422406,"millis":0.422406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":400706,"millis":0.400706,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.577 [print] OGC:WFS \n"},{"result":{"nanos":431906,"millis":0.431906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":425606,"millis":0.425606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.578 [print] #notpresent \n"},{"result":{"nanos":94201,"millis":0.094201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":411006,"millis":0.411006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.579 [print] OGC:WFS \n"},{"result":{"nanos":438906,"millis":0.438906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":516707,"millis":0.516707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.580 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":606409,"millis":0.606409,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.580 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":408605,"millis":0.408605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":447906,"millis":0.447906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293804,"millis":0.293804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":585.787096,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5be1b57b-2cac-4119-92eb-700346543d47","startTime":1633064355995,"refId":"[1.263:67]","endTime":1633064356582,"exampleData":{"datasetIdentifierCode":"5be1b57b-2cac-4119-92eb-700346543d47"},"exampleIndex":262},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.022 karate.env system property was: null \n"},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43501,"millis":0.043501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213903,"millis":0.213903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55001,"millis":0.055001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":289604,"millis":0.289604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":306504,"millis":0.306504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":643409783,"millis":643.409783,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4882066,"millis":4.882066,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":5594376,"millis":5.594376,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":4837766,"millis":4.837766,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4758465,"millis":4.758465,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":5221572,"millis":5.221572,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":4871766,"millis":4.871766,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87601,"millis":0.087601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2821938,"millis":2.821938,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2623735,"millis":2.623735,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3831852,"millis":3.831852,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":624409,"millis":0.624409,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":269503,"millis":0.269503,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.708 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":4009854,"millis":4.009854,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":383006,"millis":0.383006,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.712 [print] #notpresent \n"},{"result":{"nanos":3407346,"millis":3.407346,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":159802,"millis":0.159802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.716 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":993114,"millis":0.993114,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121601,"millis":0.121601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.717 [print] #notpresent \n"},{"result":{"nanos":4747964,"millis":4.747964,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146002,"millis":0.146002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.722 [print] Beheer PDOK \n"},{"result":{"nanos":401105,"millis":0.401105,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.722 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":15554513,"millis":15.554513,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":550907,"millis":0.550907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":321904,"millis":0.321904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":715.758065,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"8e7686c3-f75e-411f-866e-6985267b916b","startTime":1633064356022,"refId":"[1.264:67]","endTime":1633064356739,"exampleData":{"datasetIdentifierCode":"8e7686c3-f75e-411f-866e-6985267b916b"},"exampleIndex":263},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.141 karate.env system property was: null \n"},{"result":{"nanos":25801,"millis":0.025801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":195303,"millis":0.195303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37401,"millis":0.037401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":302904,"millis":0.302904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":77601,"millis":0.077601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46001,"millis":0.046001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":592684792,"millis":592.684792,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3009841,"millis":3.009841,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":4951968,"millis":4.951968,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":5083169,"millis":5.083169,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5975881,"millis":5.975881,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4996969,"millis":4.996969,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5176070,"millis":5.17607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77401,"millis":0.077401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3228444,"millis":3.228444,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2825839,"millis":2.825839,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3653550,"millis":3.65355,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":651809,"millis":0.651809,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":264403,"millis":0.264403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.775 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":3314445,"millis":3.314445,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123602,"millis":0.123602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.779 [print] #notpresent \n"},{"result":{"nanos":3277245,"millis":3.277245,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140702,"millis":0.140702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.782 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1038714,"millis":1.038714,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":127102,"millis":0.127102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.783 [print] #notpresent \n"},{"result":{"nanos":5813579,"millis":5.813579,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":168103,"millis":0.168103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.789 [print] Beheer PDOK \n"},{"result":{"nanos":379005,"millis":0.379005,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.790 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":5346373,"millis":5.346373,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":546208,"millis":0.546208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377205,"millis":0.377205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":654.09863,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","startTime":1633064356141,"refId":"[1.265:67]","endTime":1633064356796,"exampleData":{"datasetIdentifierCode":"e69bb2e9-eff4-4fb3-86a6-057cf628e761"},"exampleIndex":264},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55201,"millis":0.055201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.460 karate.env system property was: null \n"},{"result":{"nanos":57101,"millis":0.057101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119602,"millis":0.119602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":115802,"millis":0.115802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":267803,"millis":0.267803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":146502,"millis":0.146502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399205,"millis":0.399205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":239403,"millis":0.239403,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":9446229,"millis":9.446229,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41101,"millis":0.041101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":39501,"millis":0.039501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":699324847,"millis":699.324847,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3927854,"millis":3.927854,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":5973882,"millis":5.973882,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":5091769,"millis":5.091769,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":6133683,"millis":6.133683,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":6391588,"millis":6.391588,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6125684,"millis":6.125684,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95001,"millis":0.095001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3500048,"millis":3.500048,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":4405860,"millis":4.40586,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4374259,"millis":4.374259,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":710009,"millis":0.710009,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":141902,"millis":0.141902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.218 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":3831753,"millis":3.831753,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66201,"millis":0.066201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.222 [print] #notpresent \n"},{"result":{"nanos":3693550,"millis":3.69355,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.226 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":38801,"millis":0.038801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.226 [print] #notpresent \n"},{"result":{"nanos":6937595,"millis":6.937595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68001,"millis":0.068001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.233 [print] Beheer PDOK \n"},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.233 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":5423674,"millis":5.423674,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":375706,"millis":0.375706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":279504,"millis":0.279504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":778.147823,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"76854ff3-a853-4405-b9fd-acef66460376","startTime":1633064356449,"refId":"[1.266:67]","endTime":1633064357239,"exampleData":{"datasetIdentifierCode":"76854ff3-a853-4405-b9fd-acef66460376"},"exampleIndex":265},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.585 karate.env system property was: null \n"},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125302,"millis":0.125302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112502,"millis":0.112502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":288704,"millis":0.288704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107801,"millis":0.107801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372606,"millis":0.372606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78801,"millis":0.078801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1431019,"millis":1.431019,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26301,"millis":0.026301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22101,"millis":0.022101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":601240708,"millis":601.240708,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":516507,"millis":0.516507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":597008,"millis":0.597008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":397705,"millis":0.397705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":377405,"millis":0.377405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":459807,"millis":0.459807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":372105,"millis":0.372105,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":310604,"millis":0.310604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":385205,"millis":0.385205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":430006,"millis":0.430006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":575408,"millis":0.575408,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":619709,"millis":0.619709,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.194 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n"},{"result":{"nanos":350705,"millis":0.350705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":399905,"millis":0.399905,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.195 [print] OGC:WMS \n"},{"result":{"nanos":353004,"millis":0.353004,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":326604,"millis":0.326604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.196 [print] #notpresent \n"},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":328004,"millis":0.328004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.196 [print] OGC:WMS \n"},{"result":{"nanos":406506,"millis":0.406506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":374105,"millis":0.374105,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.197 [print] Beheer PDOK \n"},{"result":{"nanos":526907,"millis":0.526907,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.197 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":373205,"millis":0.373205,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":525307,"millis":0.525307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292804,"millis":0.292804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":613.455572,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","startTime":1633064356584,"refId":"[1.267:67]","endTime":1633064357199,"exampleData":{"datasetIdentifierCode":"684ff4f6-1652-45a8-93f0-8e16d37b2a66"},"exampleIndex":266},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59101,"millis":0.059101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.751 karate.env system property was: null \n"},{"result":{"nanos":42901,"millis":0.042901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":199003,"millis":0.199003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":136102,"millis":0.136102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368105,"millis":0.368105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":115401,"millis":0.115401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":418705,"millis":0.418705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85302,"millis":0.085302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":221403,"millis":0.221403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":77301,"millis":0.077301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23201,"millis":0.023201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":39401,"millis":0.039401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522049526,"millis":522.049526,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":414205,"millis":0.414205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":563707,"millis":0.563707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":442806,"millis":0.442806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":383705,"millis":0.383705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":583008,"millis":0.583008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":484407,"millis":0.484407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":338005,"millis":0.338005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":307804,"millis":0.307804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":325905,"millis":0.325905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":53701,"millis":0.053701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":82101,"millis":0.082101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.280 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":561708,"millis":0.561708,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109001,"millis":0.109001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.281 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":430906,"millis":0.430906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.281 [print] #notpresent \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":120902,"millis":0.120902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.281 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":538407,"millis":0.538407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.282 [print] Beheer PDOK \n"},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.282 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":501207,"millis":0.501207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":435606,"millis":0.435606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288604,"millis":0.288604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.166451,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","startTime":1633064356741,"refId":"[1.268:67]","endTime":1633064357283,"exampleData":{"datasetIdentifierCode":"627b50bf-2e33-4beb-a314-ff8c0fe8912e"},"exampleIndex":267},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.798 karate.env system property was: null \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129802,"millis":0.129802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107902,"millis":0.107902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248003,"millis":0.248003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103102,"millis":0.103102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399105,"millis":0.399105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95201,"millis":0.095201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":102801,"millis":0.102801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":297805,"millis":0.297805,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27101,"millis":0.027101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23401,"millis":0.023401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21901,"millis":0.021901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516352449,"millis":516.352449,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":440606,"millis":0.440606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":728210,"millis":0.72821,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":502807,"millis":0.502807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":511907,"millis":0.511907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":519207,"millis":0.519207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":490007,"millis":0.490007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356005,"millis":0.356005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":460607,"millis":0.460607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":448606,"millis":0.448606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57001,"millis":0.057001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":126802,"millis":0.126802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.322 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":463306,"millis":0.463306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.322 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":500907,"millis":0.500907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.323 [print] #notpresent \n"},{"result":{"nanos":130602,"millis":0.130602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53701,"millis":0.053701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.323 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":673710,"millis":0.67371,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.324 [print] Beheer PDOK \n"},{"result":{"nanos":285104,"millis":0.285104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.324 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":675709,"millis":0.675709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":381106,"millis":0.381106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":274803,"millis":0.274803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.397389,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a84f9836-9111-4e45-a311-3dab39019e15","startTime":1633064356798,"refId":"[1.269:67]","endTime":1633064357326,"exampleData":{"datasetIdentifierCode":"a84f9836-9111-4e45-a311-3dab39019e15"},"exampleIndex":268},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.201 karate.env system property was: null \n"},{"result":{"nanos":27801,"millis":0.027801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":267504,"millis":0.267504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":5644977,"millis":5.644977,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37201,"millis":0.037201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":340804,"millis":0.340804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523633049,"millis":523.633049,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":629109,"millis":0.629109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":510507,"millis":0.510507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":469706,"millis":0.469706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":511507,"millis":0.511507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":689309,"millis":0.689309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":570008,"millis":0.570008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77601,"millis":0.077601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":641809,"millis":0.641809,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":625309,"millis":0.625309,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":602508,"millis":0.602508,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":142902,"millis":0.142902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":188502,"millis":0.188502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.738 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":774910,"millis":0.77491,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189603,"millis":0.189603,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.739 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":628009,"millis":0.628009,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":160302,"millis":0.160302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.739 [print] #notpresent \n"},{"result":{"nanos":170603,"millis":0.170603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":152702,"millis":0.152702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.740 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":657909,"millis":0.657909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":204203,"millis":0.204203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.741 [print] Beheer PDOK \n"},{"result":{"nanos":346305,"millis":0.346305,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.741 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":718210,"millis":0.71821,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":524007,"millis":0.524007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308104,"millis":0.308104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.755883,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","startTime":1633064357201,"refId":"[1.270:67]","endTime":1633064357743,"exampleData":{"datasetIdentifierCode":"018a28a5-1019-4747-b031-f66ffc1c6ae7"},"exampleIndex":269},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.241 karate.env system property was: null \n"},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":174002,"millis":0.174002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56101,"millis":0.056101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":309305,"millis":0.309305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11901,"millis":0.011901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":162002,"millis":0.162002,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":7501,"millis":0.007501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528888320,"millis":528.88832,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":690710,"millis":0.69071,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":612109,"millis":0.612109,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":429406,"millis":0.429406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":404905,"millis":0.404905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":504507,"millis":0.504507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":498406,"millis":0.498406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":67501,"millis":0.067501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":368105,"millis":0.368105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":320004,"millis":0.320004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":598808,"millis":0.598808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":277403,"millis":0.277403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120502,"millis":0.120502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.777 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":763910,"millis":0.76391,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113402,"millis":0.113402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.778 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":511407,"millis":0.511407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145002,"millis":0.145002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.778 [print] #notpresent \n"},{"result":{"nanos":67201,"millis":0.067201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":174102,"millis":0.174102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.779 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":428805,"millis":0.428805,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109401,"millis":0.109401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.779 [print] Beheer PDOK \n"},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.779 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":430606,"millis":0.430606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":599309,"millis":0.599309,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307004,"millis":0.307004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.47235,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","startTime":1633064357241,"refId":"[1.271:67]","endTime":1633064357781,"exampleData":{"datasetIdentifierCode":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184"},"exampleIndex":270},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.285 karate.env system property was: null \n"},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44101,"millis":0.044101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":183602,"millis":0.183602,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":303804,"millis":0.303804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82101,"millis":0.082101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14201,"millis":0.014201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539777269,"millis":539.777269,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433106,"millis":0.433106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":607609,"millis":0.607609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":375805,"millis":0.375805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":530508,"millis":0.530508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":463206,"millis":0.463206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":506307,"millis":0.506307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84901,"millis":0.084901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":341305,"millis":0.341305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":289104,"millis":0.289104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":380205,"millis":0.380205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":103302,"millis":0.103302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":826411,"millis":0.826411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.831 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":554308,"millis":0.554308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":488507,"millis":0.488507,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.832 [print] OGC:WMS \n"},{"result":{"nanos":434106,"millis":0.434106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122002,"millis":0.122002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.833 [print] #notpresent \n"},{"result":{"nanos":82701,"millis":0.082701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":345205,"millis":0.345205,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.833 [print] OGC:WMS \n"},{"result":{"nanos":409105,"millis":0.409105,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":448206,"millis":0.448206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.834 [print] Beheer PDOK \n"},{"result":{"nanos":1069414,"millis":1.069414,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.835 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":477606,"millis":0.477606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":348005,"millis":0.348005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297904,"millis":0.297904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":550.667018,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3d759186-7cee-4218-aa44-165f3922fbbb","startTime":1633064357285,"refId":"[1.272:67]","endTime":1633064357837,"exampleData":{"datasetIdentifierCode":"3d759186-7cee-4218-aa44-165f3922fbbb"},"exampleIndex":271},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14401,"millis":0.014401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.327 karate.env system property was: null \n"},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43301,"millis":0.043301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":184303,"millis":0.184303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336805,"millis":0.336805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7601,"millis":0.007601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547139869,"millis":547.139869,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":502807,"millis":0.502807,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":491407,"millis":0.491407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":680109,"millis":0.680109,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":545707,"millis":0.545707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":559108,"millis":0.559108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":558508,"millis":0.558508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":479406,"millis":0.479406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":369005,"millis":0.369005,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":432706,"millis":0.432706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105301,"millis":0.105301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":563308,"millis":0.563308,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.881 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":608408,"millis":0.608408,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":572807,"millis":0.572807,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.882 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":520007,"millis":0.520007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":484007,"millis":0.484007,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.883 [print] #notpresent \n"},{"result":{"nanos":134702,"millis":0.134702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":398905,"millis":0.398905,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.884 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":508607,"millis":0.508607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":465807,"millis":0.465807,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.885 [print] Beheer PDOK \n"},{"result":{"nanos":597908,"millis":0.597908,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.885 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":604109,"millis":0.604109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":341104,"millis":0.341104,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":280604,"millis":0.280604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":558.87993,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","startTime":1633064357327,"refId":"[1.273:67]","endTime":1633064357887,"exampleData":{"datasetIdentifierCode":"ec73f245-66ce-4144-ac27-5966c80a4b3a"},"exampleIndex":272},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.745 karate.env system property was: null \n"},{"result":{"nanos":47101,"millis":0.047101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":200602,"millis":0.200602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109901,"millis":0.109901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":281404,"millis":0.281404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107302,"millis":0.107302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386505,"millis":0.386505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78901,"millis":0.078901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":136602,"millis":0.136602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":170603,"millis":0.170603,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":39501,"millis":0.039501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":529812933,"millis":529.812933,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":553708,"millis":0.553708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":422506,"millis":0.422506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":454206,"millis":0.454206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":438606,"millis":0.438606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":488007,"millis":0.488007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":419206,"millis":0.419206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":319104,"millis":0.319104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":489907,"millis":0.489907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":417106,"millis":0.417106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":119901,"millis":0.119901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.282 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":401006,"millis":0.401006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65501,"millis":0.065501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.283 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":349705,"millis":0.349705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80601,"millis":0.080601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.284 [print] #notpresent \n"},{"result":{"nanos":305104,"millis":0.305104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":298404,"millis":0.298404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.284 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":413105,"millis":0.413105,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82101,"millis":0.082101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.285 [print] Beheer PDOK \n"},{"result":{"nanos":672009,"millis":0.672009,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.286 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n"},{"result":{"nanos":550808,"millis":0.550808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1064714,"millis":1.064714,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":496306,"millis":0.496306,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":540.546278,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","startTime":1633064357745,"refId":"[1.274:67]","endTime":1633064358288,"exampleData":{"datasetIdentifierCode":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7"},"exampleIndex":273},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.784 karate.env system property was: null \n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":87402,"millis":0.087402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":95201,"millis":0.095201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":203203,"millis":0.203203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96501,"millis":0.096501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":323204,"millis":0.323204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91701,"millis":0.091701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94802,"millis":0.094802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27901,"millis":0.027901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19601,"millis":0.019601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":18201,"millis":0.018201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541099987,"millis":541.099987,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":371205,"millis":0.371205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":451306,"millis":0.451306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389605,"millis":0.389605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":355505,"millis":0.355505,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":423506,"millis":0.423506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":399305,"millis":0.399305,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":281604,"millis":0.281604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":270104,"millis":0.270104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":345005,"millis":0.345005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":612908,"millis":0.612908,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.330 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":330005,"millis":0.330005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":61301,"millis":0.061301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.331 [print] OGC:WMS \n"},{"result":{"nanos":576308,"millis":0.576308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.332 [print] #notpresent \n"},{"result":{"nanos":46601,"millis":0.046601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":479306,"millis":0.479306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.332 [print] OGC:WMS \n"},{"result":{"nanos":387606,"millis":0.387606,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62001,"millis":0.062001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.333 [print] Beheer PDOK \n"},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.333 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":933213,"millis":0.933213,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":316705,"millis":0.316705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344704,"millis":0.344704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":549.95911,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"09588464-071b-47be-8cbe-d15f2e1f9634","startTime":1633064357783,"refId":"[1.275:67]","endTime":1633064358334,"exampleData":{"datasetIdentifierCode":"09588464-071b-47be-8cbe-d15f2e1f9634"},"exampleIndex":274},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46901,"millis":0.046901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.839 karate.env system property was: null \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":98502,"millis":0.098502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97401,"millis":0.097401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":222103,"millis":0.222103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":100202,"millis":0.100202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":322204,"millis":0.322204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100902,"millis":0.100902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31601,"millis":0.031601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526963094,"millis":526.963094,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":448606,"millis":0.448606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":493906,"millis":0.493906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":422006,"millis":0.422006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":441906,"millis":0.441906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":609508,"millis":0.609508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":531607,"millis":0.531607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":429206,"millis":0.429206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":345205,"millis":0.345205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":588608,"millis":0.588608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96201,"millis":0.096201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":132901,"millis":0.132901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.373 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":651008,"millis":0.651008,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.374 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":517707,"millis":0.517707,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74701,"millis":0.074701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.374 [print] #notpresent \n"},{"result":{"nanos":77301,"millis":0.077301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.375 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":645509,"millis":0.645509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100801,"millis":0.100801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.375 [print] Beheer PDOK \n"},{"result":{"nanos":267003,"millis":0.267003,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.375 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":670810,"millis":0.67081,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":444606,"millis":0.444606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322604,"millis":0.322604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.760826,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","startTime":1633064357838,"refId":"[1.276:67]","endTime":1633064358377,"exampleData":{"datasetIdentifierCode":"ce4ac3b9-8291-498d-95de-79fe7b6f5259"},"exampleIndex":275},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48101,"millis":0.048101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.890 karate.env system property was: null \n"},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":97702,"millis":0.097702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100201,"millis":0.100201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":241504,"millis":0.241504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105501,"millis":0.105501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":351605,"millis":0.351605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76301,"millis":0.076301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114802,"millis":0.114802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":532804974,"millis":532.804974,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":379405,"millis":0.379405,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":429205,"millis":0.429205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":405205,"millis":0.405205,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":401806,"millis":0.401806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":483606,"millis":0.483606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":485506,"millis":0.485506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24601,"millis":0.024601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":338604,"millis":0.338604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":361405,"millis":0.361405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":336904,"millis":0.336904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":161403,"millis":0.161403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":121201,"millis":0.121201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.429 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":406105,"millis":0.406105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140202,"millis":0.140202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.430 [print] OGC:WFS \n"},{"result":{"nanos":414606,"millis":0.414606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":133202,"millis":0.133202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.430 [print] #notpresent \n"},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95301,"millis":0.095301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.430 [print] OGC:WFS \n"},{"result":{"nanos":581308,"millis":0.581308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":108702,"millis":0.108702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.431 [print] Beheer PDOK \n"},{"result":{"nanos":85801,"millis":0.085801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.431 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n"},{"result":{"nanos":461206,"millis":0.461206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":385605,"millis":0.385605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319304,"millis":0.319304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.286488,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","startTime":1633064357889,"refId":"[1.277:67]","endTime":1633064358432,"exampleData":{"datasetIdentifierCode":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32"},"exampleIndex":276},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.290 karate.env system property was: null \n"},{"result":{"nanos":44901,"millis":0.044901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279003,"millis":0.279003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474007,"millis":0.474007,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87701,"millis":0.087701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":336205,"millis":0.336205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":513876215,"millis":513.876215,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":480906,"millis":0.480906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":653608,"millis":0.653608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":351004,"millis":0.351004,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":339404,"millis":0.339404,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":397406,"millis":0.397406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":346805,"millis":0.346805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":276204,"millis":0.276204,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":294604,"millis":0.294604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":333005,"millis":0.333005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62101,"millis":0.062101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":117802,"millis":0.117802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.810 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":788311,"millis":0.788311,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":138902,"millis":0.138902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.811 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":614308,"millis":0.614308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62101,"millis":0.062101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.811 [print] #notpresent \n"},{"result":{"nanos":30301,"millis":0.030301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":373405,"millis":0.373405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.812 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":369805,"millis":0.369805,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65101,"millis":0.065101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.812 [print] Beheer PDOK \n"},{"result":{"nanos":34001,"millis":0.034001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.812 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":963913,"millis":0.963913,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1557021,"millis":1.557021,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364505,"millis":0.364505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":524.466457,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","startTime":1633064358290,"refId":"[1.278:67]","endTime":1633064358815,"exampleData":{"datasetIdentifierCode":"67bcc21d-beda-449d-975c-00a4fa80f2b7"},"exampleIndex":277},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.336 karate.env system property was: null \n"},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74701,"millis":0.074701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51201,"millis":0.051201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213803,"millis":0.213803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":376705,"millis":0.376705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38501,"millis":0.038501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":561195262,"millis":561.195262,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":831312,"millis":0.831312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":556408,"millis":0.556408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":455706,"millis":0.455706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":492307,"millis":0.492307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":612509,"millis":0.612509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":676109,"millis":0.676109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37301,"millis":0.037301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":433906,"millis":0.433906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":359305,"millis":0.359305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":366205,"millis":0.366205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":148602,"millis":0.148602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.904 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":450906,"millis":0.450906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88701,"millis":0.088701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.904 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":361805,"millis":0.361805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61101,"millis":0.061101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.905 [print] #notpresent \n"},{"result":{"nanos":29901,"millis":0.029901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.905 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":546107,"millis":0.546107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":132601,"millis":0.132601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.906 [print] Beheer PDOK \n"},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.906 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":549408,"millis":0.549408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723610,"millis":0.72361,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330604,"millis":0.330604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":570.575891,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"97a7d966-7261-49d4-bc08-c4900981f092","startTime":1633064358336,"refId":"[1.279:67]","endTime":1633064358907,"exampleData":{"datasetIdentifierCode":"97a7d966-7261-49d4-bc08-c4900981f092"},"exampleIndex":278},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.379 karate.env system property was: null \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47201,"millis":0.047201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":247403,"millis":0.247403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39301,"millis":0.039301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348905,"millis":0.348905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":126002,"millis":0.126002,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":550550416,"millis":550.550416,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":418106,"millis":0.418106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":488207,"millis":0.488207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":423106,"millis":0.423106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":398306,"millis":0.398306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":426906,"millis":0.426906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":428605,"millis":0.428605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":74001,"millis":0.074001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":332804,"millis":0.332804,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":379806,"millis":0.379806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":410105,"millis":0.410105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":522408,"millis":0.522408,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.936 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":434406,"millis":0.434406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78901,"millis":0.078901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.936 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":456606,"millis":0.456606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62901,"millis":0.062901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.937 [print] #notpresent \n"},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114801,"millis":0.114801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.937 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":497307,"millis":0.497307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.937 [print] Beheer PDOK \n"},{"result":{"nanos":99001,"millis":0.099001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.938 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":584308,"millis":0.584308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":455306,"millis":0.455306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339305,"millis":0.339305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":559.168935,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","startTime":1633064358379,"refId":"[1.280:67]","endTime":1633064358939,"exampleData":{"datasetIdentifierCode":"d69fee4a-e3ff-47d4-919d-e55276a3fad9"},"exampleIndex":279},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.434 karate.env system property was: null \n"},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":175703,"millis":0.175703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":697109,"millis":0.697109,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":202103,"millis":0.202103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40001,"millis":0.040001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":543805524,"millis":543.805524,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":400906,"millis":0.400906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":465906,"millis":0.465906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":578007,"millis":0.578007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":513607,"millis":0.513607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":595908,"millis":0.595908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":548007,"millis":0.548007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":380305,"millis":0.380305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":330205,"millis":0.330205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":346105,"millis":0.346105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":89401,"millis":0.089401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.984 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1034114,"millis":1.034114,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74301,"millis":0.074301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.985 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":507107,"millis":0.507107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":79701,"millis":0.079701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.986 [print] #notpresent \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":232004,"millis":0.232004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.986 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":588108,"millis":0.588108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96101,"millis":0.096101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.987 [print] Beheer PDOK \n"},{"result":{"nanos":35901,"millis":0.035901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.987 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":708610,"millis":0.70861,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":405606,"millis":0.405606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":280204,"millis":0.280204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":553.609056,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"65f9628b-0a58-4348-8fff-c2d02788acdb","startTime":1633064358434,"refId":"[1.281:67]","endTime":1633064358988,"exampleData":{"datasetIdentifierCode":"65f9628b-0a58-4348-8fff-c2d02788acdb"},"exampleIndex":280},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.818 karate.env system property was: null \n"},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44201,"millis":0.044201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":222003,"millis":0.222003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":323704,"millis":0.323704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27401,"millis":0.027401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":142102,"millis":0.142102,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536605625,"millis":536.605625,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":513107,"millis":0.513107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":420306,"millis":0.420306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":433506,"millis":0.433506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":402306,"millis":0.402306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":21890598,"millis":21.890598,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":808911,"millis":0.808911,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94401,"millis":0.094401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":417006,"millis":0.417006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":392906,"millis":0.392906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":421506,"millis":0.421506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":119801,"millis":0.119801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1056815,"millis":1.056815,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.383 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":622909,"millis":0.622909,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":272603,"millis":0.272603,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.383 [print] OGC:WFS \n"},{"result":{"nanos":3140043,"millis":3.140043,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":185903,"millis":0.185903,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.387 [print] #notpresent \n"},{"result":{"nanos":189603,"millis":0.189603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":144902,"millis":0.144902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.388 [print] OGC:WFS \n"},{"result":{"nanos":603108,"millis":0.603108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150402,"millis":0.150402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.388 [print] Beheer PDOK \n"},{"result":{"nanos":334305,"millis":0.334305,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.389 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":556908,"millis":0.556908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":498207,"millis":0.498207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":341005,"millis":0.341005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":571.641807,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"180b6682-5d6f-429d-abb7-32f7d6253787","startTime":1633064358817,"refId":"[1.282:67]","endTime":1633064359390,"exampleData":{"datasetIdentifierCode":"180b6682-5d6f-429d-abb7-32f7d6253787"},"exampleIndex":281},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.909 karate.env system property was: null \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50501,"millis":0.050501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":251203,"millis":0.251203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":89802,"millis":0.089802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352705,"millis":0.352705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518153774,"millis":518.153774,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":489807,"millis":0.489807,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":432906,"millis":0.432906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":509307,"millis":0.509307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":603208,"millis":0.603208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1059815,"millis":1.059815,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":563508,"millis":0.563508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":381805,"millis":0.381805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":502807,"millis":0.502807,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":489406,"millis":0.489406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":486907,"millis":0.486907,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":577108,"millis":0.577108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.435 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":438606,"millis":0.438606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113302,"millis":0.113302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.436 [print] OGC:WMS \n"},{"result":{"nanos":662309,"millis":0.662309,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":375905,"millis":0.375905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.437 [print] #notpresent \n"},{"result":{"nanos":78001,"millis":0.078001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":926613,"millis":0.926613,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.437 [print] OGC:WMS \n"},{"result":{"nanos":428506,"millis":0.428506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":382405,"millis":0.382405,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.439 [print] Beheer PDOK \n"},{"result":{"nanos":614909,"millis":0.614909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.439 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":424906,"millis":0.424906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":369805,"millis":0.369805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328804,"millis":0.328804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.492945,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d981070b-888c-42d5-85ff-1e383f3d7fce","startTime":1633064358909,"refId":"[1.283:67]","endTime":1633064359441,"exampleData":{"datasetIdentifierCode":"d981070b-888c-42d5-85ff-1e383f3d7fce"},"exampleIndex":282},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.941 karate.env system property was: null \n"},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":188702,"millis":0.188702,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37301,"millis":0.037301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":318704,"millis":0.318704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28701,"millis":0.028701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58401,"millis":0.058401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39501,"millis":0.039501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541412091,"millis":541.412091,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":417705,"millis":0.417705,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":640109,"millis":0.640109,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":414406,"millis":0.414406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":528207,"millis":0.528207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":456106,"millis":0.456106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":483707,"millis":0.483707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":381605,"millis":0.381605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":311705,"millis":0.311705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":380005,"millis":0.380005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":103201,"millis":0.103201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":109701,"millis":0.109701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.488 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n"},{"result":{"nanos":778411,"millis":0.778411,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113701,"millis":0.113701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.489 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":625308,"millis":0.625308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":106602,"millis":0.106602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.489 [print] #notpresent \n"},{"result":{"nanos":298004,"millis":0.298004,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":106702,"millis":0.106702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.490 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":650109,"millis":0.650109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114801,"millis":0.114801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.491 [print] Beheer PDOK \n"},{"result":{"nanos":343405,"millis":0.343405,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.491 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n"},{"result":{"nanos":924913,"millis":0.924913,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":412006,"millis":0.412006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363805,"millis":0.363805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.454429,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","startTime":1633064358940,"refId":"[1.284:67]","endTime":1633064359493,"exampleData":{"datasetIdentifierCode":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf"},"exampleIndex":283},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.990 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38501,"millis":0.038501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232403,"millis":0.232403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":311805,"millis":0.311805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":131101,"millis":0.131101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":10601,"millis":0.010601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":531070050,"millis":531.07005,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":627108,"millis":0.627108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":768511,"millis":0.768511,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":520307,"millis":0.520307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":416406,"millis":0.416406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":489107,"millis":0.489107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":518407,"millis":0.518407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":65201,"millis":0.065201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":485407,"millis":0.485407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":512607,"millis":0.512607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":461907,"millis":0.461907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":130802,"millis":0.130802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":146302,"millis":0.146302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.528 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n"},{"result":{"nanos":848211,"millis":0.848211,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140001,"millis":0.140001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.529 [print] OGC:WMS \n"},{"result":{"nanos":679409,"millis":0.679409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":116702,"millis":0.116702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.530 [print] OGC:WMS \n"},{"result":{"nanos":312404,"millis":0.312404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":112302,"millis":0.112302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.531 [print] OGC:WMS \n"},{"result":{"nanos":1014714,"millis":1.014714,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":159402,"millis":0.159402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.532 [print] Beheer PDOK \n"},{"result":{"nanos":459806,"millis":0.459806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.532 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n"},{"result":{"nanos":1401719,"millis":1.401719,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":445606,"millis":0.445606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":464107,"millis":0.464107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":543.442619,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"598c4109-21d2-4a6c-b083-9975a6736853","startTime":1633064358990,"refId":"[1.285:67]","endTime":1633064359535,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736853"},"exampleIndex":284},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.393 karate.env system property was: null \n"},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":242203,"millis":0.242203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108701,"millis":0.108701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311504,"millis":0.311504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102301,"millis":0.102301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451706,"millis":0.451706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":73201,"millis":0.073201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":151802,"millis":0.151802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":126502,"millis":0.126502,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":19701,"millis":0.019701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519142287,"millis":519.142287,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2901,"millis":0.002901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":597208,"millis":0.597208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":550108,"millis":0.550108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":462606,"millis":0.462606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":446806,"millis":0.446806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433606,"millis":0.433606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":397106,"millis":0.397106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363005,"millis":0.363005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":348204,"millis":0.348204,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":319805,"millis":0.319805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60401,"millis":0.060401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":112001,"millis":0.112001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.919 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1372719,"millis":1.372719,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90102,"millis":0.090102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.920 [print] #notpresent \n"},{"result":{"nanos":529107,"millis":0.529107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96101,"millis":0.096101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.921 [print] OGC:WMS \n"},{"result":{"nanos":47101,"millis":0.047101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96801,"millis":0.096801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.921 [print] #notpresent \n"},{"result":{"nanos":709710,"millis":0.70971,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86701,"millis":0.086701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.922 [print] Beheer PDOK \n"},{"result":{"nanos":80501,"millis":0.080501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.922 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":522308,"millis":0.522308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":523707,"millis":0.523707,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":274904,"millis":0.274904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.48583,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","startTime":1633064359392,"refId":"[1.286:67]","endTime":1633064359923,"exampleData":{"datasetIdentifierCode":"88a93a3b-d522-4c5d-9b0f-c6c39a118442"},"exampleIndex":285},{"sectionIndex":0,"stepResults":[{"result":{"nanos":40401,"millis":0.040401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.443 karate.env system property was: null \n"},{"result":{"nanos":70101,"millis":0.070101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":470206,"millis":0.470206,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":140702,"millis":0.140702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":349805,"millis":0.349805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110302,"millis":0.110302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":358305,"millis":0.358305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69701,"millis":0.069701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":108002,"millis":0.108002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":304605,"millis":0.304605,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":542564607,"millis":542.564607,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":467107,"millis":0.467107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":510807,"millis":0.510807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":406706,"millis":0.406706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":415906,"millis":0.415906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":688409,"millis":0.688409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":546008,"millis":0.546008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41001,"millis":0.041001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":353805,"millis":0.353805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":318804,"millis":0.318804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":378705,"millis":0.378705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":173902,"millis":0.173902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.992 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":397306,"millis":0.397306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":153502,"millis":0.153502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.993 [print] #notpresent \n"},{"result":{"nanos":348805,"millis":0.348805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57701,"millis":0.057701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.993 [print] #notpresent \n"},{"result":{"nanos":74701,"millis":0.074701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.994 [print] #notpresent \n"},{"result":{"nanos":466406,"millis":0.466406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93502,"millis":0.093502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.994 [print] KNMI \n"},{"result":{"nanos":148702,"millis":0.148702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.994 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":570308,"millis":0.570308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":648809,"millis":0.648809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":383706,"millis":0.383706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.518648,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","startTime":1633064359442,"refId":"[1.287:67]","endTime":1633064359996,"exampleData":{"datasetIdentifierCode":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e"},"exampleIndex":286},{"sectionIndex":0,"stepResults":[{"result":{"nanos":91301,"millis":0.091301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.495 karate.env system property was: null \n"},{"result":{"nanos":46001,"millis":0.046001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153202,"millis":0.153202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":147202,"millis":0.147202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":262603,"millis":0.262603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":117501,"millis":0.117501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368505,"millis":0.368505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":71901,"millis":0.071901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":99101,"millis":0.099101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519704294,"millis":519.704294,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":301804,"millis":0.301804,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":351705,"millis":0.351705,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":324204,"millis":0.324204,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":293705,"millis":0.293705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":418905,"millis":0.418905,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":361404,"millis":0.361404,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":262604,"millis":0.262604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":282604,"millis":0.282604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":291304,"millis":0.291304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92101,"millis":0.092101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":118901,"millis":0.118901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.020 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":500707,"millis":0.500707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":271104,"millis":0.271104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.021 [print] INSPIRE Atom \n"},{"result":{"nanos":412206,"millis":0.412206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":64901,"millis":0.064901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.022 [print] #notpresent \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135101,"millis":0.135101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.022 [print] INSPIRE Atom \n"},{"result":{"nanos":411905,"millis":0.411905,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.022 [print] Beheer PDOK \n"},{"result":{"nanos":126402,"millis":0.126402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.023 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":371505,"millis":0.371505,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":357705,"millis":0.357705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":340005,"millis":0.340005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.444097,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2931d583-9633-49d3-ad38-aabea82f6751","startTime":1633064359494,"refId":"[1.288:67]","endTime":1633064360024,"exampleData":{"datasetIdentifierCode":"2931d583-9633-49d3-ad38-aabea82f6751"},"exampleIndex":287},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43301,"millis":0.043301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.537 karate.env system property was: null \n"},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":96802,"millis":0.096802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":96701,"millis":0.096701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":292304,"millis":0.292304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101401,"millis":0.101401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394905,"millis":0.394905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88001,"millis":0.088001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115001,"millis":0.115001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":310805,"millis":0.310805,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518870583,"millis":518.870583,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":617808,"millis":0.617808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":687609,"millis":0.687609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":683410,"millis":0.68341,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1046514,"millis":1.046514,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":532107,"millis":0.532107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":400606,"millis":0.400606,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":474707,"millis":0.474707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":420006,"millis":0.420006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":545907,"millis":0.545907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":124702,"millis":0.124702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":121502,"millis":0.121502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.064 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":347505,"millis":0.347505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114801,"millis":0.114801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.065 [print] OGC:WMS \n"},{"result":{"nanos":340204,"millis":0.340204,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114502,"millis":0.114502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.065 [print] #notpresent \n"},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":90901,"millis":0.090901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.065 [print] OGC:WMS \n"},{"result":{"nanos":410206,"millis":0.410206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129302,"millis":0.129302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.066 [print] Beheer PDOK \n"},{"result":{"nanos":94301,"millis":0.094301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.066 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":389305,"millis":0.389305,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":358905,"millis":0.358905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316704,"millis":0.316704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":529.068121,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e258f171-6f56-4d4d-8311-027b30213c2d","startTime":1633064359536,"refId":"[1.289:67]","endTime":1633064360067,"exampleData":{"datasetIdentifierCode":"e258f171-6f56-4d4d-8311-027b30213c2d"},"exampleIndex":288},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.925 karate.env system property was: null \n"},{"result":{"nanos":25601,"millis":0.025601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209903,"millis":0.209903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38101,"millis":0.038101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":299104,"millis":0.299104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45301,"millis":0.045301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":6101,"millis":0.006101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520124800,"millis":520.1248,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":487606,"millis":0.487606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":416205,"millis":0.416205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":515607,"millis":0.515607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":507107,"millis":0.507107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":460006,"millis":0.460006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":474407,"millis":0.474407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36901,"millis":0.036901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":444306,"millis":0.444306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":342705,"millis":0.342705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":375805,"millis":0.375805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89701,"millis":0.089701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163102,"millis":0.163102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.451 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":342905,"millis":0.342905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86301,"millis":0.086301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.451 [print] INSPIRE Atom \n"},{"result":{"nanos":368505,"millis":0.368505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83001,"millis":0.083001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.452 [print] #notpresent \n"},{"result":{"nanos":33401,"millis":0.033401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.452 [print] INSPIRE Atom \n"},{"result":{"nanos":432906,"millis":0.432906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65401,"millis":0.065401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.453 [print] Beheer PDOK \n"},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.453 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":395306,"millis":0.395306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":9264826,"millis":9.264826,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328104,"millis":0.328104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":536.824929,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","startTime":1633064359925,"refId":"[1.290:67]","endTime":1633064360463,"exampleData":{"datasetIdentifierCode":"e222648d-d19e-4a99-a67d-2af1c9aabd75"},"exampleIndex":289},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.998 karate.env system property was: null \n"},{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45201,"millis":0.045201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215903,"millis":0.215903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37501,"millis":0.037501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":341504,"millis":0.341504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":324204,"millis":0.324204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":9201,"millis":0.009201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540483478,"millis":540.483478,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":406705,"millis":0.406705,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":411306,"millis":0.411306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":448406,"millis":0.448406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":385306,"millis":0.385306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":423805,"millis":0.423805,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":362305,"millis":0.362305,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":312404,"millis":0.312404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":279503,"millis":0.279503,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":307904,"millis":0.307904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78201,"millis":0.078201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":129802,"millis":0.129802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.544 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":294404,"millis":0.294404,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81301,"millis":0.081301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.544 [print] #notpresent \n"},{"result":{"nanos":378306,"millis":0.378306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.545 [print] #notpresent \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":105302,"millis":0.105302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.545 [print] #notpresent \n"},{"result":{"nanos":362505,"millis":0.362505,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.545 [print] KNMI \n"},{"result":{"nanos":71501,"millis":0.071501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.545 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":356305,"millis":0.356305,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1010814,"millis":1.010814,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301004,"millis":0.301004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.360685,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","startTime":1633064359998,"refId":"[1.291:67]","endTime":1633064360547,"exampleData":{"datasetIdentifierCode":"1e01d173-96f4-40b1-8236-c6a9cfdac252"},"exampleIndex":290},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.025 karate.env system property was: null \n"},{"result":{"nanos":25501,"millis":0.025501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58801,"millis":0.058801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":268604,"millis":0.268604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36901,"millis":0.036901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":430606,"millis":0.430606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123602,"millis":0.123602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30401,"millis":0.030401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":551632131,"millis":551.632131,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":685409,"millis":0.685409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":596208,"millis":0.596208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":535208,"millis":0.535208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":503807,"millis":0.503807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":533407,"millis":0.533407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":513307,"millis":0.513307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":446606,"millis":0.446606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":408106,"millis":0.408106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":449506,"millis":0.449506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":536407,"millis":0.536407,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.584 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":444006,"millis":0.444006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":378005,"millis":0.378005,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.585 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":440006,"millis":0.440006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":373605,"millis":0.373605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.585 [print] #notpresent \n"},{"result":{"nanos":38501,"millis":0.038501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":379105,"millis":0.379105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.586 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":551007,"millis":0.551007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":599308,"millis":0.599308,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.587 [print] Beheer PDOK \n"},{"result":{"nanos":595708,"millis":0.595708,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.588 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n"},{"result":{"nanos":707510,"millis":0.70751,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":580408,"millis":0.580408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":295004,"millis":0.295004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":563.474993,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"94e5b115-bece-4140-99ed-93b8f363948e","startTime":1633064360025,"refId":"[1.292:67]","endTime":1633064360589,"exampleData":{"datasetIdentifierCode":"94e5b115-bece-4140-99ed-93b8f363948e"},"exampleIndex":291},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.068 karate.env system property was: null \n"},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":168103,"millis":0.168103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":299705,"millis":0.299705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103002,"millis":0.103002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":536269421,"millis":536.269421,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":570808,"millis":0.570808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":939913,"millis":0.939913,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":643709,"millis":0.643709,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":676209,"millis":0.676209,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":821512,"millis":0.821512,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":623908,"millis":0.623908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24201,"millis":0.024201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":383305,"millis":0.383305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":389806,"millis":0.389806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":456806,"millis":0.456806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":637409,"millis":0.637409,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.612 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wfs\\\/v1_1?request=getCapabilities&service=WFS \n"},{"result":{"nanos":439806,"millis":0.439806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":349205,"millis":0.349205,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.613 [print] #notpresent \n"},{"result":{"nanos":427206,"millis":0.427206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":378605,"millis":0.378605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.614 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":36901,"millis":0.036901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":347005,"millis":0.347005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.614 [print] #notpresent \n"},{"result":{"nanos":554408,"millis":0.554408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":338004,"millis":0.338004,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.615 [print] Beheer PDOK \n"},{"result":{"nanos":545108,"millis":0.545108,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.616 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":521507,"millis":0.521507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":527407,"millis":0.527407,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348205,"millis":0.348205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":548.184986,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","startTime":1633064360068,"refId":"[1.293:67]","endTime":1633064360617,"exampleData":{"datasetIdentifierCode":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7"},"exampleIndex":292},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.468 karate.env system property was: null \n"},{"result":{"nanos":46801,"millis":0.046801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":326504,"millis":0.326504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43701,"millis":0.043701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":494907,"millis":0.494907,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":165802,"millis":0.165802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21601,"millis":0.021601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523262043,"millis":523.262043,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":601808,"millis":0.601808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":796611,"millis":0.796611,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":15298109,"millis":15.298109,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":822911,"millis":0.822911,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1143715,"millis":1.143715,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":540008,"millis":0.540008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":68901,"millis":0.068901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":401705,"millis":0.401705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":348604,"millis":0.348604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":417305,"millis":0.417305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":113202,"millis":0.113202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152502,"millis":0.152502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.014 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wms\\\/v1_1?request=getCapabilities&service=WMS \n"},{"result":{"nanos":1388519,"millis":1.388519,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":171203,"millis":0.171203,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.015 [print] #notpresent \n"},{"result":{"nanos":506107,"millis":0.506107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104401,"millis":0.104401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.016 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":71701,"millis":0.071701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110601,"millis":0.110601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.016 [print] #notpresent \n"},{"result":{"nanos":499207,"millis":0.499207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106902,"millis":0.106902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.017 [print] Beheer PDOK \n"},{"result":{"nanos":112601,"millis":0.112601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.017 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":500307,"millis":0.500307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":440306,"millis":0.440306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":272203,"millis":0.272203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":549.639601,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9e2e977a-16a6-42a4-a208-c4f70704f383","startTime":1633064360467,"refId":"[1.294:67]","endTime":1633064361018,"exampleData":{"datasetIdentifierCode":"9e2e977a-16a6-42a4-a208-c4f70704f383"},"exampleIndex":293},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.550 karate.env system property was: null \n"},{"result":{"nanos":26901,"millis":0.026901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48101,"millis":0.048101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209103,"millis":0.209103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58801,"millis":0.058801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":593408,"millis":0.593408,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32901,"millis":0.032901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":6101,"millis":0.006101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":505115695,"millis":505.115695,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":495106,"millis":0.495106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":474806,"millis":0.474806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":631609,"millis":0.631609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":484107,"millis":0.484107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":743010,"millis":0.74301,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":618309,"millis":0.618309,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":137102,"millis":0.137102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":505107,"millis":0.505107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":435906,"millis":0.435906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":543107,"millis":0.543107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":149302,"millis":0.149302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":460006,"millis":0.460006,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.062 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":488207,"millis":0.488207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":430606,"millis":0.430606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.063 [print] #notpresent \n"},{"result":{"nanos":518807,"millis":0.518807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":287504,"millis":0.287504,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.064 [print] #notpresent \n"},{"result":{"nanos":174603,"millis":0.174603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":149002,"millis":0.149002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.064 [print] #notpresent \n"},{"result":{"nanos":512807,"millis":0.512807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139602,"millis":0.139602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.065 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":469206,"millis":0.469206,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.066 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":551007,"millis":0.551007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":345905,"millis":0.345905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":286604,"millis":0.286604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":516.339349,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","startTime":1633064360549,"refId":"[1.295:67]","endTime":1633064361067,"exampleData":{"datasetIdentifierCode":"24055de7-dcff-487a-8f9a-7aee4f0d8351"},"exampleIndex":294},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.591 karate.env system property was: null \n"},{"result":{"nanos":45901,"millis":0.045901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109002,"millis":0.109002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":304404,"millis":0.304404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47301,"millis":0.047301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370805,"millis":0.370805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":356104,"millis":0.356104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525409172,"millis":525.409172,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":624108,"millis":0.624108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":699310,"millis":0.69931,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":861712,"millis":0.861712,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":926013,"millis":0.926013,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":948213,"millis":0.948213,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":755510,"millis":0.75551,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":519608,"millis":0.519608,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":444906,"millis":0.444906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":534007,"millis":0.534007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":120301,"millis":0.120301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116902,"millis":0.116902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.125 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":610508,"millis":0.610508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127401,"millis":0.127401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.126 [print] #notpresent \n"},{"result":{"nanos":577407,"millis":0.577407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140901,"millis":0.140901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.127 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":127801,"millis":0.127801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.127 [print] #notpresent \n"},{"result":{"nanos":631508,"millis":0.631508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":111702,"millis":0.111702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.128 [print] Beheer PDOK \n"},{"result":{"nanos":118302,"millis":0.118302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.128 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":668309,"millis":0.668309,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":340105,"millis":0.340105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":371305,"millis":0.371305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":537.358831,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","startTime":1633064360591,"refId":"[1.296:67]","endTime":1633064361129,"exampleData":{"datasetIdentifierCode":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f"},"exampleIndex":295},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.620 karate.env system property was: null \n"},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44301,"millis":0.044301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48101,"millis":0.048101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":947413,"millis":0.947413,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1970826,"millis":1.970826,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":452206,"millis":0.452206,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":521849724,"millis":521.849724,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":383205,"millis":0.383205,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":572207,"millis":0.572207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":411305,"millis":0.411305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391906,"millis":0.391906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":479606,"millis":0.479606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":490506,"millis":0.490506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":96602,"millis":0.096602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":459306,"millis":0.459306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":308804,"millis":0.308804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":518607,"millis":0.518607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":147802,"millis":0.147802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":232703,"millis":0.232703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.151 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":399005,"millis":0.399005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":184403,"millis":0.184403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.152 [print] OGC:WFS \n"},{"result":{"nanos":411906,"millis":0.411906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":234603,"millis":0.234603,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.152 [print] #notpresent \n"},{"result":{"nanos":125302,"millis":0.125302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":180703,"millis":0.180703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.153 [print] OGC:WFS \n"},{"result":{"nanos":896612,"millis":0.896612,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":188303,"millis":0.188303,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.154 [print] Beheer PDOK \n"},{"result":{"nanos":178603,"millis":0.178603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.154 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":392805,"millis":0.392805,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":323505,"millis":0.323505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301104,"millis":0.301104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.873885,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d94b1eca-8a7d-4dc4-b979-36257878758f","startTime":1633064360620,"refId":"[1.297:67]","endTime":1633064361155,"exampleData":{"datasetIdentifierCode":"d94b1eca-8a7d-4dc4-b979-36257878758f"},"exampleIndex":296},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41301,"millis":0.041301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.021 karate.env system property was: null \n"},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":213602,"millis":0.213602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119601,"millis":0.119601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":339805,"millis":0.339805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":94201,"millis":0.094201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393505,"millis":0.393505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97101,"millis":0.097101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":59701,"millis":0.059701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21701,"millis":0.021701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19501,"millis":0.019501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":539690188,"millis":539.690188,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":596308,"millis":0.596308,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":585308,"millis":0.585308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":465906,"millis":0.465906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":417806,"millis":0.417806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":519907,"millis":0.519907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":445207,"millis":0.445207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346905,"millis":0.346905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":348305,"millis":0.348305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1880726,"millis":1.880726,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":200603,"millis":0.200603,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":175502,"millis":0.175502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.569 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":420105,"millis":0.420105,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":231504,"millis":0.231504,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.569 [print] OGC:WMS \n"},{"result":{"nanos":522607,"millis":0.522607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":185203,"millis":0.185203,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.570 [print] #notpresent \n"},{"result":{"nanos":70901,"millis":0.070901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.570 [print] OGC:WMS \n"},{"result":{"nanos":641208,"millis":0.641208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":215002,"millis":0.215002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.571 [print] Rijkswaterstaat \n"},{"result":{"nanos":155302,"millis":0.155302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.571 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n"},{"result":{"nanos":514107,"millis":0.514107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":649809,"millis":0.649809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":336105,"millis":0.336105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.345945,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","startTime":1633064361020,"refId":"[1.298:67]","endTime":1633064361573,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3"},"exampleIndex":297},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58701,"millis":0.058701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.070 karate.env system property was: null \n"},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":166403,"millis":0.166403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":215103,"millis":0.215103,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":270404,"millis":0.270404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":167202,"millis":0.167202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392506,"millis":0.392506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":549708,"millis":0.549708,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":506397934,"millis":506.397934,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":628509,"millis":0.628509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":418606,"millis":0.418606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":418306,"millis":0.418306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381205,"millis":0.381205,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435106,"millis":0.435106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":396806,"millis":0.396806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":343605,"millis":0.343605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":340905,"millis":0.340905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":355205,"millis":0.355205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":622509,"millis":0.622509,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":665309,"millis":0.665309,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.584 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":576808,"millis":0.576808,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":489207,"millis":0.489207,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.585 [print] #notpresent \n"},{"result":{"nanos":340005,"millis":0.340005,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":438606,"millis":0.438606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.586 [print] #notpresent \n"},{"result":{"nanos":35201,"millis":0.035201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":546707,"millis":0.546707,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.587 [print] #notpresent \n"},{"result":{"nanos":519208,"millis":0.519208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":479006,"millis":0.479006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.588 [print] KNMI \n"},{"result":{"nanos":789011,"millis":0.789011,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.588 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":445807,"millis":0.445807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":314404,"millis":0.314404,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":273604,"millis":0.273604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.90781,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","startTime":1633064361069,"refId":"[1.299:67]","endTime":1633064361589,"exampleData":{"datasetIdentifierCode":"55cf16e8-1c04-462c-b78a-e0d28823dd2e"},"exampleIndex":298},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42101,"millis":0.042101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.131 karate.env system property was: null \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":120902,"millis":0.120902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110802,"millis":0.110802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229003,"millis":0.229003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":94801,"millis":0.094801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":627608,"millis":0.627608,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85901,"millis":0.085901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":150602,"millis":0.150602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":65901,"millis":0.065901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514626650,"millis":514.62665,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":523107,"millis":0.523107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":517507,"millis":0.517507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446007,"millis":0.446007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":389106,"millis":0.389106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":327304,"millis":0.327304,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":431506,"millis":0.431506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":404005,"millis":0.404005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":356104,"millis":0.356104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":305504,"millis":0.305504,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.652 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":345304,"millis":0.345304,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.653 [print] OGC:WFS \n"},{"result":{"nanos":261704,"millis":0.261704,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":47801,"millis":0.047801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.653 [print] #notpresent \n"},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.653 [print] OGC:WFS \n"},{"result":{"nanos":326304,"millis":0.326304,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.654 [print] Beheer PDOK \n"},{"result":{"nanos":73001,"millis":0.073001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.654 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":415605,"millis":0.415605,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":381905,"millis":0.381905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":476307,"millis":0.476307,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":522.689057,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"027e3f15-3b58-4570-97bb-779ce3ca947e","startTime":1633064361131,"refId":"[1.300:67]","endTime":1633064361655,"exampleData":{"datasetIdentifierCode":"027e3f15-3b58-4570-97bb-779ce3ca947e"},"exampleIndex":299},{"sectionIndex":0,"stepResults":[{"result":{"nanos":93001,"millis":0.093001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.157 karate.env system property was: null \n"},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":96202,"millis":0.096202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":212003,"millis":0.212003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91101,"millis":0.091101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":321105,"millis":0.321105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107901,"millis":0.107901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":85501,"millis":0.085501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":50901,"millis":0.050901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518225402,"millis":518.225402,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1001,"millis":0.001001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":458406,"millis":0.458406,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":564408,"millis":0.564408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":516207,"millis":0.516207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":651308,"millis":0.651308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":490607,"millis":0.490607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":365205,"millis":0.365205,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":280404,"millis":0.280404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":280404,"millis":0.280404,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":278304,"millis":0.278304,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69001,"millis":0.069001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131502,"millis":0.131502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.681 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":366505,"millis":0.366505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":851512,"millis":0.851512,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.682 [print] #notpresent \n"},{"result":{"nanos":352405,"millis":0.352405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94001,"millis":0.094001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.683 [print] #notpresent \n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.683 [print] #notpresent \n"},{"result":{"nanos":453506,"millis":0.453506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104602,"millis":0.104602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.684 [print] KNMI \n"},{"result":{"nanos":78901,"millis":0.078901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.684 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":475106,"millis":0.475106,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":380505,"millis":0.380505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307404,"millis":0.307404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.247525,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7d533012-21ad-4a5b-a97e-a76988270273","startTime":1633064361156,"refId":"[1.301:67]","endTime":1633064361685,"exampleData":{"datasetIdentifierCode":"7d533012-21ad-4a5b-a97e-a76988270273"},"exampleIndex":300},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.575 karate.env system property was: null \n"},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61401,"millis":0.061401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64801,"millis":0.064801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":245104,"millis":0.245104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330304,"millis":0.330304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81001,"millis":0.081001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37001,"millis":0.037001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525686610,"millis":525.68661,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":476506,"millis":0.476506,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":433306,"millis":0.433306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":452206,"millis":0.452206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":469806,"millis":0.469806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":512107,"millis":0.512107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":359805,"millis":0.359805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":271803,"millis":0.271803,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":270004,"millis":0.270004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":273704,"millis":0.273704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":370205,"millis":0.370205,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":345805,"millis":0.345805,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.107 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":467407,"millis":0.467407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":334805,"millis":0.334805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.107 [print] OGC:WMS \n"},{"result":{"nanos":326405,"millis":0.326405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":246403,"millis":0.246403,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.108 [print] #notpresent \n"},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":205103,"millis":0.205103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.108 [print] OGC:WMS \n"},{"result":{"nanos":424506,"millis":0.424506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":233403,"millis":0.233403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.109 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":210403,"millis":0.210403,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.109 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":394405,"millis":0.394405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":571007,"millis":0.571007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":312904,"millis":0.312904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":534.718835,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a12ae6ca-b755-4707-884f-95c0d66f431a","startTime":1633064361575,"refId":"[1.302:67]","endTime":1633064362111,"exampleData":{"datasetIdentifierCode":"a12ae6ca-b755-4707-884f-95c0d66f431a"},"exampleIndex":301},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.591 karate.env system property was: null \n"},{"result":{"nanos":24601,"millis":0.024601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56401,"millis":0.056401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":191103,"millis":0.191103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405405,"millis":0.405405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96701,"millis":0.096701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":535939751,"millis":535.939751,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":351605,"millis":0.351605,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":398706,"millis":0.398706,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":400605,"millis":0.400605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":421706,"millis":0.421706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":413406,"millis":0.413406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":450707,"millis":0.450707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":319405,"millis":0.319405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":315004,"millis":0.315004,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347204,"millis":0.347204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":252304,"millis":0.252304,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":225603,"millis":0.225603,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.132 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":337705,"millis":0.337705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":216003,"millis":0.216003,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.133 [print] #notpresent \n"},{"result":{"nanos":340305,"millis":0.340305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":208503,"millis":0.208503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.134 [print] #notpresent \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":322904,"millis":0.322904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.134 [print] #notpresent \n"},{"result":{"nanos":485407,"millis":0.485407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":252403,"millis":0.252403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.135 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":204103,"millis":0.204103,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.135 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":420606,"millis":0.420606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":319005,"millis":0.319005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":267804,"millis":0.267804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.295568,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c1fb5983-5642-4334-962a-a341cef8c8ff","startTime":1633064361591,"refId":"[1.303:67]","endTime":1633064362136,"exampleData":{"datasetIdentifierCode":"c1fb5983-5642-4334-962a-a341cef8c8ff"},"exampleIndex":302},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14701,"millis":0.014701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.656 karate.env system property was: null \n"},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35901,"millis":0.035901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":160803,"millis":0.160803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":278604,"millis":0.278604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28601,"millis":0.028601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66101,"millis":0.066101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514319254,"millis":514.319254,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":800,"millis":8.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":374006,"millis":0.374006,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":458006,"millis":0.458006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":351405,"millis":0.351405,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":337405,"millis":0.337405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":378705,"millis":0.378705,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":508207,"millis":0.508207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31301,"millis":0.031301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":365805,"millis":0.365805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321105,"millis":0.321105,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":292204,"millis":0.292204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72801,"millis":0.072801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":68201,"millis":0.068201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.176 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":539608,"millis":0.539608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85401,"millis":0.085401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.176 [print] #notpresent \n"},{"result":{"nanos":446006,"millis":0.446006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.177 [print] OGC:WFS \n"},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147502,"millis":0.147502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.177 [print] #notpresent \n"},{"result":{"nanos":463206,"millis":0.463206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88502,"millis":0.088502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.177 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.178 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":587108,"millis":0.587108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":363604,"millis":0.363604,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357005,"millis":0.357005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":521.842561,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"dd414384-0bcb-4188-86e2-2843e12a579e","startTime":1633064361656,"refId":"[1.304:67]","endTime":1633064362179,"exampleData":{"datasetIdentifierCode":"dd414384-0bcb-4188-86e2-2843e12a579e"},"exampleIndex":303},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.687 karate.env system property was: null \n"},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":162602,"millis":0.162602,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":286303,"millis":0.286303,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75601,"millis":0.075601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":519292722,"millis":519.292722,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":800,"millis":8.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":338404,"millis":0.338404,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":378506,"millis":0.378506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":339104,"millis":0.339104,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":341104,"millis":0.341104,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":360105,"millis":0.360105,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":357805,"millis":0.357805,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21200,"millis":0.0212,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":283604,"millis":0.283604,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":325104,"millis":0.325104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":306904,"millis":0.306904,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.211 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":455706,"millis":0.455706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89601,"millis":0.089601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.212 [print] #notpresent \n"},{"result":{"nanos":342105,"millis":0.342105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96901,"millis":0.096901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.212 [print] #notpresent \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58701,"millis":0.058701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.213 [print] #notpresent \n"},{"result":{"nanos":370405,"millis":0.370405,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.213 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.213 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":392405,"millis":0.392405,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":351305,"millis":0.351305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":274004,"millis":0.274004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.865907,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"97312a37-4ebf-4526-94e6-b29e90c2944a","startTime":1633064361687,"refId":"[1.305:67]","endTime":1633064362214,"exampleData":{"datasetIdentifierCode":"97312a37-4ebf-4526-94e6-b29e90c2944a"},"exampleIndex":304},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.113 karate.env system property was: null \n"},{"result":{"nanos":29101,"millis":0.029101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221903,"millis":0.221903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":420506,"millis":0.420506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41101,"millis":0.041101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":275804,"millis":0.275804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":52601,"millis":0.052601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527113429,"millis":527.113429,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":556408,"millis":0.556408,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":383905,"millis":0.383905,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":342005,"millis":0.342005,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":354605,"millis":0.354605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":606408,"millis":0.606408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":698109,"millis":0.698109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86901,"millis":0.086901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":326205,"millis":0.326205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":286104,"millis":0.286104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":381105,"millis":0.381105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102702,"millis":0.102702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":177802,"millis":0.177802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.646 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1142616,"millis":1.142616,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":412206,"millis":0.412206,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.647 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":413606,"millis":0.413606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":426206,"millis":0.426206,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.648 [print] #notpresent \n"},{"result":{"nanos":103401,"millis":0.103401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":431905,"millis":0.431905,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.649 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":591408,"millis":0.591408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":453506,"millis":0.453506,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.650 [print] Beheer PDOK \n"},{"result":{"nanos":623508,"millis":0.623508,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.651 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":452007,"millis":0.452007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":535907,"millis":0.535907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317405,"millis":0.317405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.594486,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","startTime":1633064362112,"refId":"[1.306:67]","endTime":1633064362652,"exampleData":{"datasetIdentifierCode":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db"},"exampleIndex":305},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.138 karate.env system property was: null \n"},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213203,"millis":0.213203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":74501,"millis":0.074501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":343805,"millis":0.343805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78801,"millis":0.078801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":227603,"millis":0.227603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":533191813,"millis":533.191813,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":502307,"millis":0.502307,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":446506,"millis":0.446506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":374805,"millis":0.374805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":432105,"millis":0.432105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":510307,"millis":0.510307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":500307,"millis":0.500307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66701,"millis":0.066701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":404605,"millis":0.404605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":347104,"millis":0.347104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":367805,"millis":0.367805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138002,"millis":0.138002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":138602,"millis":0.138602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.677 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":380505,"millis":0.380505,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123102,"millis":0.123102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.677 [print] #notpresent \n"},{"result":{"nanos":369905,"millis":0.369905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131202,"millis":0.131202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.678 [print] #notpresent \n"},{"result":{"nanos":73301,"millis":0.073301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":123602,"millis":0.123602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.678 [print] #notpresent \n"},{"result":{"nanos":437706,"millis":0.437706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":134602,"millis":0.134602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.678 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":115302,"millis":0.115302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.679 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":493407,"millis":0.493407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":472007,"millis":0.472007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":337304,"millis":0.337304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":541.749829,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b4b59b2c-156d-412e-b8f0-c0779402de80","startTime":1633064362137,"refId":"[1.307:67]","endTime":1633064362680,"exampleData":{"datasetIdentifierCode":"b4b59b2c-156d-412e-b8f0-c0779402de80"},"exampleIndex":306},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.180 karate.env system property was: null \n"},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":148102,"millis":0.148102,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":282103,"millis":0.282103,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61501,"millis":0.061501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38701,"millis":0.038701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":98901,"millis":0.098901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534447530,"millis":534.44753,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":529707,"millis":0.529707,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":587708,"millis":0.587708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":571008,"millis":0.571008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":788411,"millis":0.788411,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":684410,"millis":0.68441,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":869412,"millis":0.869412,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75401,"millis":0.075401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":498507,"millis":0.498507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":409806,"millis":0.409806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":479006,"millis":0.479006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":146703,"millis":0.146703,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":144002,"millis":0.144002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.722 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":506907,"millis":0.506907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116901,"millis":0.116901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.723 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":549807,"millis":0.549807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":125702,"millis":0.125702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.723 [print] #notpresent \n"},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94401,"millis":0.094401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.723 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":601908,"millis":0.601908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114802,"millis":0.114802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.724 [print] Beheer PDOK \n"},{"result":{"nanos":122601,"millis":0.122601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.724 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":630209,"millis":0.630209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":414006,"millis":0.414006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352905,"millis":0.352905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.814872,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"40f04047-3b61-40eb-b026-c1a0caa71881","startTime":1633064362180,"refId":"[1.308:67]","endTime":1633064362726,"exampleData":{"datasetIdentifierCode":"40f04047-3b61-40eb-b026-c1a0caa71881"},"exampleIndex":307},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.216 karate.env system property was: null \n"},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":157802,"millis":0.157802,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":364605,"millis":0.364605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32601,"millis":0.032601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":180502,"millis":0.180502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":526991828,"millis":526.991828,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":607609,"millis":0.607609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":703609,"millis":0.703609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":805412,"millis":0.805412,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":742010,"millis":0.74201,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":821411,"millis":0.821411,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":769811,"millis":0.769811,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":60001,"millis":0.060001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":497107,"millis":0.497107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":625709,"millis":0.625709,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1079715,"millis":1.079715,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":176502,"millis":0.176502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":108302,"millis":0.108302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.751 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":865012,"millis":0.865012,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118502,"millis":0.118502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.752 [print] #notpresent \n"},{"result":{"nanos":670309,"millis":0.670309,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":102802,"millis":0.102802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.753 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":193102,"millis":0.193102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":233403,"millis":0.233403,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.753 [print] #notpresent \n"},{"result":{"nanos":684609,"millis":0.684609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148202,"millis":0.148202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.754 [print] Beheer PDOK \n"},{"result":{"nanos":347104,"millis":0.347104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.755 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":711710,"millis":0.71171,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":316105,"millis":0.316105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322304,"millis":0.322304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":539.684102,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","startTime":1633064362215,"refId":"[1.309:67]","endTime":1633064362756,"exampleData":{"datasetIdentifierCode":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79"},"exampleIndex":308},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.654 karate.env system property was: null \n"},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127702,"millis":0.127702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94501,"millis":0.094501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":330805,"millis":0.330805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":125702,"millis":0.125702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":518507,"millis":0.518507,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84801,"millis":0.084801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":414505,"millis":0.414505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518102307,"millis":518.102307,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":609508,"millis":0.609508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":599309,"millis":0.599309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432706,"millis":0.432706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":450906,"millis":0.450906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":445606,"millis":0.445606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":484407,"millis":0.484407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":374205,"millis":0.374205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":369805,"millis":0.369805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":379405,"millis":0.379405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81402,"millis":0.081402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":87201,"millis":0.087201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.180 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":330605,"millis":0.330605,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119101,"millis":0.119101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.180 [print] OGC:WMS \n"},{"result":{"nanos":387405,"millis":0.387405,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":102901,"millis":0.102901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.181 [print] #notpresent \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80401,"millis":0.080401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.181 [print] OGC:WMS \n"},{"result":{"nanos":501307,"millis":0.501307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85602,"millis":0.085602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.181 [print] Beheer PDOK \n"},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.181 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":479906,"millis":0.479906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":527607,"millis":0.527607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308004,"millis":0.308004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":527.465733,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","startTime":1633064362654,"refId":"[1.310:67]","endTime":1633064363183,"exampleData":{"datasetIdentifierCode":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a"},"exampleIndex":309},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.682 karate.env system property was: null \n"},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95201,"millis":0.095201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91402,"millis":0.091402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229003,"millis":0.229003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":88501,"millis":0.088501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396806,"millis":0.396806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126502,"millis":0.126502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":527943841,"millis":527.943841,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":397106,"millis":0.397106,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":453006,"millis":0.453006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":455706,"millis":0.455706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":423506,"millis":0.423506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":475006,"millis":0.475006,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":465806,"millis":0.465806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":323904,"millis":0.323904,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":312604,"millis":0.312604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":467706,"millis":0.467706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62701,"millis":0.062701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":762411,"millis":0.762411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.216 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":427506,"millis":0.427506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":431106,"millis":0.431106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.217 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":354105,"millis":0.354105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":399405,"millis":0.399405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.218 [print] #notpresent \n"},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":446006,"millis":0.446006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.219 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":422005,"millis":0.422005,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":321605,"millis":0.321605,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.219 [print] Beheer PDOK \n"},{"result":{"nanos":502307,"millis":0.502307,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.220 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":397505,"millis":0.397505,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":340204,"millis":0.340204,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":303505,"millis":0.303505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.308783,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","startTime":1633064362681,"refId":"[1.311:67]","endTime":1633064363221,"exampleData":{"datasetIdentifierCode":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef"},"exampleIndex":310},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44001,"millis":0.044001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.728 karate.env system property was: null \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115701,"millis":0.115701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88601,"millis":0.088601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":194002,"millis":0.194002,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86702,"millis":0.086702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":312604,"millis":0.312604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64401,"millis":0.064401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118402,"millis":0.118402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61101,"millis":0.061101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18201,"millis":0.018201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":32201,"millis":0.032201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":525993515,"millis":525.993515,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":418806,"millis":0.418806,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":403806,"millis":0.403806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":355705,"millis":0.355705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":362905,"millis":0.362905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":380205,"millis":0.380205,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":355605,"millis":0.355605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23101,"millis":0.023101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297504,"millis":0.297504,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":283904,"millis":0.283904,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":281004,"millis":0.281004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":51801,"millis":0.051801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.260 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n"},{"result":{"nanos":462206,"millis":0.462206,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":57001,"millis":0.057001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.260 [print] OGC:WFS \n"},{"result":{"nanos":378705,"millis":0.378705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.261 [print] #notpresent \n"},{"result":{"nanos":27301,"millis":0.027301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":173602,"millis":0.173602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.261 [print] OGC:WFS \n"},{"result":{"nanos":418206,"millis":0.418206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":108302,"millis":0.108302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.262 [print] Beheer PDOK \n"},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.262 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":582908,"millis":0.582908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":388705,"millis":0.388705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":298304,"millis":0.298304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.549519,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","startTime":1633064362727,"refId":"[1.312:67]","endTime":1633064363263,"exampleData":{"datasetIdentifierCode":"008d85d1-460d-46f6-9af4-98afdedbc4dc"},"exampleIndex":311},{"sectionIndex":0,"stepResults":[{"result":{"nanos":65501,"millis":0.065501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.758 karate.env system property was: null \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":92502,"millis":0.092502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122401,"millis":0.122401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":206302,"millis":0.206302,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86702,"millis":0.086702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1265717,"millis":1.265717,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":103402,"millis":0.103402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":169402,"millis":0.169402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26601,"millis":0.026601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523228177,"millis":523.228177,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":662209,"millis":0.662209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":997514,"millis":0.997514,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1479520,"millis":1.47952,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1042314,"millis":1.042314,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":964913,"millis":0.964913,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1053215,"millis":1.053215,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":542007,"millis":0.542007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":582308,"millis":0.582308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":873612,"millis":0.873612,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":120502,"millis":0.120502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":93001,"millis":0.093001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.292 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n"},{"result":{"nanos":1184516,"millis":1.184516,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81501,"millis":0.081501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.294 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1145816,"millis":1.145816,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112702,"millis":0.112702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.295 [print] #notpresent \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":590008,"millis":0.590008,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.296 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1577821,"millis":1.577821,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71501,"millis":0.071501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.297 [print] Rijkswaterstaat \n"},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.297 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":2262031,"millis":2.262031,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":680310,"millis":0.68031,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385706,"millis":0.385706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":542.126835,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1633064362757,"refId":"[1.313:67]","endTime":1633064363301,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":312},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15301,"millis":0.015301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.185 karate.env system property was: null \n"},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42001,"millis":0.042001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":353305,"millis":0.353305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385505,"millis":0.385505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82101,"millis":0.082101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":596508882,"millis":596.508882,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":681509,"millis":0.681509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":672710,"millis":0.67271,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":583608,"millis":0.583608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":583108,"millis":0.583108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":671709,"millis":0.671709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":641409,"millis":0.641409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23901,"millis":0.023901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":438306,"millis":0.438306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":423506,"millis":0.423506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":465206,"millis":0.465206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93302,"millis":0.093302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":106401,"millis":0.106401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.788 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n"},{"result":{"nanos":473007,"millis":0.473007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93501,"millis":0.093501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.789 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":503007,"millis":0.503007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.789 [print] #notpresent \n"},{"result":{"nanos":28301,"millis":0.028301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.789 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":614609,"millis":0.614609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":54701,"millis":0.054701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.790 [print] Rijkswaterstaat \n"},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.790 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":616009,"millis":0.616009,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":555808,"millis":0.555808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":283604,"millis":0.283604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":606.381619,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","startTime":1633064363184,"refId":"[1.314:67]","endTime":1633064363792,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2"},"exampleIndex":313},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.223 karate.env system property was: null \n"},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33401,"millis":0.033401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":149702,"millis":0.149702,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":292904,"millis":0.292904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":324605,"millis":0.324605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":626752397,"millis":626.752397,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":333805,"millis":0.333805,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":388005,"millis":0.388005,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":381805,"millis":0.381805,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":454406,"millis":0.454406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":478407,"millis":0.478407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":416706,"millis":0.416706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":301205,"millis":0.301205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":293604,"millis":0.293604,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":319204,"millis":0.319204,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68901,"millis":0.068901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":51601,"millis":0.051601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.855 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n"},{"result":{"nanos":368005,"millis":0.368005,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.855 [print] INSPIRE Atom \n"},{"result":{"nanos":311605,"millis":0.311605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.856 [print] #notpresent \n"},{"result":{"nanos":25501,"millis":0.025501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.856 [print] INSPIRE Atom \n"},{"result":{"nanos":429305,"millis":0.429305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.856 [print] Rijkswaterstaat \n"},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.856 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":411006,"millis":0.411006,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":341704,"millis":0.341704,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358604,"millis":0.358604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":633.76449,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","startTime":1633064363223,"refId":"[1.315:67]","endTime":1633064363857,"exampleData":{"datasetIdentifierCode":"adn83730-e750-485a-9c0c-39bf9bt72cf8"},"exampleIndex":314},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.264 karate.env system property was: null \n"},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35001,"millis":0.035001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":172702,"millis":0.172702,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52101,"millis":0.052101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375205,"millis":0.375205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93001,"millis":0.093001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":118802,"millis":0.118802,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":545664284,"millis":545.664284,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":399306,"millis":0.399306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":568308,"millis":0.568308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417506,"millis":0.417506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":325904,"millis":0.325904,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":367705,"millis":0.367705,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":339505,"millis":0.339505,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25501,"millis":0.025501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297304,"millis":0.297304,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":288804,"millis":0.288804,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":266004,"millis":0.266004,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68001,"millis":0.068001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":52001,"millis":0.052001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.815 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":335204,"millis":0.335204,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":53101,"millis":0.053101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.815 [print] OGC:WFS \n"},{"result":{"nanos":296704,"millis":0.296704,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.816 [print] #notpresent \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.816 [print] OGC:WFS \n"},{"result":{"nanos":383605,"millis":0.383605,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67901,"millis":0.067901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.816 [print] Beheer PDOK \n"},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.816 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":370805,"millis":0.370805,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":309504,"millis":0.309504,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":331805,"millis":0.331805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.389178,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"8129296b-b9c1-489f-990a-df4a879e12b2","startTime":1633064363264,"refId":"[1.316:67]","endTime":1633064363817,"exampleData":{"datasetIdentifierCode":"8129296b-b9c1-489f-990a-df4a879e12b2"},"exampleIndex":315},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.302 karate.env system property was: null \n"},{"result":{"nanos":27501,"millis":0.027501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":173603,"millis":0.173603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":439506,"millis":0.439506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62001,"millis":0.062001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":374005,"millis":0.374005,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4401,"millis":0.004401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":578578835,"millis":578.578835,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":700,"millis":7.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":542007,"millis":0.542007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":620309,"millis":0.620309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":413406,"millis":0.413406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":482406,"millis":0.482406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":542407,"millis":0.542407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":563208,"millis":0.563208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22701,"millis":0.022701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":478606,"millis":0.478606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":431706,"millis":0.431706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":495206,"millis":0.495206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98001,"millis":0.098001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":80901,"millis":0.080901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.887 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n"},{"result":{"nanos":564707,"millis":0.564707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":82102,"millis":0.082102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.888 [print] OGC:WCS \n"},{"result":{"nanos":478406,"millis":0.478406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80902,"millis":0.080902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.889 [print] #notpresent \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.889 [print] OGC:WCS \n"},{"result":{"nanos":615108,"millis":0.615108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68601,"millis":0.068601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.889 [print] Rijkswaterstaat \n"},{"result":{"nanos":37801,"millis":0.037801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.890 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n"},{"result":{"nanos":507407,"millis":0.507407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":463107,"millis":0.463107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":313704,"millis":0.313704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":587.923464,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","startTime":1633064363302,"refId":"[1.317:67]","endTime":1633064363891,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1"},"exampleIndex":316},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.793 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46301,"millis":0.046301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48501,"millis":0.048501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231703,"millis":0.231703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":294204,"millis":0.294204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49101,"millis":0.049101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480df83794'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":547874415,"millis":547.874415,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":604108,"millis":0.604108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480df83794'"}},{"result":{"nanos":461906,"millis":0.461906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":435606,"millis":0.435606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":452206,"millis":0.452206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":814312,"millis":0.814312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":577508,"millis":0.577508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83101,"millis":0.083101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":372505,"millis":0.372505,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":358305,"millis":0.358305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":408506,"millis":0.408506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99802,"millis":0.099802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":143102,"millis":0.143102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.347 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":487806,"millis":0.487806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103201,"millis":0.103201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.348 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":768211,"millis":0.768211,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103901,"millis":0.103901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.349 [print] #notpresent \n"},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":216103,"millis":0.216103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.349 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":600008,"millis":0.600008,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119702,"millis":0.119702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.350 [print] Rijkswaterstaat \n"},{"result":{"nanos":183302,"millis":0.183302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.350 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":535408,"millis":0.535408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":462307,"millis":0.462307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":276903,"millis":0.276903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":557.487246,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-f297898-2640-44c2-bbe9-c0480df83794","startTime":1633064363793,"refId":"[1.318:67]","endTime":1633064364352,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480df83794"},"exampleIndex":317},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.819 karate.env system property was: null \n"},{"result":{"nanos":25901,"millis":0.025901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42101,"millis":0.042101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":190003,"millis":0.190003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":297304,"millis":0.297304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42901,"millis":0.042901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dm83794'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4201,"millis":0.004201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":541020120,"millis":541.02012,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":419905,"millis":0.419905,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dm83794'"}},{"result":{"nanos":474306,"millis":0.474306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":428006,"millis":0.428006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":410306,"millis":0.410306,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":483807,"millis":0.483807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":473806,"millis":0.473806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":357205,"millis":0.357205,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":316705,"millis":0.316705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":410305,"millis":0.410305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91801,"millis":0.091801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":199203,"millis":0.199203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.365 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":518607,"millis":0.518607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127202,"millis":0.127202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.366 [print] OGC:WMS \n"},{"result":{"nanos":529907,"millis":0.529907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97902,"millis":0.097902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.367 [print] #notpresent \n"},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":213003,"millis":0.213003,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.367 [print] OGC:WMS \n"},{"result":{"nanos":526707,"millis":0.526707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":103402,"millis":0.103402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.368 [print] Rijkswaterstaat \n"},{"result":{"nanos":107301,"millis":0.107301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.368 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":435306,"millis":0.435306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":471306,"millis":0.471306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342705,"millis":0.342705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":549.475937,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"wt-f297898-2640-44c2-bbe9-c0480dm83794","startTime":1633064363819,"refId":"[1.319:67]","endTime":1633064364369,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480dm83794"},"exampleIndex":318},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.859 karate.env system property was: null \n"},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":141602,"millis":0.141602,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":314605,"millis":0.314605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59501,"millis":0.059501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":537893978,"millis":537.893978,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":552607,"millis":0.552607,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":857412,"millis":0.857412,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":901013,"millis":0.901013,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":897212,"millis":0.897212,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":808211,"millis":0.808211,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":900313,"millis":0.900313,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":503907,"millis":0.503907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":662409,"millis":0.662409,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":998114,"millis":0.998114,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129802,"millis":0.129802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105802,"millis":0.105802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.405 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":586608,"millis":0.586608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":100401,"millis":0.100401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.406 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":641708,"millis":0.641708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":187703,"millis":0.187703,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.407 [print] #notpresent \n"},{"result":{"nanos":66501,"millis":0.066501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95702,"millis":0.095702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.407 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":911812,"millis":0.911812,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":157202,"millis":0.157202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.408 [print] Rijkswaterstaat \n"},{"result":{"nanos":167202,"millis":0.167202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.408 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":1028214,"millis":1.028214,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":487207,"millis":0.487207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":531707,"millis":0.531707,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":551.069258,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","startTime":1633064363859,"refId":"[1.320:67]","endTime":1633064364410,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611f0gfim"},"exampleIndex":319},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.892 karate.env system property was: null \n"},{"result":{"nanos":23801,"millis":0.023801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":39301,"millis":0.039301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":143102,"millis":0.143102,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":269803,"millis":0.269803,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27501,"millis":0.027501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123602,"millis":0.123602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6801,"millis":0.006801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dt83794'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534184827,"millis":534.184827,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":505007,"millis":0.505007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dt83794'"}},{"result":{"nanos":437306,"millis":0.437306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":402105,"millis":0.402105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":540208,"millis":0.540208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":599808,"millis":0.599808,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":564208,"millis":0.564208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":385206,"millis":0.385206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":312104,"millis":0.312104,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362205,"millis":0.362205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":522708,"millis":0.522708,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":564807,"millis":0.564807,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.433 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":423205,"millis":0.423205,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.433 [print] INSPIRE Atom \n"},{"result":{"nanos":665109,"millis":0.665109,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104402,"millis":0.104402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.434 [print] #notpresent \n"},{"result":{"nanos":338605,"millis":0.338605,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":383105,"millis":0.383105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.435 [print] INSPIRE Atom \n"},{"result":{"nanos":429506,"millis":0.429506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126202,"millis":0.126202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.436 [print] Rijkswaterstaat \n"},{"result":{"nanos":500507,"millis":0.500507,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.436 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":453806,"millis":0.453806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":460206,"millis":0.460206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":360405,"millis":0.360405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":544.603071,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-f297898-2640-44c2-bbe9-c0480dt83794","startTime":1633064363892,"refId":"[1.321:67]","endTime":1633064364438,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480dt83794"},"exampleIndex":320},{"sectionIndex":0,"stepResults":[{"result":{"nanos":40601,"millis":0.040601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.354 karate.env system property was: null \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107202,"millis":0.107202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91801,"millis":0.091801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":277304,"millis":0.277304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96702,"millis":0.096702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":367705,"millis":0.367705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65401,"millis":0.065401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":95001,"millis":0.095001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":514954663,"millis":514.954663,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":892912,"millis":0.892912,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":997714,"millis":0.997714,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":780110,"millis":0.78011,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1113315,"millis":1.113315,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1218317,"millis":1.218317,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":985413,"millis":0.985413,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":464406,"millis":0.464406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":496106,"millis":0.496106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":579508,"millis":0.579508,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82301,"millis":0.082301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":144602,"millis":0.144602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.878 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":701210,"millis":0.70121,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":69701,"millis":0.069701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.879 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":500007,"millis":0.500007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":53501,"millis":0.053501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.880 [print] #notpresent \n"},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80001,"millis":0.080001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.880 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":704310,"millis":0.70431,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":54801,"millis":0.054801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.881 [print] Rijkswaterstaat \n"},{"result":{"nanos":29401,"millis":0.029401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.881 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":738110,"millis":0.73811,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":673509,"millis":0.673509,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":795311,"millis":0.795311,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.499148,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","startTime":1633064364353,"refId":"[1.322:67]","endTime":1633064364883,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611m0gfim"},"exampleIndex":321},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.370 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":77801,"millis":0.077801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114702,"millis":0.114702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":184803,"millis":0.184803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":84401,"millis":0.084401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":308804,"millis":0.308804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":80501,"millis":0.080501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'"}},{"result":{"nanos":15501,"millis":0.015501,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":534492431,"millis":534.492431,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":612708,"millis":0.612708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'"}},{"result":{"nanos":1011914,"millis":1.011914,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":691710,"millis":0.69171,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":729410,"millis":0.72941,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":815911,"millis":0.815911,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":882112,"millis":0.882112,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":614708,"millis":0.614708,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":466906,"millis":0.466906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1143616,"millis":1.143616,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":111602,"millis":0.111602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":102501,"millis":0.102501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.914 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":769411,"millis":0.769411,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78901,"millis":0.078901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.915 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":595809,"millis":0.595809,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.915 [print] #notpresent \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.915 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":855412,"millis":0.855412,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65201,"millis":0.065201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.916 [print] Rijkswaterstaat \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.916 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":794211,"millis":0.794211,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":359105,"millis":0.359105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":285804,"millis":0.285804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":546.8118,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"tn-2c7040b-c448-451b-bf15-f2416efaadd1","startTime":1633064364370,"refId":"[1.323:67]","endTime":1633064364918,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416efaadd1"},"exampleIndex":322},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.412 karate.env system property was: null \n"},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":99402,"millis":0.099402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94901,"millis":0.094901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237303,"millis":0.237303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93901,"millis":0.093901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":345405,"millis":0.345405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67101,"millis":0.067101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":144402,"millis":0.144402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57401,"millis":0.057401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":510608703,"millis":510.608703,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":378306,"millis":0.378306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'"}},{"result":{"nanos":483806,"millis":0.483806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":408305,"millis":0.408305,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":403706,"millis":0.403706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":461206,"millis":0.461206,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":432705,"millis":0.432705,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":304404,"millis":0.304404,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":302305,"millis":0.302305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":312404,"millis":0.312404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.928 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":343805,"millis":0.343805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81901,"millis":0.081901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.929 [print] INSPIRE Atom \n"},{"result":{"nanos":360305,"millis":0.360305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":51501,"millis":0.051501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.929 [print] #notpresent \n"},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.929 [print] INSPIRE Atom \n"},{"result":{"nanos":431706,"millis":0.431706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.930 [print] Rijkswaterstaat \n"},{"result":{"nanos":64001,"millis":0.064001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.930 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":411606,"millis":0.411606,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":379305,"millis":0.379305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347404,"millis":0.347404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":518.190205,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"tn-2c7040b-c448-451b-bf15-f2416etaadd1","startTime":1633064364412,"refId":"[1.324:67]","endTime":1633064364931,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416etaadd1"},"exampleIndex":323},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42901,"millis":0.042901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.440 karate.env system property was: null \n"},{"result":{"nanos":36301,"millis":0.036301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":96101,"millis":0.096101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93301,"millis":0.093301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233604,"millis":0.233604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":312004,"millis":0.312004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":92001,"millis":0.092001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16301,"millis":0.016301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":549755540,"millis":549.75554,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":395305,"millis":0.395305,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":535307,"millis":0.535307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":530707,"millis":0.530707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":471206,"millis":0.471206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":554307,"millis":0.554307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1321519,"millis":1.321519,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":413706,"millis":0.413706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":378305,"millis":0.378305,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":500607,"millis":0.500607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":147002,"millis":0.147002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.998 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":679309,"millis":0.679309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":191803,"millis":0.191803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.998 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":491007,"millis":0.491007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60301,"millis":0.060301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.999 [print] #notpresent \n"},{"result":{"nanos":144802,"millis":0.144802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95501,"millis":0.095501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.999 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":603708,"millis":0.603708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":107501,"millis":0.107501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.000 [print] Rijkswaterstaat \n"},{"result":{"nanos":48201,"millis":0.048201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.000 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":876012,"millis":0.876012,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":545107,"millis":0.545107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":274804,"millis":0.274804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":560.439285,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cf69ec50-9849-4afd-853c-ee5621md336d","startTime":1633064364440,"refId":"[1.325:67]","endTime":1633064365002,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621md336d"},"exampleIndex":324},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.885 karate.env system property was: null \n"},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44501,"millis":0.044501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209303,"millis":0.209303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":100301,"millis":0.100301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385806,"millis":0.385806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117701,"millis":0.117701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31001,"millis":0.031001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522304864,"millis":522.304864,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":663209,"millis":0.663209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":640608,"millis":0.640608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":452306,"millis":0.452306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":488607,"millis":0.488607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":546407,"millis":0.546407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":448306,"millis":0.448306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":323105,"millis":0.323105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":410706,"millis":0.410706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":341404,"millis":0.341404,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57201,"millis":0.057201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":115102,"millis":0.115102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.414 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n"},{"result":{"nanos":355705,"millis":0.355705,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120602,"millis":0.120602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.414 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":398605,"millis":0.398605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71001,"millis":0.071001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.415 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":115302,"millis":0.115302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.415 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":473306,"millis":0.473306,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.415 [print] Rijkswaterstaat \n"},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.415 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":521107,"millis":0.521107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":676009,"millis":0.676009,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":262204,"millis":0.262204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":531.083384,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"cf69ec50-9849-4afd-853c-ee5621fd336d","startTime":1633064364885,"refId":"[1.326:67]","endTime":1633064365417,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621fd336d"},"exampleIndex":325},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.920 karate.env system property was: null \n"},{"result":{"nanos":27301,"millis":0.027301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":194703,"millis":0.194703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36601,"millis":0.036601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":287804,"millis":0.287804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43801,"millis":0.043801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12301,"millis":0.012301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":528228145,"millis":528.228145,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":608609,"millis":0.608609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'"}},{"result":{"nanos":545208,"millis":0.545208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":557708,"millis":0.557708,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":530207,"millis":0.530207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":550708,"millis":0.550708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":549007,"millis":0.549007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21801,"millis":0.021801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":369105,"millis":0.369105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374805,"millis":0.374805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":443206,"millis":0.443206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":101802,"millis":0.101802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.454 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":868512,"millis":0.868512,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83301,"millis":0.083301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.455 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1013814,"millis":1.013814,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111502,"millis":0.111502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.456 [print] #notpresent \n"},{"result":{"nanos":31701,"millis":0.031701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":457806,"millis":0.457806,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.457 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":658909,"millis":0.658909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77301,"millis":0.077301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.458 [print] Rijkswaterstaat \n"},{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.458 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":1151016,"millis":1.151016,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":372305,"millis":0.372305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318905,"millis":0.318905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":538.948495,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"tn-2c7040b-c448-451b-bf15-f2416emaadd1","startTime":1633064364920,"refId":"[1.327:67]","endTime":1633064365460,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416emaadd1"},"exampleIndex":326},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.933 karate.env system property was: null \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63201,"millis":0.063201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":179802,"millis":0.179802,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":315604,"millis":0.315604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":8301,"millis":0.008301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":546668698,"millis":546.668698,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":377005,"millis":0.377005,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":456506,"millis":0.456506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":19656170,"millis":19.65617,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":711310,"millis":0.71131,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":808511,"millis":0.808511,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":592808,"millis":0.592808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":70901,"millis":0.070901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":436806,"millis":0.436806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":360705,"millis":0.360705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":664809,"millis":0.664809,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3751152,"millis":3.751152,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":467206,"millis":0.467206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.509 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":499707,"millis":0.499707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":306704,"millis":0.306704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.510 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":632908,"millis":0.632908,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":393205,"millis":0.393205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.511 [print] #notpresent \n"},{"result":{"nanos":113802,"millis":0.113802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":517207,"millis":0.517207,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.512 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":599508,"millis":0.599508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136902,"millis":0.136902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.512 [print] Rijkswaterstaat \n"},{"result":{"nanos":396606,"millis":0.396606,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.513 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":494107,"millis":0.494107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":434106,"millis":0.434106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":277004,"millis":0.277004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":580.668264,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","startTime":1633064364933,"refId":"[1.328:67]","endTime":1633064365514,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2"},"exampleIndex":327},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.004 karate.env system property was: null \n"},{"result":{"nanos":26201,"millis":0.026201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40101,"millis":0.040101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":325105,"millis":0.325105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":362605,"millis":0.362605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":122302,"millis":0.122302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58001,"millis":0.058001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16101,"millis":0.016101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":110802,"millis":0.110802,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":522855072,"millis":522.855072,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":484907,"millis":0.484907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":634709,"millis":0.634709,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":478206,"millis":0.478206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":446806,"millis":0.446806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":715210,"millis":0.71521,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":577608,"millis":0.577608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":80401,"millis":0.080401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":367805,"millis":0.367805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":476807,"millis":0.476807,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":512307,"millis":0.512307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86601,"millis":0.086601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":112801,"millis":0.112801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.533 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":499607,"millis":0.499607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130202,"millis":0.130202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.534 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":605809,"millis":0.605809,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":150102,"millis":0.150102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.535 [print] #notpresent \n"},{"result":{"nanos":271904,"millis":0.271904,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":146702,"millis":0.146702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.535 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":565208,"millis":0.565208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":173903,"millis":0.173903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.536 [print] Rijkswaterstaat \n"},{"result":{"nanos":146602,"millis":0.146602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.536 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":912812,"millis":0.912812,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":433706,"millis":0.433706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311604,"millis":0.311604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":533.40992,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","startTime":1633064365003,"refId":"[1.329:67]","endTime":1633064365538,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2"},"exampleIndex":328},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.419 karate.env system property was: null \n"},{"result":{"nanos":164402,"millis":0.164402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55501,"millis":0.055501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":314804,"millis":0.314804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":94102,"millis":0.094102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":366905,"millis":0.366905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66401,"millis":0.066401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":139202,"millis":0.139202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43901,"millis":0.043901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21201,"millis":0.021201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":518185407,"millis":518.185407,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":569508,"millis":0.569508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":500907,"millis":0.500907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":462306,"millis":0.462306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":486907,"millis":0.486907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":520707,"millis":0.520707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":542108,"millis":0.542108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94601,"millis":0.094601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":432806,"millis":0.432806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":385006,"millis":0.385006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":387305,"millis":0.387305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":761011,"millis":0.761011,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":736210,"millis":0.73621,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.945 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":450406,"millis":0.450406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":383105,"millis":0.383105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.946 [print] OGC:WFS \n"},{"result":{"nanos":372605,"millis":0.372605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":413906,"millis":0.413906,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.947 [print] #notpresent \n"},{"result":{"nanos":101101,"millis":0.101101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":368305,"millis":0.368305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.947 [print] OGC:WFS \n"},{"result":{"nanos":491407,"millis":0.491407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":413505,"millis":0.413505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.948 [print] Beheer PDOK \n"},{"result":{"nanos":545308,"millis":0.545308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.949 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":412906,"millis":0.412906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":484107,"millis":0.484107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":255403,"millis":0.255403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":530.160174,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","startTime":1633064365419,"refId":"[1.330:67]","endTime":1633064365950,"exampleData":{"datasetIdentifierCode":"5bb85b77-fffd-449b-bd61-f076fe07cc4b"},"exampleIndex":329},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.461 karate.env system property was: null \n"},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":157802,"millis":0.157802,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61701,"millis":0.061701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":314004,"millis":0.314004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":313505,"millis":0.313505,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515362169,"millis":515.362169,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438306,"millis":0.438306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":422406,"millis":0.422406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":383606,"millis":0.383606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":378705,"millis":0.378705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":467207,"millis":0.467207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446106,"millis":0.446106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59701,"millis":0.059701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":344905,"millis":0.344905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":309704,"millis":0.309704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":384005,"millis":0.384005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":405405,"millis":0.405405,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":468607,"millis":0.468607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.983 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":486406,"millis":0.486406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":365605,"millis":0.365605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.984 [print] OGC:WMS \n"},{"result":{"nanos":430906,"millis":0.430906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":393905,"millis":0.393905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.985 [print] #notpresent \n"},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":541307,"millis":0.541307,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.985 [print] OGC:WMS \n"},{"result":{"nanos":572508,"millis":0.572508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153603,"millis":0.153603,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.986 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":1011414,"millis":1.011414,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.987 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":584708,"millis":0.584708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":314804,"millis":0.314804,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302004,"millis":0.302004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":526.262617,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a6098c24-4caf-4528-954c-672b9ec6cf78","startTime":1633064365461,"refId":"[1.331:67]","endTime":1633064365988,"exampleData":{"datasetIdentifierCode":"a6098c24-4caf-4528-954c-672b9ec6cf78"},"exampleIndex":330},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.517 karate.env system property was: null \n"},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":177103,"millis":0.177103,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97701,"millis":0.097701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":325205,"millis":0.325205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":92601,"millis":0.092601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":472107,"millis":0.472107,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":106301,"millis":0.106301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115601,"millis":0.115601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":186903,"millis":0.186903,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":53501,"millis":0.053501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":515897376,"millis":515.897376,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":483307,"millis":0.483307,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":509707,"millis":0.509707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":371505,"millis":0.371505,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":370605,"millis":0.370605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":402106,"millis":0.402106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":610208,"millis":0.610208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29001,"millis":0.029001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":486206,"millis":0.486206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":384705,"millis":0.384705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":376805,"millis":0.376805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":186703,"millis":0.186703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.040 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":455606,"millis":0.455606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88101,"millis":0.088101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.040 [print] OGC:WMS \n"},{"result":{"nanos":421106,"millis":0.421106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.041 [print] #notpresent \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":148802,"millis":0.148802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.041 [print] OGC:WMS \n"},{"result":{"nanos":510107,"millis":0.510107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72001,"millis":0.072001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.042 [print] Beheer PDOK \n"},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.042 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":1128416,"millis":1.128416,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":378105,"millis":0.378105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":277904,"millis":0.277904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":525.575206,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","startTime":1633064365516,"refId":"[1.332:67]","endTime":1633064366044,"exampleData":{"datasetIdentifierCode":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b"},"exampleIndex":331},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.540 karate.env system property was: null \n"},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121901,"millis":0.121901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109902,"millis":0.109902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311104,"millis":0.311104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":221003,"millis":0.221003,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486606,"millis":0.486606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":72101,"millis":0.072101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106801,"millis":0.106801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37901,"millis":0.037901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":112401,"millis":0.112401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":516737987,"millis":516.737987,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":654309,"millis":0.654309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":473106,"millis":0.473106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":542308,"millis":0.542308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":481707,"millis":0.481707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":552807,"millis":0.552807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":486106,"millis":0.486106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":375305,"millis":0.375305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":410006,"millis":0.410006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402906,"millis":0.402906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":906012,"millis":0.906012,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.064 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":403805,"millis":0.403805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":76601,"millis":0.076601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.065 [print] #notpresent \n"},{"result":{"nanos":642309,"millis":0.642309,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77702,"millis":0.077702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.065 [print] #notpresent \n"},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":540107,"millis":0.540107,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.066 [print] #notpresent \n"},{"result":{"nanos":598408,"millis":0.598408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99801,"millis":0.099801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.067 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":295104,"millis":0.295104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.067 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":596508,"millis":0.596508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":522007,"millis":0.522007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":412306,"millis":0.412306,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":528.199841,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"94ed09fe-1753-4861-8c62-d66251b7cde3","startTime":1633064365539,"refId":"[1.333:67]","endTime":1633064366069,"exampleData":{"datasetIdentifierCode":"94ed09fe-1753-4861-8c62-d66251b7cde3"},"exampleIndex":332},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.952 karate.env system property was: null \n"},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":145802,"millis":0.145802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98401,"millis":0.098401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":294604,"millis":0.294604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93701,"millis":0.093701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":400206,"millis":0.400206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84101,"millis":0.084101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":485607,"millis":0.485607,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":565665759,"millis":565.665759,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1409020,"millis":1.40902,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":1391019,"millis":1.391019,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1212817,"millis":1.212817,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1277017,"millis":1.277017,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1356619,"millis":1.356619,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1452220,"millis":1.45222,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25501,"millis":0.025501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1161116,"millis":1.161116,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1020014,"millis":1.020014,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1765824,"millis":1.765824,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":185103,"millis":0.185103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":199303,"millis":0.199303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.533 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1098015,"millis":1.098015,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109202,"millis":0.109202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.534 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1911827,"millis":1.911827,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":181302,"millis":0.181302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.536 [print] #notpresent \n"},{"result":{"nanos":326904,"millis":0.326904,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99102,"millis":0.099102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.537 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2839239,"millis":2.839239,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":113301,"millis":0.113301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.540 [print] Beheer PDOK \n"},{"result":{"nanos":682609,"millis":0.682609,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.540 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n"},{"result":{"nanos":4227758,"millis":4.227758,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":416906,"millis":0.416906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":433706,"millis":0.433706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":592.406328,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","startTime":1633064365952,"refId":"[1.334:67]","endTime":1633064366545,"exampleData":{"datasetIdentifierCode":"94f241c2-43a2-42c3-8e9e-71976605aa0e"},"exampleIndex":333},{"sectionIndex":0,"stepResults":[{"result":{"nanos":116502,"millis":0.116502,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.990 karate.env system property was: null \n"},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115401,"millis":0.115401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92202,"millis":0.092202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":217703,"millis":0.217703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":89401,"millis":0.089401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":316804,"millis":0.316804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":71001,"millis":0.071001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":380105,"millis":0.380105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41701,"millis":0.041701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17501,"millis":0.017501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":56901,"millis":0.056901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":540220710,"millis":540.22071,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":482907,"millis":0.482907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":526307,"millis":0.526307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":471007,"millis":0.471007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":971713,"millis":0.971713,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":832512,"millis":0.832512,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":678609,"millis":0.678609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":381905,"millis":0.381905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":340605,"millis":0.340605,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":407405,"millis":0.407405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":280703,"millis":0.280703,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":359205,"millis":0.359205,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.539 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":405805,"millis":0.405805,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":541708,"millis":0.541708,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.540 [print] #notpresent \n"},{"result":{"nanos":696310,"millis":0.69631,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":370305,"millis":0.370305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.541 [print] #notpresent \n"},{"result":{"nanos":44001,"millis":0.044001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":242603,"millis":0.242603,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.541 [print] #notpresent \n"},{"result":{"nanos":534807,"millis":0.534807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":256804,"millis":0.256804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.542 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":228903,"millis":0.228903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.543 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":548008,"millis":0.548008,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":607408,"millis":0.607408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297005,"millis":0.297005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":552.444178,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","startTime":1633064365990,"refId":"[1.335:67]","endTime":1633064366544,"exampleData":{"datasetIdentifierCode":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217"},"exampleIndex":334},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:26.045 karate.env system property was: null \n"},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47401,"millis":0.047401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52701,"millis":0.052701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":231203,"millis":0.231203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":286404,"millis":0.286404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78701,"millis":0.078701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":238603,"millis":0.238603,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":523917186,"millis":523.917186,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":62901,"millis":0.062901,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":602708,"millis":0.602708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":400406,"millis":0.400406,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":440006,"millis":0.440006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":353605,"millis":0.353605,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":444706,"millis":0.444706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":401006,"millis":0.401006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":291104,"millis":0.291104,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":294704,"millis":0.294704,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":319804,"millis":0.319804,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80001,"millis":0.080001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":849611,"millis":0.849611,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.576 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":418905,"millis":0.418905,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108502,"millis":0.108502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.577 [print] #notpresent \n"},{"result":{"nanos":303204,"millis":0.303204,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82201,"millis":0.082201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.577 [print] #notpresent \n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.577 [print] #notpresent \n"},{"result":{"nanos":388206,"millis":0.388206,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71901,"millis":0.071901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.578 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.578 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":398805,"millis":0.398805,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":551508,"millis":0.551508,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292404,"millis":0.292404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.3795,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"12505d53-a942-467e-a462-ddbe5ac6467f","startTime":1633064366045,"refId":"[1.336:67]","endTime":1633064366579,"exampleData":{"datasetIdentifierCode":"12505d53-a942-467e-a462-ddbe5ac6467f"},"exampleIndex":335},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:26.071 karate.env system property was: null \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":84101,"millis":0.084101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125201,"millis":0.125201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244504,"millis":0.244504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":421306,"millis":0.421306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":83301,"millis":0.083301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41201,"millis":0.041201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":520489139,"millis":520.489139,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":398505,"millis":0.398505,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":395605,"millis":0.395605,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":334705,"millis":0.334705,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":352705,"millis":0.352705,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":449706,"millis":0.449706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":378505,"millis":0.378505,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":343105,"millis":0.343105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1361019,"millis":1.361019,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":560907,"millis":0.560907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":58001,"millis":0.058001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.598 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":1208517,"millis":1.208517,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81001,"millis":0.081001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.599 [print] #notpresent \n"},{"result":{"nanos":806211,"millis":0.806211,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":117002,"millis":0.117002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.600 [print] #notpresent \n"},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":363705,"millis":0.363705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.600 [print] #notpresent \n"},{"result":{"nanos":707010,"millis":0.70701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63901,"millis":0.063901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.601 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":854811,"millis":0.854811,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.602 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":534807,"millis":0.534807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":473307,"millis":0.473307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":405706,"millis":0.405706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":532.1054,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"8a772a52-d659-47b3-a131-82398fb78664","startTime":1633064366071,"refId":"[1.337:67]","endTime":1633064366604,"exampleData":{"datasetIdentifierCode":"8a772a52-d659-47b3-a131-82398fb78664"},"exampleIndex":336}],"callDepth":0,"name":"get details","description":"","resultDate":"2021-10-01 04:59:26 AM","durationMillis":184118.746851,"passedCount":337}