[{"line":2,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":168202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.522 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":137601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":215602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":3566747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":586908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":225703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":738009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":168602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":2304531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43","description":"","id":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850153339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'","result":{"duration":1545721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1127915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1118215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":991213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1435319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1191615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":163402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1035614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":887512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1110615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":822611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":542707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.394 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":974013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":406305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.395 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":931113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":385805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.397 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":253904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":487607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.397 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":918012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":496107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.399 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":360305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.399 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":910112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":10089133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":909212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":228703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.525 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":94602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":259604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":250603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":478007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":279804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":962613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":177202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1029013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","description":"","id":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":211802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4839964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":74001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":898039573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":1251417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1416019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":872912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":880611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1135115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":973913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":149702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":897612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":8751915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":951212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":918112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":762310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.452 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":981213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":629509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.454 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":873311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":566807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.455 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":914613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":576307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.457 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":930912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":612108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.458 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":798610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.459 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":859612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1620421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":5073667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":192503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.522 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":141802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":219002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":400505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":9368723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":321404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":872312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":2080928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":271103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","description":"","id":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":109501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":950113961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":1186715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":867412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":963013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":864012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1079014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1138815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":801910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":944412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":900812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1054214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":370305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":314304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.498 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":875611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":249904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.499 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":841511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":234603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.500 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":164002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":197603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.501 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":861311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":223303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.502 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":916312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.503 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1050514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1118515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":771011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":180403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.530 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":194803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":273004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":447206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":204603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":10374237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":215302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":299104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e29b19de-d191-47f2-b944-5056a7674cce","description":"","id":"e29b19de-d191-47f2-b944-5056a7674cce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":135802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":133802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":899195488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":878412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":790311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":810510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":922812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":984513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":144502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4708462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":921912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":807510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":237903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":208803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.456 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":842311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":4474259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.461 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1078114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":210703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.462 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":156303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":171802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.463 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1186016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":216003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.464 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":182003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.464 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":889712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1088014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":6817490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.414 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":427006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":84501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":536507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":286704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"wt-f297898-2640-44c2-bbe9-c0480dt83794","description":"","id":"wt-f297898-2640-44c2-bbe9-c0480dt83794","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dt83794'","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":883599182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dt83794'","result":{"duration":1596621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":865811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":975012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":956712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1191315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1084714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":142002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":860412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1017513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":986313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":235203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":382605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.311 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1362218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":281104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.313 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1138415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":297004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.314 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":193403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":198603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.314 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1122015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":241903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.316 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":319504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.316 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1177616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1230616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":798711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.471 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":764211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":429606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":606408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":440806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","description":"","id":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":899297490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":1007814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":970613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":773710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":788810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1028913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":975213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":184502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":804311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":864612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":851711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":759410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":668709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.384 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":5048167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":603508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.390 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":875212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":572608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.391 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":149702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":516607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.392 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1114115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":594408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.394 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":789211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.395 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":815611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":814911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":644509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.475 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":153202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":317104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","description":"","id":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845243474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":973013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":842911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":959512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":815410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1015213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1046413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":150702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":889412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5201369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2816938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":200102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":304504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.338 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1008113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1185616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.340 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1055214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":242403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.342 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":1205216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":239503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.343 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1011313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":228003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.344 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":328104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.345 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1039714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":652909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":663109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.508 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":132402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":474907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":97401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":538507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"664862cb-d426-4ee4-97ac-14c12b903b54","description":"","id":"664862cb-d426-4ee4-97ac-14c12b903b54","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":888835751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":787810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":953212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":915812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":999813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":937913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1134715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":139702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2656735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":845411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":834311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1314118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":655109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.412 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":831211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":675809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.414 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":909912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":556307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.415 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":148902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1091414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.416 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1025714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":789511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.418 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":831911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.419 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":794311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1503920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1167916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.333 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":100402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":192403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":239003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":2142228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":254903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":629609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":200803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":218103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","description":"","id":"364c5d7a-d6ec-11ea-87d0-0242ac130003","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":2029327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":188103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":69201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":884072795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":792710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":831811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":829911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":744010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":912912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":897011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":702409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":814411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":794710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":291504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":374505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.233 [print] #notpresent \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":733109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":275903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.234 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":756710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":287704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.235 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":126402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":254403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.239 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":804911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":282504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.240 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":221003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.240 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":818311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1084214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":602508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.350 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":165102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":242304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":496406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":210703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":850211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":163002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":229503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","description":"","id":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":199103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":828158953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":1015613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":982113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":770110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":858011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":847311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":672009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":767610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":766710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":400305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":225703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.191 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":401806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.192 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":870312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":334405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.193 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":134202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.194 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1082614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.195 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":203002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.195 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":938312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1286918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":712110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.402 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":162802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":218603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":485907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":238503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":845212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":163302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":511006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tn-2c7040b-c448-451b-bf15-f2416emaadd1","description":"","id":"tn-2c7040b-c448-451b-bf15-f2416emaadd1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":79801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":72900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":133301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866089359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'","result":{"duration":1225216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1037914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":998413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1028813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2634734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1207016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":879711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1007313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":993613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":179602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":839611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.285 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1426619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":494106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.287 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":979213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":467406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.289 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":482406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.289 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":998913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":453706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.291 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":794110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.291 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":948112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1157116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":808211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":78901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.427 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":194002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":465206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":294304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":603408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":135002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1007014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":159302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":79301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":870129414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":849311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1114815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":936012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3822451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1042714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1027113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":827811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1975126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1333418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":3867752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":584208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.319 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":830711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":459806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.321 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":462906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.322 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":98701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1249816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.324 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":986813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":548707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.325 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":833911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.326 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1207516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":9676728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":814711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.201 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":266804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":146102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":107002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":140002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":594408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":159602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","description":"","id":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850761990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":1093915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":817911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":836112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":752010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":942412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":885211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":859412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":740210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":747510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":206903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.063 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":711409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.064 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.065 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.065 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":812210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":166503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.066 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":110701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.066 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":756111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1002713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":710910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.246 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":115402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":1372518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1211316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":553908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":215803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a6098c24-4caf-4528-954c-672b9ec6cf78","description":"","id":"a6098c24-4caf-4528-954c-672b9ec6cf78","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873793895,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":881112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":963913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":802411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":745610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":946712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":58500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":675309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":999013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":988313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":240803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.133 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":933612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.134 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":957613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.135 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":109501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.136 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1038514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":215903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.137 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":125401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.137 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":922212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":897511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":628608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.306 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":1061414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":90502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":9194822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","description":"","id":"82fa284e-8218-40e4-a593-c2f8a832c3d5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":94801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":830441620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":759610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":741410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":782811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":697409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":936313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":860712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":788510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":669709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":686710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":411905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":311405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.156 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":735110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":374205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.157 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":921412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":314305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.158 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":291104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.159 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":880211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":378305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.160 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":272604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.160 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":766610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":815811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1668122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.341 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":2309731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":87901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":135702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","description":"","id":"13e4dff0-1e80-11e2-81c1-0800200c9a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":126802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":126002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863337057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":989113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":810010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":934412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":779111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1061114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":805610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":718510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":914312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":790110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":581908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":631409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.218 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":763310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":481406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.219 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":732410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":496907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.220 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":528607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.221 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":821711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":574708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.222 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":1014514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.224 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":835411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2212630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1008713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.071 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":624008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","description":"","id":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":887163673,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":1047614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":807911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":740410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":739310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":855312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":916612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":668609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":656709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":661009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":575108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":599508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.969 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1911325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":468706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.972 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":745310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":421806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.973 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":427606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.973 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":922512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1443319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.976 [print] RDW \n","line":56}},{"name":"print operateson","result":{"duration":749610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.976 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":793311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":848311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3321344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.142 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":555807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":175702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","description":"","id":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862908751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":854111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":858812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":772710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":868312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":790111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":848211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":749110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":671709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":779010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":648409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":574808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.016 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":762010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":437806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.017 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":891512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":611008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.019 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":398205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.019 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":888712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":709110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.021 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1636922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.022 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":846511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":916813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1163015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.167 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":151702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":618008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":358504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f59357eb-185f-42a5-b465-90bfa6e3e416","description":"","id":"f59357eb-185f-42a5-b465-90bfa6e3e416","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":871028959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":912512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1051513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":843911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":732210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":809811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":798711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":752210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":672209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":662408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":518007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.049 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":824511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":570208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.050 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3035140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":567208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.054 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":109402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":626708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.055 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":958513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":505607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.056 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":730610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.057 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":938712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1093914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":615509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.232 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":213803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":98602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":497806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":77601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":670609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":448506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","description":"","id":"c99b1291-c51f-49c8-902d-5bd4148cbbde","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861957138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":979413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":987813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":890312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":974113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1420719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1133316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":409705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1370419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":779310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":872912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":601908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1264117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.143 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":761911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":584907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.144 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":906112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":658309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.146 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":159402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":678509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.147 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":806711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":538707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.148 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":1043313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.149 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":793310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":637409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":526707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.985 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":63001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":379306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":3161342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":590708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"46873d16-6835-48c4-b47f-134ab0cb31fa","description":"","id":"46873d16-6835-48c4-b47f-134ab0cb31fa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":166502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":387605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851857505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":1305217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":698709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":813811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":668709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1647522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1045514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":324705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":787310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":823010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":755810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":257103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":861712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.853 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1397519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":538007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.855 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":826111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":784311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.856 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":153502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":533507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.857 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":860711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":600108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.859 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":1006114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.860 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":746910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":773010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":592008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.028 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":313104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":576808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":410406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"755d488b-7b94-4883-95be-6aa279604f85","description":"","id":"755d488b-7b94-4883-95be-6aa279604f85","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850942192,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":1180815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":718009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1435920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":744210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":871611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":912012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":133302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":819211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":924912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2621135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":559608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":643509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.893 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1051514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":191203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.894 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1331617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":184602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.896 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":508907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":545408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.897 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":972413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":533807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.898 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":787011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.899 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":943212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":720409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":655909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.064 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":110802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":555307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":432905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","description":"","id":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843833898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":810511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1449220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":734110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":685109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":976313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":881412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":118502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":817911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1461620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":986613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":400306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":684609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.921 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":854211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":335804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.922 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":829211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":351105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.923 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":173902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":327604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.924 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":700009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":317104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.925 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":274004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.925 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1388519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":654809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":487406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.156 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":100202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":161502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":192503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":499006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":177902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1311517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":140202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":560808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6b608d4e-5628-4d59-97fc-0322c57357b2","description":"","id":"6b608d4e-5628-4d59-97fc-0322c57357b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":98201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847384345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":1954926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1168416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":873411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1060714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":949512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1338317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":660109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":742810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":302904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":352005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.018 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":753210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":168003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.019 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":683609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":194903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.020 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":146102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.020 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1491220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1337618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.023 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":832911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.024 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":814710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":715009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":995314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.865 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":161202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":186102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":441805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":174602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1223416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":151902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":686809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"95e2c712-1b91-4f24-9453-c56b95227717","description":"","id":"95e2c712-1b91-4f24-9453-c56b95227717","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":214303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849034267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":1574721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":736910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":747710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":843311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":739510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":872612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":741510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":716410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":620208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":631109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.728 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":779910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.729 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1145615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":101601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.731 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":488007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.731 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1642822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":154902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.733 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":158502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.733 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":865912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":835811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1735923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":101201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.906 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":156503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":176302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":477907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":243003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":489207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":162802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":523707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","description":"","id":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4117755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":834154969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":1379818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":848612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":690009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":698309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":709909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":736510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1248717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":699609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":671009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":637908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.756 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":742810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":518507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.758 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":696310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.759 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":126701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.760 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1446819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":523007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.761 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":141001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.762 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":715210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":597408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":597308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":107802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.932 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":138902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":199802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":474106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":238503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":521907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":131701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":328404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","description":"","id":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862732048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":841311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1289617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":666509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":652808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":675409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":696309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":566207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1234817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":656009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":444805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.806 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1038713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.807 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":967713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":202703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.809 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":350905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":140102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.809 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":938213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.810 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":346905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.811 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1955726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1368919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":648408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:34.029 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":77901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1886325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":428706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","description":"","id":"641a0f48-872b-4470-b130-e3d28e6bfdfb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853542027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":1077215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":878212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1409418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1383318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":841311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":992213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1258817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":707509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":758611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":705809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.898 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":650109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":432506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.899 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":861911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":584307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.900 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":610808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.901 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":791611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":489006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.902 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1066014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.903 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":770310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":920613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1972326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:34.740 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":123601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":417806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":116302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","description":"","id":"923a666c-ee4f-496c-8c85-94d5f81e1f30","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":321404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855744856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":915212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":707109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1536920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":721510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":809011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":792910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":643309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":857212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":866011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":147502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":839211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:35.608 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":734010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":174302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:35.609 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":712809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:35.610 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":368905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:35.611 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1025714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:35.612 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":850412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:35.613 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":756510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":800911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":699709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:34.767 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":79101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":347304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":561607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":148102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","description":"","id":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866504499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":885412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":775310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1398519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":777510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":735309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":726809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":656209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":598308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1447620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":133202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:35.644 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":820711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":162602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:35.645 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":719410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":140902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:35.646 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:35.646 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":699209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":146302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:35.647 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":246404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:35.647 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":773710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":839411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":705309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:34.817 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":556607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":166102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":318705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bd14098b-44e6-47e5-959d-f40dda65da5a","description":"","id":"bd14098b-44e6-47e5-959d-f40dda65da5a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":112201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852730016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":899412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1679822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":788011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":846611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1749223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":864211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2874238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1619721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":889112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":271003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":230303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:35.685 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":794310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":256004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:35.686 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":728210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":379105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:35.687 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":201703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:35.688 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":800410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":310804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:35.689 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":953712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:35.690 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1397618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":746110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":549208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:34.911 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1385018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tn-2c7040b-c448-451b-bf15-f2416etaadd1","description":"","id":"tn-2c7040b-c448-451b-bf15-f2416etaadd1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847143642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'","result":{"duration":966313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1376518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":729009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":826311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":904612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":811911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":892812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1519020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":713209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":172402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":924112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:35.772 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":786210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:35.772 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1080214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:35.774 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:35.774 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1250717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:35.775 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:35.775 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2177029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1023114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":578008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:35.618 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":157502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":127801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":166902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","description":"","id":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846062128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":1101615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":677609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":792111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1403319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":882311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":706509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":642708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":626808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":598108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":123901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:36.475 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1438219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:36.476 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":626509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:36.477 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:36.477 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":692409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:36.478 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:36.478 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":694210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":859511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":488307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:35.651 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":136102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":454006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":119002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","description":"","id":"ebd6ea46-ee7b-432f-83c4-058c889a790d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850671489,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":865312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":816411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1409219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":802611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":855211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":795711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":655409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":664309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1326017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":864511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":675409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:36.515 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":863512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":498207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:36.516 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":807411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":453506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:36.518 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":456506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:36.518 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1307017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":490006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:36.520 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":960013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:36.521 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":960413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1106515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1148415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:35.695 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":894112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":116002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":371705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"745968a3-37af-4406-988e-ec595f58c7fe","description":"","id":"745968a3-37af-4406-988e-ec595f58c7fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":877749748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":862212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1575421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":703109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":704509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":905612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":940612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":679409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1238017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":641808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":433306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":514107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:36.585 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":671009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":440205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:36.586 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":756910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":458206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:36.587 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":412306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:36.588 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":761710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":438806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:36.589 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":652509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:36.590 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1458919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":657509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":557708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:35.781 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":484006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"539ec652-482d-4806-a830-0458cf8be477","description":"","id":"539ec652-482d-4806-a830-0458cf8be477","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":107401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":899359535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":1005714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":925713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":999513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":842012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1003913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":881311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":742010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":749710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:36.692 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":691910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:36.692 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":773210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:36.693 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:36.693 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":902912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:36.694 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:36.694 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":797211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":766710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":524807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:36.483 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":137802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":364805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd414384-0bcb-4188-86e2-2843e12a579e","description":"","id":"dd414384-0bcb-4188-86e2-2843e12a579e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850153082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":965513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":850812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":749410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":727610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":788210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":830511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":678909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":655108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":654009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":171103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":983213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:37.344 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":710609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":244703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:37.345 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1052414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":165802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:37.346 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":365904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":417005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:37.347 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":828611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":497506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:37.348 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":705610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:37.349 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":891612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":783810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1207416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:36.535 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":842111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":674609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5f0c583a-101e-45ea-b684-a056713cf811","description":"","id":"5f0c583a-101e-45ea-b684-a056713cf811","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863604160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":763010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":728810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":803711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":764510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":921912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":827811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":661508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":678609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":817710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":657008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:37.410 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3961852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":478407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:37.414 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":818011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":552307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:37.415 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":415606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:37.416 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":859211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":511906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:37.417 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":860011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:37.418 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":764310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":727209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2624734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:36.599 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":305004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":440205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1242516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","description":"","id":"f5660ac6-8031-4acc-832c-1d1b82b062ba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":88402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862810350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":950512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":740110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":690210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":770410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":814211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":54601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":746810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":754210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":764210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":487706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":671909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:37.473 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":841911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":508406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:37.475 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":766110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":604708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:37.476 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":432206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:37.477 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":854011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":535507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:37.478 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":727010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:37.479 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":789510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":808911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":580808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:36.700 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":109002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":385005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":629408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","description":"","id":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849577074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":949112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":794211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":897212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":780310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":853112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":928912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":740310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":710510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":895912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:37.560 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":732510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:37.561 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1096614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":104702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:37.562 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":398205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:37.562 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1121015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:37.564 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":875812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:37.565 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":966813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":715910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":871411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:37.355 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":531107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":416906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"17ad94f6-4961-448b-a6f5-5368b7870409","description":"","id":"17ad94f6-4961-448b-a6f5-5368b7870409","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":834925980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":2212129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":939312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":765610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":766210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":914812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":916713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":750310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":711409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":644608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":114902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":720209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:38.202 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":684709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:38.203 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1027414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:38.204 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":337505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:38.204 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1026714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:38.205 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":722810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:38.206 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":792611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":964613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":471106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:37.427 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":75901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1394718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":598907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","description":"","id":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856163561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":1216717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":914812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":935813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":819711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1048214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1039014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":932012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1205116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":791211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":680009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":609108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:38.297 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":713310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":459006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:38.298 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":694210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":523907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:38.300 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":456406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:38.300 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":773010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":573908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:38.301 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":690309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:38.302 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":764110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":936912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":678509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:37.483 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":427305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":595607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"87a382da-c6dc-403c-a006-2379eb6daaa6","description":"","id":"87a382da-c6dc-403c-a006-2379eb6daaa6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":75101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848612061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":872911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":692309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":683209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":666209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":714810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":956413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":702709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":833111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":288503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:38.342 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":838711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":219203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:38.343 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":757410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":148602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:38.344 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":89101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":344205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:38.345 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":844411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":177002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:38.346 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":239303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:38.346 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":737909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":817311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":633308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:37.570 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":97002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":109901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","description":"","id":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851423299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":1051214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":817810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":920712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":888412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":881112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":846211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":797711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":781710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":684209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":214603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":196902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:38.431 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":784910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":266904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:38.433 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1055914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:38.434 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":133502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:38.434 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1020814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":97201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:38.435 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":176302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:38.435 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":981213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":889712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":642909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:38.211 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":121901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":95201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","description":"","id":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":63300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841561168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":973613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":747209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":710809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":832711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":849811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":833011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":758710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":761410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":812111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":731910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":590808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:39.063 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":875511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":477307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:39.065 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":780510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":448406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:39.066 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":402406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:39.066 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":745810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":446006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:39.068 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":646909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:39.068 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":847911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1576820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":492106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:38.308 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":138202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":483607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":586808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":495806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bb27a13-76f1-4374-8d44-76e937198e8d","description":"","id":"0bb27a13-76f1-4374-8d44-76e937198e8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":117601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":828045563,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":927617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":758214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":769014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":825315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":850516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":898116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":726813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1451326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1298823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":831115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":740113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:39.149 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":798315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":463009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:39.150 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":687612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":440608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:39.151 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":437608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:39.152 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":838815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":625011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:39.153 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":694312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:39.154 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":717713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":721713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":480409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:38.351 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":79501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":432805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":614308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":462306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","description":"","id":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847245921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":982017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1084719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":848915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":906917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1082819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":880716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":770414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":733213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":780814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":564810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":556610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:39.211 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":790514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":456008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:39.212 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":713713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":458709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:39.213 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":530809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:39.214 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":870215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":212404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:39.215 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":157603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:39.215 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":934617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":4562783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":5532300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:38.441 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":392205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":448606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":293404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","description":"","id":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":833089493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":1004018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":782014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":894116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":893116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1015218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1494927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":153702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":705512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":726413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":952317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":384807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":340406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:39.286 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":406607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:39.287 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":800214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":392307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:39.288 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":140102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":267005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:39.288 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":815815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":310706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:39.290 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":264105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:39.290 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":730913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":4272178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:39.076 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":420106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","description":"","id":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874173798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":1190321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1021518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":806515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":773614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1082019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1008118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":141603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":891616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":855815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":929216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":673612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":660612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:39.963 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":656211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:39.964 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":859815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":590810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:39.966 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":133102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":544109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:39.966 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":826815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":589011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:39.968 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":809114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:39.969 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":883816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":730113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":545810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:39.161 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":531209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1071219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d293204f-6581-4b0a-811b-1dcce97adedd","description":"","id":"d293204f-6581-4b0a-811b-1dcce97adedd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":87302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":75202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856237889,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":948717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":933916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":972817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":815514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1246322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":947017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":122202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":779714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":948517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":791814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":701013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":855116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:40.030 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":947217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":696613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:40.032 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":898616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":605611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:40.034 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":132802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":543409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:40.034 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":969117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":559311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:40.036 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":875516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:40.037 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":863416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":665512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":503709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:39.229 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":432308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":375507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":198903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","description":"","id":"ff8f6da2-949e-4838-90f6-fd895a4a240f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":110902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":68902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":872994793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":945017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":807015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":704913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":705413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1204822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":869516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":745614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":775814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":850616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":916317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":600711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:40.134 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":798714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":510409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:40.135 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":741814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":540310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:40.137 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":163503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":647012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:40.138 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":796015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":586411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:40.139 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":743513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:40.140 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":721513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":771014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":509209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":75601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:39.299 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":73301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":153403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":194304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":513709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":188704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":582411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":174303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":405207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"wt-f297898-2640-44c2-bbe9-c0480dm83794","description":"","id":"wt-f297898-2640-44c2-bbe9-c0480dm83794","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dm83794'","result":{"duration":55901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864131333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dm83794'","result":{"duration":768914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":852515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":922817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1051919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":921117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":908817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":710813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":974818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":804514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":611211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":632712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:40.176 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":744813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":587710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:40.177 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":721913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":433308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:40.179 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":452709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:40.179 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":934417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":523309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:40.181 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":732613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:40.181 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":851816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":611111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":685413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":74702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:39.974 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":180804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":167003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":464008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":170703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":514609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":122702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":501209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be1b57b-2cac-4119-92eb-700346543d47","description":"","id":"5be1b57b-2cac-4119-92eb-700346543d47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":72102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855298672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":936817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":743314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":655612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":726313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":833316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":740213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":659012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":684112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":707313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":808915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":776414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:40.841 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":798815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":442608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:40.842 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":707613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":467208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:40.844 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":412308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:40.844 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":727813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":582011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:40.845 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":689713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:40.846 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1114920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":900917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":4539682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:40.042 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":182703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":170403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":524409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":191203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":522210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":133002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":552110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"070014b4-1f63-4819-beea-000b7d5f8d86","description":"","id":"070014b4-1f63-4819-beea-000b7d5f8d86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":96402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843084452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":942117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":962817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":863815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":797214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":963518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":888616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":678812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1517228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":760814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":651812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":619511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:40.898 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":724413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":472608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:40.900 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":850715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":599911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:40.901 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":484009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:40.902 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":824315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":515609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:40.903 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":758313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:40.904 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":881616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":808815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":497509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":107802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:40.145 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":209404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":174203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":460109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":166203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":487709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":450108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a748a59-36f4-475b-9647-402b5ce89a1c","description":"","id":"7a748a59-36f4-475b-9647-402b5ce89a1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":74102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858413629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":914117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":795714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":671712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":712613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":863616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":804215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":792815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":752214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":791214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":550010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":609111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:41.015 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":709713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":461408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:41.016 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":674812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":9409970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:41.026 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:41.026 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":716413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":125802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:41.027 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":96102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:41.027 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":751014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":804315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":513109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:40.192 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":391807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":546810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":519909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b7880739-a701-4cc0-bb32-2bba61fa8924","description":"","id":"b7880739-a701-4cc0-bb32-2bba61fa8924","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":823398595,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":740413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":713513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":862516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":927317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":806515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":626111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":665012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":845715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":6269414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":177103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:41.032 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":708613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":137202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:41.033 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":755713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:41.034 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:41.034 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":712913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:41.035 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":92402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:41.035 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2313442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":489109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":477309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:40.856 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":119702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":440008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":81702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","description":"","id":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":90802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":123003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855152070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":1089420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":717313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":815215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":778414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":859615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":855516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":730913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":668412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":893716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":171403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":270705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:41.726 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":686212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":177203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:41.727 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":682112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":124903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:41.728 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:41.728 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":920717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:41.729 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":107502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:41.729 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":856316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":875316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":618011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:40.909 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":480309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":140203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":509609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","description":"","id":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854163452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":949217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":793114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":769714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":731213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1007219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":817915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":723013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":718213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":651912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":166503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:41.773 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":680312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":135803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:41.774 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":656712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:41.775 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:41.775 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":772014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":133002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:41.776 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":86902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:41.776 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":839315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":734613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":794315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:41.036 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":329906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":3223559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54122631-d343-40be-9c28-e44626b37a0e","description":"","id":"54122631-d343-40be-9c28-e44626b37a0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864595441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":1013118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":865916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":834515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":725913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":815515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":794414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":658811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":965617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":146602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":364607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:41.913 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":695012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":197103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:41.914 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":705012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":114902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:41.915 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":141902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:41.915 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":771614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1297324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:41.917 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":96102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:41.917 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1275823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":831215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1251922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:41.041 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":403007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":479409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"542b330b-d3c6-4617-b97f-693e5cfd1872","description":"","id":"542b330b-d3c6-4617-b97f-693e5cfd1872","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":887470655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":904216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":720213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":704613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":705513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":957518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":802415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":623112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":745913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":342206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":410108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:41.938 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":740314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":229004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:41.939 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":856416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":226704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:41.941 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":278805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:41.941 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":871215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":291605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:41.942 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":262905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:41.942 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":743813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1127320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":506509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:41.734 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":531909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"00e8746f-5031-413e-8343-9203c8ea82ee","description":"","id":"00e8746f-5031-413e-8343-9203c8ea82ee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838430067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":987118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":774414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":757513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1094020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":878816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":929517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":687112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":729013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":707813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":165703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:42.582 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":702613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:42.583 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":745113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":973917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:42.584 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":519509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:42.586 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":895116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":107302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:42.587 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":166703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:42.587 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":992018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":863215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":577910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:41.781 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":447708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","description":"","id":"adn83730-e750-485a-9c0c-39bf9bt72cf8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838364266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":886016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":776314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":762714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":846616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":845215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":829815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":650611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":954817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":271805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":249405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:42.629 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":744313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":233104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:42.630 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":797415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":229204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:42.631 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":176503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:42.631 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":796314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":268605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:42.633 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":181204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:42.633 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":821515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":5098492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":645312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:41.924 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":454708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":640112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":250805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","description":"","id":"c7dad4b9-42a8-452f-a33b-d4938ed22142","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842817847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":1020318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":723013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":689712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":669712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":768714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":966417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":659012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":676012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":626612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":291305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:42.776 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":745014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":115602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:42.777 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":797515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":153403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:42.778 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":137402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":140502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:42.778 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":764714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:42.779 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":289906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:42.779 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":817515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1236522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":579910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:41.949 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":453208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":230904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a12ae6ca-b755-4707-884f-95c0d66f431a","description":"","id":"a12ae6ca-b755-4707-884f-95c0d66f431a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859681552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":933117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":926517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":975318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":763914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":791615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":858915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":660312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":823115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":749514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":759813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:42.819 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":710412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:42.820 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1088920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:42.821 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":579010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:42.822 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":129602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:42.822 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":419908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:42.823 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1374125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":815115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":968118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:42.592 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","description":"","id":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873789107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":1015918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":899317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":734413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":687313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":835415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":763914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":661712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":690512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":654512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":170103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:43.475 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/view\/map\/amplitude-getij_IVS?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":925817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:43.476 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":839915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":101802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:43.477 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":238304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:43.477 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":830315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":131202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:43.478 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:43.478 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":987118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":874316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":457009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:42.642 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":75902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":521109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":232904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"060d1139-c371-4c1e-9890-55999adfa4f9","description":"","id":"060d1139-c371-4c1e-9890-55999adfa4f9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":78701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843826365,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":1452326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":713713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":735713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1634730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":807815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":735513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":743914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":759114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":749314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":276205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:43.498 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":802215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:43.499 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":787814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:43.500 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":164903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:43.500 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":858416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:43.501 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":162103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:43.501 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":855715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":682313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":534610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:42.784 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":98202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":161303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1512b29e-80d4-4677-bcae-a3f9f82a223d","description":"","id":"1512b29e-80d4-4677-bcae-a3f9f82a223d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849579569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":1118920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":905317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":850615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":839616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":978218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":836115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":734113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":686812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":693213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":914817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:43.645 [print] https:\/\/service.pdok.nl\/brt\/top10nl\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":822015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":155003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:43.646 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":747614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":447208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:43.647 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":475509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:43.648 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":931317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":179004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:43.649 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":89502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:43.650 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=29d5310f-dd0d-45ba-abad-b4ffc6b8785f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1318124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":830915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":478509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:42.828 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":504809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","description":"","id":"0606e8cb-fa51-402c-a3be-19fd724b0a10","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":69501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848068442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":740214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":756614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":804214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":766114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":819615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":854715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":718813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":666412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":428408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":508109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:43.687 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":743413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:43.688 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1157821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:43.689 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":311706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:43.690 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1096019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:43.691 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":770914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:43.692 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":800015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":737614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":465508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:43.483 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":459909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":242204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","description":"","id":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850409984,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":1014018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":830515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":746613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":704713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":845116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":826915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":718013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":718913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":757813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":637612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":647912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:44.345 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":794715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":476008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:44.346 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":729213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":449008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:44.347 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":435407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:44.348 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":758114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":517509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:44.349 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":778915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:44.350 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":829815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":746914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":484809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:43.506 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":537010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"73286af2-d0f4-4a62-9455-86ffa45ef279","description":"","id":"73286af2-d0f4-4a62-9455-86ffa45ef279","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865298053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":887416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":787315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1019718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1178821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":836815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":804214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":666012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":708512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":692012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":656312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":658111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:44.382 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":712113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":503009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:44.383 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":748614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":476109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:44.385 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":537210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:44.385 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":821615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":839815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:44.387 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":790315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:44.388 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":831915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":815515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":606611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:43.655 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":95702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":427008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":97702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","description":"","id":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":328906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849051060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":1321524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":811415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":867616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":811615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":843615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":870316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":737514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":694613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":642411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":647811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":645411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:44.515 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":701112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":571711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:44.517 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":823915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":441108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:44.518 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":439107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:44.519 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":767414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":506709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:44.520 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":712513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:44.521 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":903717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":821515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1561628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:43.696 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":424708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":499709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","description":"","id":"b4485d59-a945-4940-a2f5-3ce7de6a947b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":128703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860433566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":912916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":709813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":713413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":736313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":29513633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1501427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":152303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":771414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":843715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":915217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1060919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":401007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:44.598 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":870716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":448208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:44.599 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":994117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":386807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:44.600 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":187303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":503809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:44.601 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":877216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":455108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:44.602 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":282406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:44.603 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":926617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":811614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":525009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:44.355 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":445108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d0b60508-5bf5-4360-b34a-875f10a9a711","description":"","id":"d0b60508-5bf5-4360-b34a-875f10a9a711","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd0b60508-5bf5-4360-b34a-875f10a9a711'","result":{"duration":63702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":948345856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd0b60508-5bf5-4360-b34a-875f10a9a711'","result":{"duration":975618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":652411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":693712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":664612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":766914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1019518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":130602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":818015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":673712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":350806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":340006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:45.313 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":694813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":234204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:45.314 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":794115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":238504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:45.315 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":147602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":224004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:45.316 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":835115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":297605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:45.317 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":254005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:45.317 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":824815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":781214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":424107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:44.393 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":452908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deaf8380-ad45-48d2-8c3e-81164471bafb","description":"","id":"deaf8380-ad45-48d2-8c3e-81164471bafb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":958446439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":826415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":786714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":666012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":778314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":842415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":939917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":763613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":711513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":829115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":194504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":283405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:45.361 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":738313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":210704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:45.362 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":807215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":189204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:45.363 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":194003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:45.364 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":735113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":178503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:45.365 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":357807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:45.365 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":750513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":512809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:44.528 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":475309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":509709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":445908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","description":"","id":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":73002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841824829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":895416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":891416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":964417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1114521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":942517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1016719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":134802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":787415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":794614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":809714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":187604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1749932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:45.383 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1760632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":379607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:45.385 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":850016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":212004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:45.386 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":109302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":186403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:45.387 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":878615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":215504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:45.388 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":173603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:45.388 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":781714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":525110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":451008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":97202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:44.609 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":169403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":220904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":576111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":170303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":698513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":294406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","description":"","id":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842825247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":930316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":852715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":737214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":655512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":796414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":703012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":607211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":944317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":794115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":246204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:45.463 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":868816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":214004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:45.464 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":832616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":157603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:45.465 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":204404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:45.465 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1136520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":389007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:45.466 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":183403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:45.467 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":885116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":767914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":805115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":72902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:45.322 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":176703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":155203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":474109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":157203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":481309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":112202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":356707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","description":"","id":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":72401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":134203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":818391505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":1006819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":858615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":735813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":721913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":864015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":961618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":752214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":690613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":706713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:46.151 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":966218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:46.152 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1042319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:46.154 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:46.154 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:46.155 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:46.155 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":751213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":811215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":475009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:45.370 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":217504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":189904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":10791895,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":176204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":533109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":116602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":201204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","description":"","id":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":625011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859450348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":989918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":716113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1861934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1090420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":880516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":720313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":591011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":569010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":613211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":193303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:46.252 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":747513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:46.253 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":739413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:46.254 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:46.254 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":845115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:46.255 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":94202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:46.255 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1374625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":696712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":411507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":100802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:45.392 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":160703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":174103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":168703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":489509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":112602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":209104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621md336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621md336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":878282689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":821615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1263223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":839816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":831915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":948017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":865316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":729213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2037237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":108502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:46.283 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":966717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:46.284 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":940917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:46.285 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:46.285 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":928117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:46.286 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":152703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:46.286 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":912117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":566110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":448108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":105002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:45.473 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":219804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":452308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":177903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":770514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":539710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","description":"","id":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":125302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841232118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":832515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":941617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":906217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":847615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":826015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":882416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":736014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":822015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1055320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":118602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":133202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:46.325 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":869416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":486309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:46.327 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":742913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":475409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:46.328 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":485109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:46.329 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1053119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":586310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:46.331 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":102601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:46.331 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2171839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":837715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":532810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:46.159 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":352106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0426f471-f325-42ed-a775-81c397592e86","description":"","id":"0426f471-f325-42ed-a775-81c397592e86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":424508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850623488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":1014119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":924217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":716413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":857515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":825214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":766914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":935717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":647612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":409407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":314705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:47.020 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":804714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":310906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:47.021 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":820515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":366107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:47.023 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":272305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:47.023 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":773514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":332006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:47.024 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":241804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:47.024 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":883416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":964217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":454609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:46.259 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":220604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","description":"","id":"72f30ca1-3b80-4020-b9ed-301b1a88df39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":456808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":102902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837340548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":1147621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":908016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":820914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":942617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":897216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":833516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":832015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":711813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":731913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":170403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:47.107 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1187821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:47.109 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1078619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:47.110 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:47.110 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1013218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":335107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:47.112 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":268805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:47.112 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":807514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":828415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":435207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":5811105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:46.291 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":151803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":403207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":140403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862433085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":1369325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1349524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":964717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":956617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1387525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1032118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":766514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":773014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1001818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":936817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:47.172 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":850315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":622911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:47.173 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1072719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":539510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:47.175 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":423608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:47.176 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":894116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":663412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:47.177 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":2367842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:47.179 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1599129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":741013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":448608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:46.337 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":125902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":314506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":159103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"wt-f297898-2640-44c2-bbe9-c0480df83794","description":"","id":"wt-f297898-2640-44c2-bbe9-c0480df83794","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":300305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'wt-f297898-2640-44c2-bbe9-c0480df83794'","result":{"duration":58502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851112471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480df83794'","result":{"duration":878416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":894416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2048237,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":914216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":939216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1030719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":747913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":787714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":771513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":902916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:47.201 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":845115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":469508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:47.202 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":767513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":444308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:47.204 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":592811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:47.204 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1016518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":466708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:47.206 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":727013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:47.206 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":975417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":626911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":504909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:47.029 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":411908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":111602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":202603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","description":"","id":"ea4cb6a2-f637-413a-91cc-d58473c2f138","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":830128669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":977817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":753114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":689012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":727513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":923017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":836915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":631211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":815315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":613511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":150303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:47.869 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":753013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:47.870 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":718813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":124102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:47.871 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:47.871 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":710413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:47.872 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":118602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:47.872 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1246022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":690412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":404807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:47.116 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":421108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":183203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91041d33-54f8-40f1-8965-a867ba00cab8","description":"","id":"91041d33-54f8-40f1-8965-a867ba00cab8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850557204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":914216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":869915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":847815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":715012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1036719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":932317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":607411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":617111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":646012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":177603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:47.976 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":807714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":242005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:47.978 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":223004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:47.978 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":179703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:47.979 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":226404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:47.980 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":170303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:47.980 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":854115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":834815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":566210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:47.185 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":405707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":438108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5471a93b-cf18-43f5-9ddb-71987857435d","description":"","id":"5471a93b-cf18-43f5-9ddb-71987857435d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":65102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845711619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":1064219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":753813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":690312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":741213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":788714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":735713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":697813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":737513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":963217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:48.041 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":669712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:48.042 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1029019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:48.043 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":289305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:48.044 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1308223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":120102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:48.045 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":808815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:48.046 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":733813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":677812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":429108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:47.211 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":91802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":347506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":474608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","description":"","id":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851364518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":758713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":734313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":654412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":744613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":768514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":771114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":785014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":648011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":308106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:48.072 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":670011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:48.073 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":945716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:48.074 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":110502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":259805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:48.074 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1036318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:48.076 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":269604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:48.076 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":858715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":511809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":588611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":184903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:47.876 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":221004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":434107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":493609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":135502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a8ad0d7d-ea9e-4261-bc92-772e99a41387","description":"","id":"a8ad0d7d-ea9e-4261-bc92-772e99a41387","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":830918255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'","result":{"duration":1127420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1201221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":974217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":891116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":971818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1349324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":860215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":788014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":850515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":239204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1170020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:48.720 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wfs?service=wfs&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1138220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":243704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:48.722 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":959117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:48.723 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:48.723 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":997018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:48.725 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":175703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:48.725 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/eng\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1220322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":866016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":622411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:47.985 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":412707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":460708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":195503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","description":"","id":"52d0313e-0d2b-44b4-b51e-d9e504307f70","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":868438322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":932417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":711912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":684312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":644611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":842015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":823415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":717413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":847415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":708513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":758613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:48.863 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1665830,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":146203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:48.866 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":658112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":140202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:48.867 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:48.867 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":702613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":136502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:48.868 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":137002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:48.869 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":781014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":703212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":446208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:48.050 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2931d583-9633-49d3-ad38-aabea82f6751","description":"","id":"2931d583-9633-49d3-ad38-aabea82f6751","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":417207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864023643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":944117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":775514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":679112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":731613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":718913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":595910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":627812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":375206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:48.923 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":835515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:48.924 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":680512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:48.925 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:48.925 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:48.926 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":110802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:48.926 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":660612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":610611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":406907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:48.080 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":95102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","description":"","id":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":358606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853506157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":704913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":742213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":705312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":714013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":761314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":732113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":679612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":636912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":650112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":119002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":115702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:48.943 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":858416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":161803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:48.944 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":661012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":157003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:48.945 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":105902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:48.945 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":764014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":137402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:48.946 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":89402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:48.946 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":698613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":534010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":432708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:48.730 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":535309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":312606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":446408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":164803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","description":"","id":"93c8762c-4cbb-42b0-9b02-89ef902e8880","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":116202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":870068451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":1081319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":809015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":802114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":810015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":922416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":805514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":822715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":834015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":834415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":167503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":165602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:49.611 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":693912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:49.612 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":716113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":155603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:49.613 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:49.613 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":921316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":251804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:49.614 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":150003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:49.614 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":807215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":963217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":448508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:48.874 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","description":"","id":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":336806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862558118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":1165621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1119720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1127020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":967617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1024118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1019318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":741913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":816214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":884416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":737413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:49.748 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":820514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:49.749 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1126920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:49.751 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":365006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:49.751 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1692430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:49.753 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":258004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:49.753 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1073819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1151520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":868115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:48.930 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":436008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":111402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":104502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"01572637-b851-4cc3-b06a-56c1ae1115cc","description":"","id":"01572637-b851-4cc3-b06a-56c1ae1115cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":62802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":871438176,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":1230522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":808315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":737913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":699213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":930516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1062219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":168903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":706913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":735213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":721013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":177603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":252304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:49.812 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1494127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":280605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:49.814 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1135220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":169503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:49.815 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":471708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":203104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:49.816 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":891616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":662411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:49.817 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":201803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:49.818 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":787814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":572010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3254658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:48.950 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"777f41ee-8269-4bbc-b0e4-f889c62be099","description":"","id":"777f41ee-8269-4bbc-b0e4-f889c62be099","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":62102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866706392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":829015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1294823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2955453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":759214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":931316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2318041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":128202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":779613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1063619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1009018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":3131456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":557610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:49.834 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":974317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":191904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:49.836 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1707730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":192304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:49.837 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":2019536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":184803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:49.840 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1452525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":266704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:49.841 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":491608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:49.842 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1776331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1033519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1146220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:49.619 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":94402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":130702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","description":"","id":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850315400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":1306423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":883415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":785914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":746313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1062619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":875516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":135203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":728713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":738313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1235922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":206704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:50.480 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1739731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":358407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:50.482 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":904416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":337906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:50.484 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":124503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":3233957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:50.487 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":840114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":282005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:50.488 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":538909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:50.489 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":783914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":701812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":421607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:49.759 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":434208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":158003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"66805d91-a5f6-4265-bd36-ef13a429c97e","description":"","id":"66805d91-a5f6-4265-bd36-ef13a429c97e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856795716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":1069219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":782114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":736113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1004218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1417026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":954117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":722913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1329824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":749713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":177703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":621311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:50.627 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":838515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":191704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:50.628 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2827950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":261904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:50.632 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":116403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":200603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:50.632 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":737314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":213804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:50.633 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":224904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:50.633 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":817015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":555610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":415507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:49.830 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":146302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":150502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":454908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":150902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":475908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":108002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":184803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e91719b1-a139-42cf-8a1a-db78cd7477f8","description":"","id":"e91719b1-a139-42cf-8a1a-db78cd7477f8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5052290,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":191204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e91719b1-a139-42cf-8a1a-db78cd7477f8'","result":{"duration":106102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":174503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860353879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e91719b1-a139-42cf-8a1a-db78cd7477f8'","result":{"duration":1025719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":830315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1018818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":795814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":975617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":976318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":703613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":737313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":731113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1191821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:50.708 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2009\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":773914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:50.709 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1100619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":114703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:50.710 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":383407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:50.711 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1202121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":105402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:50.712 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":907117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:50.713 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1096019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":827714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":580610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":97102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:49.858 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":174903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":514509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":581810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":582110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":155403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":216304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","description":"","id":"kkhrn250-dxu9-167i-w6so-8566t16b30ve","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":102502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869367939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":821515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":794214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":712413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":755614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":829415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":607011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":745713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":655012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":140002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:50.738 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":670412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:50.739 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:50.740 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:50.740 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":810014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:50.741 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":115202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:50.741 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":866315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":612511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:50.494 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":150003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":168203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":183103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":611611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":114602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":156102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ac78-851b619f357f","description":"","id":"ef2a7962-8bb4-483f-ac78-851b619f357f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":387607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":75402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849129679,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":1023618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1159221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":839515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":795215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":874715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":692513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":667612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":260005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:51.355 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":832315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:51.356 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":848915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:51.357 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":219004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:51.357 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":985418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:51.358 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":314305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:51.359 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":875216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":704113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":469708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":83402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:50.638 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":160703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":177003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":478208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":168003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":481309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":128302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":189203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d568785-efdd-429d-b491-56f785c3656a","description":"","id":"1d568785-efdd-429d-b491-56f785c3656a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":267305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849721690,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":1158221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":882916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":912516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":876315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1033619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1102220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":933917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":901916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":743113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":849915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":921217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:51.501 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":817815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":547109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:51.503 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":747513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":443408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:51.504 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":400907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:51.505 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":906616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":464709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:51.506 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":725013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:51.507 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":812614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":679013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":737513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:50.722 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":82102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":468409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":125002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","description":"","id":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":85502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841471443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":737713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1095719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1090720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":752413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":875615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1529727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":720413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":621211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:51.575 [print] https:\/\/service.pdok.nl\/cbs\/gebiedsindelingen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3061755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":348506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:51.578 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":706213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":301505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:51.579 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":326205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:51.580 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":749513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":385007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:51.581 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":311705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:51.581 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":823815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":641212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:50.745 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","description":"","id":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":879492719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":861116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":792914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":820215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":703812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":730513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":867915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":819415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":618711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":752814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":133602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:51.634 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:51.635 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":648412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":144502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:51.635 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:51.636 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":773713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:51.637 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":133202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:51.637 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":859016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":518909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":430208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:51.363 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":81102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":329006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","description":"","id":"dc9fbc85-1263-4a1b-b001-7be701a6039e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":148103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837223568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":1097219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":743413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":765814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":760814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":802614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":736114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":679712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":804114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":707312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":657012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:52.211 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":673812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":470008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:52.212 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":761114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:52.213 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":456708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:52.213 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1020019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":148002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:52.215 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:52.215 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1338324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":658311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:51.512 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":92002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":742614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":498909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","description":"","id":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":74001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":831619969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":1388524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1042019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":955217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":812915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":869015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":792714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":704512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":776313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":694412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":223904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":299106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:52.355 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":818115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":259304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:52.356 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":821614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":279405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:52.357 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":226704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:52.357 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":768814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":263805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:52.358 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":218904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:52.359 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":899416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":753713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":439808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:51.586 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":80002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":294805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","description":"","id":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840704729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":887316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":908216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":783814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":786514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":903617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":848415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":790414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1550928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":843115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:52.438 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1238422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:52.439 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":950417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":206904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:52.440 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":143003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":234204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:52.441 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":964217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":219803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:52.442 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":146602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:52.442 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":953017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":676012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":447608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:51.641 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":154903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","description":"","id":"22bedc12-e9cb-4419-8e51-dfb375d46d01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846469832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":1044418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":938916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":780914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":915817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":930116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":822714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":642011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":651911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":523209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":644311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:52.498 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":680712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":435808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:52.499 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":669512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":421808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:52.500 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":474308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:52.501 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1846833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":570011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:52.503 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":1537827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:52.505 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1012218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":807914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":461608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:52.220 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":77702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","description":"","id":"7b4a0b26-5885-45cd-a99d-27887cff68e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":214903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":887457959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":993817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":733013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":678112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":782613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":729713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":592311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":708512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":609911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":193203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:53.117 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1014418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:53.118 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":753713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:53.119 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":232704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:53.119 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":830114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:53.120 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":98502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:53.120 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":909917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":754213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":474909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:52.363 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":513909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":130103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","description":"","id":"97b49056-8ace-426c-ae3e-bf7efe4c000f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":113702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856182305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":956417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":685012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":652112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":717513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":879015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":690412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":576011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":583210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":917316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:53.229 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":988617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:53.230 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":946917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:53.231 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":433108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:53.232 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":742913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":158103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:53.232 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":217704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:53.233 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":825215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":624911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:52.447 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":78202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":398407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":131802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a931e334-b752-4935-8a98-00eddc443789","description":"","id":"a931e334-b752-4935-8a98-00eddc443789","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851093114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":1031718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":845815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":773714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":806315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":801114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":759714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":756613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":774614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":760614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:53.307 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":877116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:53.308 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1058019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":101302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:53.310 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":148503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":355806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:53.310 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":884516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:53.311 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":309706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:53.311 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":973018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":700112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:52.510 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":97902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":75602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":461208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","description":"","id":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854624477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":1022518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":733813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":687812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":671312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":796114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":701712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":597110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":670012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":743013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":610111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":596811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:53.380 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":797214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:53.380 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1240022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:53.382 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":362307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":401707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:53.382 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":710013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:53.383 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":754314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:53.384 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":675512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":748213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":469808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:53.125 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":495709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":110402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":61802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853647760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":1077619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":934116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":813414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":955017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1018518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":817114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":759513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":803114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":711913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":202003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:53.989 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1564928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":485208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:53.991 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":852015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":597111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:53.992 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":526809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:53.993 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":917116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":544810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:53.994 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":872915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:53.995 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2872551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":714413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":437408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:53.238 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":424508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":374006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863241130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":1372725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1211921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1417825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1134320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1143121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1239422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":932117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1172321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1034018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":235804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:54.115 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1642630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":226204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:54.117 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1648729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:54.119 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":386907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":136103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:54.119 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1784832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":204803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:54.122 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":159503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:54.122 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1455826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":856815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":575511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":55001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:53.316 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":465608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tn-2c7040b-c448-451b-bf15-f2416efaadd1","description":"","id":"tn-2c7040b-c448-451b-bf15-f2416efaadd1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'","result":{"duration":75802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846245528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'","result":{"duration":1117420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1223122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1261423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1238122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1250123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1247122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":960917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":948117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":961618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":128902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":158003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:54.175 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":952117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:54.176 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":910717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:54.177 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:54.177 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1297323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":4820285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:54.183 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":88302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:54.183 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1215422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":752513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":476608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:53.388 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":74302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":413907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":530109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":111602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","description":"","id":"7dc30aed-0940-4e69-b34c-9f24b34078eb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836180200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":940813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":936213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":774110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":696010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":846412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":744610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":649209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":818712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":430306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:54.235 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":633809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:54.236 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":849412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":4285859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:54.241 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":437606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:54.242 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1532721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":443106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:54.244 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":167702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:54.244 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1110316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":3150344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":601908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:54.002 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":203704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","description":"","id":"cb13a608-3d78-4f79-ba60-be63ccd6e268","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854103118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":1201616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":772310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":736410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":937013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":882312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":710409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":762910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":966914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":177202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1093216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:54.867 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":820011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":620209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:54.868 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":806712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":570108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:54.870 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":118301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":576208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:54.871 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":584708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:54.872 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":882712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:54.873 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":890713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":391906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":91602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:54.128 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":430508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":446008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56093b94-7517-456d-a0d4-338aba3d8c74","description":"","id":"56093b94-7517-456d-a0d4-338aba3d8c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":99001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851404182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":1164916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":815112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":861212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":738210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1033514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1011914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":124902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":796111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":843812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":877712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":899312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":861212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:54.991 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":817812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":542407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:54.993 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":814112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":543007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:54.994 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":122102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":549008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:54.995 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":829412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":585408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:54.996 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":776911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:54.997 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":874612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":665309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":516307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:54.190 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":80801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":568510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":546709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":148602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","description":"","id":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":879584222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":1072515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":805811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":674209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":667709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":986714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":779711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":823312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":740910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":713210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":163203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":348405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:55.080 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":209503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:55.081 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":869712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":185802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:55.082 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":209403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":259603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:55.082 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":280104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:55.083 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":225703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:55.084 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":728410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":573908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":516407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:54.251 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":349704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","description":"","id":"e222648d-d19e-4a99-a67d-2af1c9aabd75","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":875864448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":963026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":812322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":752620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":765921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":953926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":940726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":123903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":741020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":745621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":787021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":162304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":342610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:55.137 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":904825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":196305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:55.138 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":853623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":168605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:55.139 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":177505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":250007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:55.139 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":742721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":179705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:55.140 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":262507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:55.141 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":779822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":544215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":413411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":72001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:54.879 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":199603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":149502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":428506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":166002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":521608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":126202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":567407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","description":"","id":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842151634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":1122531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":840823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":770421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":851723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":845523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":867324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":647817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":683718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":434911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":339809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:55.733 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":829723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":293508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:55.734 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":896324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":304208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:55.735 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":344810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:55.736 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":309109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:55.737 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":265207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:55.737 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":802621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":713519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":389810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:55.002 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":146002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":147802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":474907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":482007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":111902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":585508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6de8b875-c4c2-4469-ac80-0782bb67f285","description":"","id":"6de8b875-c4c2-4469-ac80-0782bb67f285","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859250139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":1059129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":805922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":708919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":741420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":939926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":964626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":662418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":701719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":831022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":406711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":355310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:55.873 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":727620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":442812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:55.874 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":777422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":314108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:55.875 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":387711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:55.876 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":872524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":310908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:55.877 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":256507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:55.877 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":904624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":699319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":402911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:55.089 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":149402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":144902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":440806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":178902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":225003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","description":"","id":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854160247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":1120831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":768121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":671018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":723419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":946826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":779721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":685819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":624417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":728520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":399811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:55.953 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:55.954 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":817122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:55.955 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":183205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:55.955 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":796122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":128904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:55.956 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":266407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:55.957 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1104630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":808822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":431312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":68502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:55.149 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":189205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":148604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":479313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":147804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":505013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":106303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":330109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c47e4ef8-951e-4765-8d01-29150c12a22d","description":"","id":"c47e4ef8-951e-4765-8d01-29150c12a22d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":116503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":76402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":62401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864212549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":1277035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":857324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":687419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":701719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":743421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":732220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":617116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":588316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":584816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":249007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:56.023 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":87402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:56.024 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":781322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:56.025 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":189105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:56.026 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":868324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:56.026 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":102903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:56.027 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":950026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":755720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:55.741 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":257907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"77971fa3-f869-4726-969a-482e0b1a8c5d","description":"","id":"77971fa3-f869-4726-969a-482e0b1a8c5d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845503142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":1051429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":723320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":773021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":687719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":770121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":950926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":598617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":607917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":592716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":575516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:56.597 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":670119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":490613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:56.598 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":461713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:56.599 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":429812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:56.600 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":726820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:56.601 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":58502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:56.601 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1549742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":682318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":481213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:55.882 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":287607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","description":"","id":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":830894246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":1248034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1061628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":956226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":888324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":952726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":944426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1118831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":771121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":723919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1118631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:56.725 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:56.726 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1061829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":132603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:56.727 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":368010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:56.727 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1156932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:56.729 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":71702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:56.729 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1515941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":686419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":468513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:55.961 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":438012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":490613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","description":"","id":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":134203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":62602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839582281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":1011728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":842923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":924125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":811722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":935026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":680518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":737320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":675019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":744921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:56.812 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":689819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:56.812 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1010428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:56.813 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":297208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:56.814 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1051129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:56.815 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":859523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:56.816 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":800822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":712019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":470712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:56.031 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":1390538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":101903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":425211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":427112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":411511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37308f90-e619-4b62-ae9e-e656bb3f1649","description":"","id":"37308f90-e619-4b62-ae9e-e656bb3f1649","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":64702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843306582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":1169532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":780822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":706619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":826422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":805322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":762220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":606916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":671718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":678419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1457740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":985527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:56.888 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1030328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":504514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:56.889 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":812322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":431711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:56.890 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":421411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:56.891 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":761320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":479613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:56.892 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":728420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:56.893 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1620944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2230860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":6660480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:56.607 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":115203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":179605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","description":"","id":"7c664a91-1aa2-4923-9d17-6a43e4075f47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":78702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857253661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":1067029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":780221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":806422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":762520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":851623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":921525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":692019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":126903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":267707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:57.475 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":729920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:57.475 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":677819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":770821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:57.477 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":112303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:57.477 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1110030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:57.478 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":64402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:57.478 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1468640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":877724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":536015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:56.734 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":475613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","description":"","id":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":478113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841917345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":1050929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":758321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":740220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":758520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":788821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":885224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":641217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":668018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":760520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":723519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":618417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:57.587 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":812722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":570816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:57.588 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":666018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":543114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:57.589 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":402111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:57.590 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":835323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":526015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:57.591 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":727220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:57.592 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":927625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":820922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":419011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:56.820 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":399110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":69402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d01c1ca-973c-4652-baa5-39458bb9e181","description":"","id":"3d01c1ca-973c-4652-baa5-39458bb9e181","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":311608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":63802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845840452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":1200233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":788022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":740620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":786122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":834623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1647145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":945626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":678218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":710920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":388710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:57.677 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":782421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:57.678 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":814122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:57.679 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":246107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:57.679 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":949226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:57.681 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":113203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:57.681 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1074629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":745721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:56.909 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":398011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":148204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","description":"","id":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":76202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856251633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":955226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":763120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":697419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":690119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":743220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":705619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":582716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":629517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":705519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":192705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:57.775 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1056928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:57.776 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":978327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:57.778 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":355110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:57.778 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1156332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:57.779 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":441412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:57.780 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1328436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":637417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":372210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:57.484 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":544115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":82502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","description":"","id":"555f668f-63b4-47ef-a666-f12d71c2cc4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":59502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849323546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":983726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":786821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":866123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":755320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":831223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":878924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":654017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":167305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:58.343 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":796322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:58.344 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":823822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:58.345 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":239706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:58.345 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":903924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:58.346 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:58.346 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1037728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":719619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":390610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:57.597 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":442312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":80302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":484014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","description":"","id":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":351110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847124886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":1068329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":861724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":870424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":819522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":902525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":942026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":716020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":691619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":718219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":764721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":629418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:58.455 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":836723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":554315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:58.457 [print] OGC:CSW \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":855924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":484913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:58.458 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":430712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:58.459 [print] OGC:CSW \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":815222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":452512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:58.460 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":413511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:58.460 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1006727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":808222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":480413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:57.685 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":69102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":95003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ca52-85123f579","description":"","id":"ef2a7962-8bb4-483f-ca52-85123f579","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":70002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836323293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":1008428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":954026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":713619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":813122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":887424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":746620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":666618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":843823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":671718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":753221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":634917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:58.533 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":728319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":544014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:58.534 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":657918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":526714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:58.535 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":429612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:58.536 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":977027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":709519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:58.537 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":866624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:58.538 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":777021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":980026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":430511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:57.784 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":83602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":157104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621fd336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621fd336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":366809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848346120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":1051728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":850123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":877924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":873024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":947326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":934025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":707620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":686519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":786921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:58.643 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":870723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:58.644 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":867624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:58.645 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":189405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:58.645 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":985026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:58.647 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":48402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:58.647 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1099230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":731620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":536315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:58.351 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":477213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"702060c1-b3fd-44ec-8cc6-d4249d150110","description":"","id":"702060c1-b3fd-44ec-8cc6-d4249d150110","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855491513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":1204233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":937725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":722520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":757221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":850323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":828422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":661918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":640617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":159604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":202206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:59.216 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":720620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:59.217 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":724119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:59.218 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:59.218 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":812722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:59.219 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:59.219 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":33529309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":861623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":418511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:58.465 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1132831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":468312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","description":"","id":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":64302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847331192,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":1031228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":855023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":729619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":950526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":856623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":149104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":782221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":728620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":744520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":257107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:59.324 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":715619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":158805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:59.325 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":875524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":173005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:59.326 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":201806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:59.326 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":706219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":163705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:59.327 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":839623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:59.328 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":956226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1564742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":859523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:58.543 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":382410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":618116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49a53bc1-dd76-417f-b9af-066901ddfec0","description":"","id":"49a53bc1-dd76-417f-b9af-066901ddfec0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":96603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847741903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":1126531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":842523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":700619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3983908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1205533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":896625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":666818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":824123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":815322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":410111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":338209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:59.406 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/download\/feature\/amplitude-getij_IDS?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":812422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":355110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:59.407 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":692619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":341009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:59.408 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":242106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:59.408 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":852523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":283508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:59.409 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":230706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:59.410 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":790421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":837622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":484013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:58.651 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":74702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","description":"","id":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":718920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847090485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":1285335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":799621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":847523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":668218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1107930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":877924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":714419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":787321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":901424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":199705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":582816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:59.510 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":758421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":172605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:59.511 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":827822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":342009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:59.512 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":220706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:59.513 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":873624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":189106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:59.514 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":443612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:59.514 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":785422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":446312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:59.257 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":144004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":159005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":549115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":143304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":518714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":418011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":872424257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":1077517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":846614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2740643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1165218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1175618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":916215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":717311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":834413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":772912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":184002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":305304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:00.143 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":161402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:00.144 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":759911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":162002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:00.145 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":161703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:00.146 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":807613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":176403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:00.147 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":160402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:00.147 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2765644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":655210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":959015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":71802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:59.336 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":238207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":151304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":513214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":148904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":4110612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":134704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":204006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68505be5-45c4-4889-a82a-125043bbdc44","description":"","id":"68505be5-45c4-4889-a82a-125043bbdc44","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":76402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":871964800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":1207019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":874813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":751212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":719011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1094417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":781312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":704411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":688111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":118502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":933414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:00.223 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":844813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:00.225 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":773712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:00.226 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:00.226 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":758512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:00.227 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:00.227 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1232819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":657210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":654610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:59.415 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":146104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":455313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":138904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":478213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":512514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","description":"","id":"b5ee6914-04bd-4c7e-a180-242371ae40d9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":48602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882364903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":1013116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":883814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":817013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":774612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":920415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":927214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":648411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":663210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":641310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":586709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":191103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:00.308 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":710111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:00.309 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1103118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:00.311 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":128902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:00.311 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":861213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:00.312 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":4592672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:00.313 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":964415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1086517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":701811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":203005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:59.519 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":155005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":159004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":480513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":165104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":568415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":133803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":144704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":132703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":889601820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":1134518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1172218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1034817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1040416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1156518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1207119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":823213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":786812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":978716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":229704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:00.421 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1807629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:00.423 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1215519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:00.425 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":402306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:00.425 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1104117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:00.426 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:00.426 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1192018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":734911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":423706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:00.154 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":382006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feeae7d3-7485-4a39-895c-ed65e945ced0","description":"","id":"feeae7d3-7485-4a39-895c-ed65e945ced0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":452207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":884538151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":1062016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1292620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":710411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":732512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":848413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":840313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":644810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":644510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":804912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":182303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1240120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:01.049 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":762312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:01.051 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":708011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:01.052 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":314005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:01.052 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1102217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:01.054 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":44101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:01.054 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1471123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":772212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":451307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:00.232 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","description":"","id":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":892521776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":916914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":736312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":858413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":877513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":894114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":757912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":619009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":619509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":627409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":163203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:01.133 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":707412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:01.135 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":931114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:01.136 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":387606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:01.136 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1093317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:01.137 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:01.137 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1517223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1648925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":609609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:00.323 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":429507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":81701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":186103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","description":"","id":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":872513663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":1091817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":846613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":761212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":838913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":913014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":844313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":754312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":700711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":701011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":165203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":961615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:01.205 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":749212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":139202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:01.207 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":139402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:01.208 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":459007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:01.209 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":921814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":619910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:01.210 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":805613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:01.211 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":903114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":858314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":547309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:00.431 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":81901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":407507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":69501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854477881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":1224319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1204118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1549824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1077117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1222119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1133017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3456854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":993115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1081417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":4115864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:01.305 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1053716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:01.306 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":910614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:01.307 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:01.307 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2231035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:01.309 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":792013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:01.310 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1892230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":707911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":488308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:01.059 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","description":"","id":"f61eec5c-cb91-40b6-ad35-9bca967006cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":367806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866000961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":1083217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1464923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":821313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":775112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":855413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1483523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":698911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":773012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":162803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:01.936 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2596841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":673911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:01.940 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":825213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":157803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:01.941 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":75601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":119702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:01.941 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":951015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":157602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:01.942 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":118602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:01.942 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1157718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":684610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:01.144 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":79301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","description":"","id":"bfcc588f-9393-4c70-b989-d9e92ac2f493","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":116001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":931326784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":1104617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1098417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":936914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":950414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1008515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":967515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":734011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":942115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":805012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":348906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:02.086 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":812913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:02.087 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":769612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:02.088 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:02.089 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1028317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:02.090 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:02.090 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":912814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":706911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":415807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:01.217 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":440107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":501108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a914681-61bd-4f67-902b-45037a00c469","description":"","id":"7a914681-61bd-4f67-902b-45037a00c469","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":96002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874133689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":851014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1481023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":955115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1064017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1127718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":996216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":743011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":705711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":760312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":161403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:02.103 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1279320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:02.104 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1132617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:02.106 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":347406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:02.106 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1176719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:02.107 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":3059147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:02.111 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":910614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":661910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":396606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:01.316 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":443907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","description":"","id":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":386406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":908232622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":1106417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":942914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":962015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":895314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1120218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":965215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":761912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":733712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":912914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":184003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:02.235 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1285721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:02.237 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":839514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:02.238 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:02.238 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":986115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:02.239 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:02.239 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":944815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":731512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":624010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:01.947 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":384306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":532409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","description":"","id":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":236804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":922171641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":1090917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1059517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":946715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":869013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1010016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":936915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":821812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":861913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":745612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":134602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:02.880 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":966515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:02.881 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":933215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:02.882 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":186703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":289805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:02.882 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":879614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:02.883 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:02.884 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1140817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":686410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2595340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:02.108 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":515808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","description":"","id":"5b40b9b4-fcb2-4553-bcab-34824c43c992","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":4045763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":901826122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":1068517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1000016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":803213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":848613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":969415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1214619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":880014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":903014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":717311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":445807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:03.025 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":736211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:03.026 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":800813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:03.027 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:03.027 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":867313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:03.028 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:03.028 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1004215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":769412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":413606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:02.116 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":392706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","description":"","id":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":118302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":909286939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":793913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":922915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":957215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5555687,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":961615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1040216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":786112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1976431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":918814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":105202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:03.042 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":801312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:03.043 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":764212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:03.043 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:03.044 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":903714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:03.045 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:03.045 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1014516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":574209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":419206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:02.244 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":430807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","description":"","id":"5523cfd7-a72c-409e-a0c7-89b858aafa64","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858884550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":991015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":712212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":703711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":726411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":792412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":714411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":882614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":667510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":703111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":117302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":128802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:03.112 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2113633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:03.114 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":951915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":100002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:03.115 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":410507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:03.115 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1055016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":139702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:03.117 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:03.117 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1481623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":662910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":409006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:02.890 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":352405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","description":"","id":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":353705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854724219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":1064519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1120920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":700212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":738413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":769314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":696712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":30749448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1256222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":748214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":321506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":315106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:03.786 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1569028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":198904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:03.788 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1059519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":164903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:03.789 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":545010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":194404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:03.790 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1001818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":181804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:03.791 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":524509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:03.791 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1380425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":383107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:03.032 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":6176696,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":476807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","description":"","id":"94f241c2-43a2-42c3-8e9e-71976605aa0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":95602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849524549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":1663629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1804232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1807632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2272940,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3706467,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1800232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1279623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1236722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1357024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":330506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":254705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:03.908 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1404025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":180903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:03.909 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1409225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":209304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:03.911 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":102702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":164403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:03.911 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1836233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":163303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:03.913 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":190304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:03.913 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1626729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":494909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:03.049 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":151302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":495708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":111602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e258f171-6f56-4d4d-8311-027b30213c2d","description":"","id":"e258f171-6f56-4d4d-8311-027b30213c2d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":896403608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":65102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":1090219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":839214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":801914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":726613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1139121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1062019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":759314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":955017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":817614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":496509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":531309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:03.957 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":961217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":301505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:03.958 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":769314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":276605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:03.960 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":329305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:03.960 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":987917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":553310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:03.962 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":394907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:03.962 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":740113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":508909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":354806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:03.122 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","description":"","id":"ac3a9efe-2154-4a4c-aae3-ea269044945d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":899204515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":1111120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":810415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":816815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":743313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":971218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":882116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":181703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":725513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":753213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":740513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":460308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":401007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:04.032 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":753013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":392807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:04.033 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":773714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":385506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:04.034 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":313905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:04.034 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":958417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":375007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:04.036 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":392407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:04.036 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":811515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":567110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":435008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:03.797 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":157803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":151103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":467608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":143202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":469109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":103702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":164603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","description":"","id":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":420708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":62601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862737688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":956117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":675712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":865816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":718813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":945817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":787614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":123002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":630511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":172403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:04.670 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":914016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:04.671 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":641511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:04.672 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:04.672 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":741513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":102302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:04.673 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":97602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:04.673 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":704813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":593110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":504509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:03.921 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":156603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":138502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":137903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":107402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","description":"","id":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856465377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":1037518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":787114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":755213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1002918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":840715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":851715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":738013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":820415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":681912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":445408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:04.788 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":697313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":144902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:04.789 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":708613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:04.790 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:04.790 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":777314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:04.791 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:04.791 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":767514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":760614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":375607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":81001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:03.967 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":64002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":135203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":529310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":197503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":492608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":373906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","description":"","id":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864017212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":970317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":773814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":761414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":929216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":850215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":790914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":653212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":652612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":430208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":310705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:04.842 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1379524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":251705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:04.843 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":722513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":272205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:04.844 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":183704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:04.845 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1347124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":256605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:04.846 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":153603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:04.846 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":904016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":733213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":82202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:04.041 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b023459a-9f0e-4d53-8059-a794119abbed","description":"","id":"b023459a-9f0e-4d53-8059-a794119abbed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":232104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869122702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":1043919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1036418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":932116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":784714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":942317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":812714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":767913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":714113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":253704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:04.921 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":719912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":146502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:04.922 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":748413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:04.923 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":88801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:04.923 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":823314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:04.924 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:04.924 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":885516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":665012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":392807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:04.678 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":421408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":449508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","description":"","id":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":90002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882086133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":986518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":914416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":749713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":750214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":779014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":886116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":715912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":760613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":402408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":231304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:05.571 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1675330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":304306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:05.573 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1210122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":285705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:05.575 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":220004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:05.575 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1213922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":166303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:05.576 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":226204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:05.577 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1463726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":648112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":444108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:04.795 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":520110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7d19437-f875-45b3-86cd-2fa3335479ec","description":"","id":"d7d19437-f875-45b3-86cd-2fa3335479ec","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841699714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":1081319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":803814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":837415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":883415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":823614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":673212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":791414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":699612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":791914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":670112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:05.648 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":704813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":485309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:05.649 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":743714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":485109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:05.650 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":412708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:05.651 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":793314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":532610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:05.652 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":684012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:05.653 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":851015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":788614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":374907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:04.851 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":453608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":216203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","description":"","id":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":895114166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":1025718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":923117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":831015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":812715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":898416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":880116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":693212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":924616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":749314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":707313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:05.757 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":736213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":452708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:05.758 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":808314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":470409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:05.760 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":420107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:05.760 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":868416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":451808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:05.762 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":721513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:05.762 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1598528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":683412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:04.928 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":525009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":509709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":68102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","description":"","id":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":959225410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":965317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":897116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":783914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":843515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1024418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":927317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":780914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":801815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":766214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:05.898 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1490726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:05.899 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":995618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:05.900 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":531209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:05.901 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":830015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:05.902 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:05.902 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1579528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":739614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":372507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:05.582 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":450808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":149002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","description":"","id":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":195703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":65501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876252130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":1859034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2901452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2401343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2219439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2368242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2430444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1526127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1504227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1671930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":282305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:06.479 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2238740,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:06.482 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2811450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:06.485 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:06.485 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2369742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:06.487 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":974517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:06.488 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2492845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":785114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:05.659 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":444108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","description":"","id":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867694477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":1522927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1444425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1681930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1559428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1841933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1531027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1020819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1011218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1195022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":367106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":155503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:06.542 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2009036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:06.544 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1997536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:06.546 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":930317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":890016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:06.548 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1846233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":555609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:06.551 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":797314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:06.551 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1633929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":767913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":374706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:05.768 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":437708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4f4c7848-1767-4c67-be08-87d45d07f313","description":"","id":"4f4c7848-1767-4c67-be08-87d45d07f313","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":901462779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":2766549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3575963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3765567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":4171975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3736366,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3479862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2203939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2256841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2457644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":396807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":147803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:06.700 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4697584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":434808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:06.706 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3570864,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":277305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:06.709 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":417907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:06.710 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":8156846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":142803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:06.718 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":102202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:06.718 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3532463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":707713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":397307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:05.907 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"af4841b5-ce83-4edb-af41-429a21140316","description":"","id":"af4841b5-ce83-4edb-af41-429a21140316","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":353906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":913642096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":2181639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2718949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2682348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2803150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2683648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2808150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1718130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1693730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1926635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":317105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":255604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:06.845 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2319442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":222804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:06.848 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2616947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":186304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:06.850 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:06.851 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2509945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":184703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:06.853 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":117702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:06.854 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2668147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":686913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":515709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:06.495 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":499209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b0119753-5625-4500-9df3-13823ff9868f","description":"","id":"b0119753-5625-4500-9df3-13823ff9868f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":74401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":888637550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":1948735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2274841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2152638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2622947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2490145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":38877394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":263505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2723548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1845333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":14663062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":389507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":891016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:07.457 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":7630136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":637911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:07.466 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2815450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":5028289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:07.473 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":137402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":654312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:07.474 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2319442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":540909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:07.477 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":788214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:07.478 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2209339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":481608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":885116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:06.557 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":295605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":385507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":398707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":421308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","description":"","id":"6a129fd1-0988-4b8a-975a-6ff134b6754a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":875200811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":1122320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":766714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2344842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":759914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":879616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":811314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":114203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":823414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":898016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":780414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":227105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":302105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:07.444 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":797515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":241704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:07.446 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":743714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":201203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:07.446 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":142502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":158003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:07.447 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":773414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:07.448 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":159703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:07.448 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":872616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":638311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":453308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:06.725 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":79202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":499909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":84402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e264c1e4-90fe-4968-bbf2-7019f6095348","description":"","id":"e264c1e4-90fe-4968-bbf2-7019f6095348","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858598515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":1134520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":770914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":785614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":761313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1047418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":854715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":723812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":858315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":750714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":158703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1146120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:07.595 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":817814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:07.596 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1089519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":237304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:07.598 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":415507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":238705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:07.598 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":866615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":500609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:07.600 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":190703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:07.600 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1393424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":525709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:06.860 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":515809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":79401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":508509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":218604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","description":"","id":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":902088890,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":2213840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2914552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2607247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2439544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2892451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2549045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1691531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1716331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1907834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":380507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":248104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:07.786 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1963035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":309605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:07.788 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1921034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":339006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:07.791 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":110302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":265904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:07.791 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2709648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":218904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:07.794 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":239705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:07.794 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2847251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":583911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:07.453 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":94801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":153902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":174603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":532809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":158603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":486808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":182903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":179603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","description":"","id":"9c4862c3-0bab-49c3-bc2f-ac5486826766","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":962053561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":2637047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":13160734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":4484480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3757067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3834969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3543063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":72202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3240058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3205958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3211657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":347907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:08.460 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2879752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":155403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:08.463 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3277359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:08.466 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":332406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":145802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:08.467 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":4221175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:08.471 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":437008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:08.472 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":4673283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":434108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":408108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":107502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:07.485 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":167103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":468008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":134303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":518510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","description":"","id":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":938923947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":1648529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2174338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":7326530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2154638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2654548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2424243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1474826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1507227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1699131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":295205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":483809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:08.451 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1709631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":284205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:08.453 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1741131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":435508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:08.455 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":255004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:08.455 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2359342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":292505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:08.458 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":297505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:08.458 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2400442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":641411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:07.611 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":132802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":421208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":514309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":124703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":234504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","description":"","id":"1fa220c2-5f2e-4943-a57e-c291cc35084b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":351406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":64201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":921231432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":2266240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3048554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3043255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3119255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3110655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2979854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2001036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1971436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2199939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":515510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":160403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:08.560 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2648147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:08.563 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2482745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:08.565 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":820914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:08.566 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3265659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:08.570 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":345106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:08.570 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3527663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":705713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":446108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:07.801 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":168903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":197304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":425008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":93302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":253905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","description":"","id":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":79102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":905019043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":1717230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1754032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1119920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":896816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":873215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":829914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":682412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":768014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":684812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":180404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:08.718 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":750514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:08.720 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1047018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:08.721 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:08.722 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1100120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:08.723 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:08.723 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1567228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":656312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:08.474 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":3575063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce963e61-779f-470f-a99d-48d9796e5ba3","description":"","id":"ce963e61-779f-470f-a99d-48d9796e5ba3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858804418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":918816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":855015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":737713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":891615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":823015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":912616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":691012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":631511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":723512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":483708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":203003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:09.346 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":714513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:09.347 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":669212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:09.347 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:09.348 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":773614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:09.349 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":129903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:09.349 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":854515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":677613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":372706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:08.480 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":293506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":90602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"74620aa8-4fa2-414d-8350-50d93e500da8","description":"","id":"74620aa8-4fa2-414d-8350-50d93e500da8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":936992013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":1189021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":887216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":843015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":760614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":985518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":913416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":763414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":603111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":691313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":937217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:09.428 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":764014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:09.429 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1054719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:09.430 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":317405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:09.430 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1120420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":126702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:09.432 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":564710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:09.432 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2976253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":702412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":519809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:08.577 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","description":"","id":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":347006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":895062765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":893115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":984717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":831214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":827714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":794414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":786014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":679312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":682613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":724113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":289405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:09.482 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":798615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:09.483 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:09.484 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:09.484 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":940016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:09.485 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":148203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:09.485 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":826015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":625911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":379506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:08.728 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":384906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":479708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","description":"","id":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":405807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":995101350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":1061619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":911516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":878415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":927217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":919817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":850715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":681312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":662412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":657712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":225304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:09.733 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":734313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:09.734 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":765514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:09.735 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:09.735 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":835415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:09.736 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:09.736 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":976417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":691113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:09.353 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a1ed8a00-da07-472e-9627-99175d437c94","description":"","id":"a1ed8a00-da07-472e-9627-99175d437c94","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":75502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":886486212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":1158121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":869915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":770613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":758713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":852416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":779814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":646011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":715312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":706912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":201303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:10.249 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":736114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":186003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:10.250 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":119202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:10.251 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":182503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:10.251 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":961517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:10.252 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":110702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:10.252 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1180022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":756713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":409307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:09.439 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":374607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":188803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","description":"","id":"7827b68f-647e-46cc-a02a-cac48eaa5dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":55901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837608241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":770814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":932317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":845015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":875316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":944517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":925617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":639211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":670712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":717813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":244204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:10.286 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":777814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":140603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:10.287 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1061619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:10.289 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":357907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":141003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:10.289 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":793615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:10.290 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1033218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:10.291 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":857915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":574310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:09.489 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":321006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":3878969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":191003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":273405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","description":"","id":"5be14ec9-9bb3-4395-a061-e7e78d04a527","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":456408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860830855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":857416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":887216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":820214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":801414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":868816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":818515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":655711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":693012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":773114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":371007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":305206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:10.364 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":701112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":345806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:10.365 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":751613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":307805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:10.366 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":264205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:10.366 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":833315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":318406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:10.368 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":288005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:10.368 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":42639361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":732013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:09.740 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","description":"","id":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":880495605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":1228822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":907917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":997518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":990117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1198521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1020619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":848315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":872916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":892916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":189704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":275405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:10.632 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1032319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":220504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:10.634 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":918417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":163203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:10.635 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":193803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":158902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:10.635 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1221521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":246004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:10.637 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":320506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:10.637 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1022219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":668112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":539310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:10.257 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":410308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":474108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","description":"","id":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":877775457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":1149520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":867216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":802214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":845215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1029819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":841615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":781014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":734214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":772614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":229204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":406607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:11.145 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1250423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":382407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:11.146 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":793214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":352006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:11.148 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":125203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":329706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:11.148 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":884817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":364007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:11.149 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":351307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:11.150 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":970118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":579011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:10.295 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":295105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":441308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":94401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","description":"","id":"aaf53e6f-fe99-4a86-a61c-50b128412d80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":444608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":879464914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":1083221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":811415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":873617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":799815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1165022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":849416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":759114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":756914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":735814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1093621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:11.187 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":811315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":559411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:11.188 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":892617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":583411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:11.190 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":544210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:11.191 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1003319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":554510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:11.192 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":825515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:11.193 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":910817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":568110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":4334981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":86502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:10.420 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":131303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":546710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":486708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":261005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","description":"","id":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850359076,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":1139521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":871817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":850416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":802915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1056820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":920217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":793715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":809815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":773815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":938318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":832315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:11.283 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":777414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":588411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:11.284 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":839816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":555410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:11.286 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":114503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":483409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:11.287 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":812015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":607311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:11.288 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":833316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:11.289 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":831616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":634012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":426508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:10.643 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":159203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":250505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":552310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":163103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":486709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":96302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":671812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","description":"","id":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864826638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":1101620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":900217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":878816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":967618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":977818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":946918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":843116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":693213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":754514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":299206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:11.520 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":961918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:11.521 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":885416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:11.522 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":181503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:11.523 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1097320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:11.524 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:11.524 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1077220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1422627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":507710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:11.155 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":171203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":145502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":439608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":179104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":529010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":100602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":221004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","description":"","id":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853691253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":1089921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":958618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":731114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":720613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":818315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":702813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":610111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":625312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:12.019 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1060820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:12.020 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":858716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:12.021 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":190304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:12.022 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":912617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:12.023 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:12.023 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1022219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":687113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:11.208 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":542210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":154503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":880316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857007515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":1145521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1017219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":818415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":792315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":939817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1004418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":668913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":697813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":707214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":100502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:12.076 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":741514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:12.077 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":687912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:12.078 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":88202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:12.078 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":859516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:12.079 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:12.079 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":915017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":706513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":458208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:11.294 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":437608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","description":"","id":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":67801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855602189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":974918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":924617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":842716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":765014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":881316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":813816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":706713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":726614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":688713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":114802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:12.159 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1395126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:12.161 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":923317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:12.162 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:12.162 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":798614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:12.163 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":684013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:12.163 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":835416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":619812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":371007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:11.530 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":407408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":433708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c374d556-7b6e-459b-83c7-74da6ad90a59","description":"","id":"c374d556-7b6e-459b-83c7-74da6ad90a59","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852716034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":1169822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":795915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":861416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":907517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":887017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":689513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":684013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":686613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":689913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1282424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:12.394 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":742014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":474909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:12.395 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":724813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":494710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:12.397 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":461508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:12.397 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":856916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":451608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:12.399 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":795314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:12.399 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":861616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":673413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":404008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:12.027 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":73802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":377207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2724dae-ebad-4a07-9405-49bddfde3368","description":"","id":"a2724dae-ebad-4a07-9405-49bddfde3368","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857847131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":1098121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1077620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":897616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":946117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":872616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":803815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":646212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":685713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":876516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:12.896 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":716213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":471009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:12.897 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":841516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":473909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:12.898 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":519310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:12.899 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":804115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":454509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:12.900 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":736914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:12.901 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":825016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":603111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:12.083 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3e65fa1b-9bb1-41bd-9760-76962751b839","description":"","id":"3e65fa1b-9bb1-41bd-9760-76962751b839","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":72701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":898386788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":968818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":805515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":808515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":885616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":823216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":801815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":704213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":796014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":842316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:12.992 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2367144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":205304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:12.995 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":802515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":296806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:12.996 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":226104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:12.996 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":871817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":639712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:12.997 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":731614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:12.998 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":848316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":699213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":437808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:12.168 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":319206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6c62e0a5-c215-4e47-94b0-a239e264417d","description":"","id":"6c62e0a5-c215-4e47-94b0-a239e264417d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":887350581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":1882335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2164241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2043138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2066838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2389745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2114240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1515128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1455027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1578430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":205004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":132103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:13.074 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2361744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:13.077 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1745333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:13.078 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":148903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:13.079 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2213941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:13.081 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:13.081 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1945436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":645812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:12.405 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":348206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":451008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f57bdee7-4027-4aa2-8312-4051b854be3c","description":"","id":"f57bdee7-4027-4aa2-8312-4051b854be3c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841804930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":948018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":688313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":628312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":797315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":828215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":704013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":579810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":596211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":720614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":99102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:13.256 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":614312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:13.257 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":633712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":100202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:13.258 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:13.258 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:13.259 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":82702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:13.259 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":750314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":582211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":350907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:12.905 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":420608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f76bdce5-344e-415f-8f2c-972755e80b65","description":"","id":"f76bdce5-344e-415f-8f2c-972755e80b65","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":73902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845025291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":1069920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":890717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":884016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":799215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1075920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":911517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":655013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":656012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":712713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":877817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":855916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:13.762 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":713414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":576311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:13.763 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":710814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":551110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:13.765 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":567811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:13.765 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":908417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":441009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:13.767 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":5419501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:13.772 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":829016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":697813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":375807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:13.003 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":434608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cea38797-ea4b-4969-b979-8d25eb543a6c","description":"","id":"cea38797-ea4b-4969-b979-8d25eb543a6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":58902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849882082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":973419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":843116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1430727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":895117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":678813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":683813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":225904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:13.863 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":651812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:13.864 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":659412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:13.865 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":122202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":216605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:13.865 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":848616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:13.866 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":119602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:13.866 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":24413556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1025119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":477809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:13.086 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":432008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":406107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e75b66ae-21b1-4303-aeb3-787608707b23","description":"","id":"e75b66ae-21b1-4303-aeb3-787608707b23","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860605382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":1047020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":799715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":857216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":744114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":861216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":823516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":750014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":695913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":699613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":168704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":337906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:13.957 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":793015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":161203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:13.958 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":823515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":139102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:13.958 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":173604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":189803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:13.959 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1172321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":257704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:13.960 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":308005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:13.961 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":935117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:13.263 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":582411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"280cee65-1b66-4973-a569-75122e0b745b","description":"","id":"280cee65-1b66-4973-a569-75122e0b745b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":57201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863232731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":1158221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":785414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":849616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":828815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1028820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":834415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":119902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":737814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":752415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":733414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":149303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":221204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:14.136 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":775915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":209804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:14.137 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":808015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":196903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:14.138 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:14.138 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":816116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":170503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:14.139 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":150003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:14.140 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":746614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":785915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":438209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:13.777 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":449408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","description":"","id":"108fec55-e467-4d04-ab35-fd0d7060e3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":835215707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":1373526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":838416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":881917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":806415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":993719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":798715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":718413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":778315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":796515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":160103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":202904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:14.623 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":776615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":153203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:14.624 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":809115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:14.625 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":148202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:14.625 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":980618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":159203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:14.626 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":175204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:14.626 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":830515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":539510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":402008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":71002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:13.898 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":185603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":181803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":447209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":125002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":128103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"180b6682-5d6f-429d-abb7-32f7d6253787","description":"","id":"180b6682-5d6f-429d-abb7-32f7d6253787","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":227504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":24201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874363039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":1011119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":931917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":916117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":818115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1062120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":851716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":103302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":764214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":727314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":850716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":171004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":178503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:14.784 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":782914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":205603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:14.785 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":834115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":158702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:14.786 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":165903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:14.786 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":994819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":169103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:14.787 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":170803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:14.788 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":870916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":499910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:13.967 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":442608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":152003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":475508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":207403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":208204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","description":"","id":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":73002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869643051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":912817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":728314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":698313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":656412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":791215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":668813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":573211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":653612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":613812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:14.846 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":631512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":160703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:14.847 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":800315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:14.848 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:14.848 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":696013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:14.849 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":161003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:14.849 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":715513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":645413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.144 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":149103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":432208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":132202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":480609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":177204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d981070b-888c-42d5-85ff-1e383f3d7fce","description":"","id":"d981070b-888c-42d5-85ff-1e383f3d7fce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845344797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":1108021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":809215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":769914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":786915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":849616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1837135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1990337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":904717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":728214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":151703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":241305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:15.003 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1246623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:15.004 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1003718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:15.005 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":637111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:15.005 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1084220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":522610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:15.007 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":799615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:15.008 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":980619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":681913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":403008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":130702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":437608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":110802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":176704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736853","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736853","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867831817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":1133222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":917717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1255224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":851316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1105921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1043120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":722214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":665912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":779814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:15.510 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":747214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:15.511 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":741214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:15.512 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:15.512 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":823615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:15.513 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":52201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:15.513 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":870116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":821015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":396908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.791 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","description":"","id":"e27e61d8-25b1-45ee-a2df-071312ba8a69","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851708815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":1119721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":845616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":823115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":784715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":850016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":821515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":742514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":779415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":719113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":325606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":186303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:15.653 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":727313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":164004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:15.654 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":720313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":141302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:15.655 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:15.655 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1103020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:15.656 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":282105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:15.656 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":825516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":714413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":408807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.853 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":396108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","description":"","id":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851783017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":939118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":677313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":667012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":693313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":734814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":751614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":601711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":647312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":621611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":860216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":688713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:15.714 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":687513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":515410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:15.716 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":848616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":513710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:15.717 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":449309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:15.718 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":446008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:15.719 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":749614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:15.720 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":690912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":756614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:15.012 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":423908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":384107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","description":"","id":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":62302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873539624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":1221222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":913317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1036919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":860816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":913017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":895617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":701513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":701413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":930118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":704513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:15.897 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":940017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":957818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:15.899 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":737013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":476808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:15.900 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":493109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:15.901 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":860916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":499110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:15.902 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":700913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:15.903 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":855316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":658612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":410208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:15.517 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","description":"","id":"1e01d173-96f4-40b1-8236-c6a9cfdac252","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853528450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":1164022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":806316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":727813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":755614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":877216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":735713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":671613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":676913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":624012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.380 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1514028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.381 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":987018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.382 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":639812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.383 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":771514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.384 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.384 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1408426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":646212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":340807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:15.661 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":409807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":253505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d533012-21ad-4a5b-a97e-a76988270273","description":"","id":"7d533012-21ad-4a5b-a97e-a76988270273","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":832366354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":941118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":810615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":738614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":725013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":794915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":630911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":719013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":99402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.502 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":852116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.503 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1116921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.505 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.505 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":976418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.506 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.506 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":933417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":589411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:15.724 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":78202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":461908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1fb5983-5642-4334-962a-a341cef8c8ff","description":"","id":"c1fb5983-5642-4334-962a-a341cef8c8ff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":827453962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":961518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":736014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":754514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":739813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":996318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":815815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":597311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":689213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":770815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1248623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.562 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":858916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":529810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.564 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":674013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":563910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.565 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":494209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.565 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":862816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":518410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.567 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":732314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.568 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":791715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":692113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:15.908 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":475809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","description":"","id":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838163362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":964918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":629012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":598311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":567410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":635912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":749514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":517910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":734014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":384107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":340206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.755 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":604712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":275505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.756 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":716714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":320806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.757 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":267505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.757 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":727614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":301206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.758 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":256505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.759 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":704613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":596711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":348806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.388 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":387307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","description":"","id":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":389008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850091386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":1031319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":715614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":684913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":701113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2333244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":746114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":623811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":612412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.249 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":20012674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":348607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.270 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":912717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":144602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.271 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.271 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":824115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":210204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.272 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":113502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.272 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":651212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":479509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.510 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":79102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","description":"","id":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850834799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":950118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":653813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":661812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":799615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":736713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":759914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":633912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":808416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":328706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":238205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.370 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":898017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":318406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.371 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":797615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":318806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.372 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":103102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":427208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.373 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":762514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":341007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.374 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":298605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.374 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":784414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":470908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.572 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":86302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":3850572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":489309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e08079df-6c19-486e-916e-5c9948cfafea","description":"","id":"e08079df-6c19-486e-916e-5c9948cfafea","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":78602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848715260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":1051420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":933417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":912517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":999218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1226223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":866816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1101221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1081921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":852116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":3832172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":496809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.440 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":883416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":392908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.441 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":856716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":351407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.442 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":171504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.443 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":836616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":352607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.444 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":317406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.445 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":857116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":493410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":348206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.762 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":459508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":377407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","description":"","id":"488c1e6d-363e-4476-b2ff-17756ac9b35f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":833427874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":1116420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":675612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":700513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":708013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":883217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":728514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":208104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":793915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":730414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":871016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":675013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":670012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.607 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":587811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":612911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.608 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":764414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":648112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.609 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":138603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":429208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.610 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":694413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":594011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.611 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":910017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.612 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":849416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":606111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":469209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":94502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.276 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":99302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":155603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":524110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":183104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":139002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d94b1eca-8a7d-4dc4-b979-36257878758f","description":"","id":"d94b1eca-8a7d-4dc4-b979-36257878758f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":104501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":82802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853107842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":1208822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":757714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":832815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":669313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1040920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":784015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":856516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":682912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":801715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":233304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":351707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.140 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":784615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.141 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":857016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.142 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":187804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.143 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":827516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.144 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.144 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":708314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":491109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.379 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":132102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":432808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":127703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":190604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bc0b75c6-3eef-49de-aca2-8483024903c1","description":"","id":"bc0b75c6-3eef-49de-aca2-8483024903c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":26301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":893367294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":983719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":683913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":892417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":711413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":836816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":738614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":684913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":651612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":768814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":156703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.282 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1465727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.283 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":978118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.284 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":498409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.285 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":778715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.286 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.286 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1352325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":608411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":152502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.449 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":161303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":159803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":390407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":128702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":472309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":94702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7aeddf2-3b37-4668-9c75-de93d9326276","description":"","id":"a7aeddf2-3b37-4668-9c75-de93d9326276","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":134302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858921151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":754314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":775215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":797115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":883017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":733114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":642612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":745214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":755414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.319 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":648012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.319 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1047219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.321 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":478609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.321 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":894816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.322 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.322 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1367426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":379107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.617 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":128503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":125302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":123502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":431808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":130203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1601e160-91e8-4091-9aca-10294f819d42","description":"","id":"1601e160-91e8-4091-9aca-10294f819d42","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848435654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":1041720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":736314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":740014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":786615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":808215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":825516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":747314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":658212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":681412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":99602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.476 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":957817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.477 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":766115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.478 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":270005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.478 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":946418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.479 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.479 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1034019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":582611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.148 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":753814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":462309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"275b64ab-34c2-41f8-8904-97812c7f716e","description":"","id":"275b64ab-34c2-41f8-8904-97812c7f716e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":58902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844210976,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":924518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":664412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":642312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":862716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":731214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":914617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":583811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":591511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":184804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.001 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1443927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.003 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":909917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.004 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":433608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.004 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":724414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.005 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.005 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1396426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":583711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.290 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":317206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"db1e010a-96f8-453e-b63c-9c27d6273157","description":"","id":"db1e010a-96f8-453e-b63c-9c27d6273157","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":339407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":895185794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":885418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":764315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":751015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":836817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":758016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1102223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":837018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":738215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":648713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":681314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.196 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":768416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":507410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.197 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":638314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":461609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.198 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":425008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.199 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":763916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":466309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.200 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":814817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.201 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":821317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":541811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.326 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":314406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","description":"","id":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":325506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":885713169,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":720115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":714615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":772616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":755415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":845918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":877619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":669314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":659814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":603913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":691614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.221 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":919719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":478610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.223 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":413708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.224 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":388409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.224 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":804017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":445509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.226 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":650114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.226 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":825117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":479910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":450209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.483 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":442408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35359958-c40a-486f-9cf5-567a94de905e","description":"","id":"35359958-c40a-486f-9cf5-567a94de905e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":211404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":916080226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":1060922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":781716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":721315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1120724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":966920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":806516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1712735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":890218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":798917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.411 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":700515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":573312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.413 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":926019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":413109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.414 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":428809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.415 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":831317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":400909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.416 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":658514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.417 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":784216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":545912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.010 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","description":"","id":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":279205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841153357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":883418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":644413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":739316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":645113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":974420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":853918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":559612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":551011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":546111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":120103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":118703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.860 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":754615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.861 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":703814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.862 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.862 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":704914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.863 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.863 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":728715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":591812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.205 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":336807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":399108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","description":"","id":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":75302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851717871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":1746637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3251068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":921419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":874218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":895819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1192025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1105422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":776316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":134703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.071 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":719015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.072 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":707515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":208104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.073 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.073 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":932319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.074 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.074 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":963220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":635813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":409008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.230 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":172103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":291606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":358907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":438609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","description":"","id":"c6fa88ab-e440-414b-a773-793c4ce6d8df","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":70802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":871432480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":905419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":876518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":837917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":881618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":900819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":915319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":681815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":747515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":762215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":169603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.112 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":764016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.113 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":726215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.113 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":105502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.114 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":947220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.115 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.115 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":923519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":582312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":404808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.421 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":90502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":473009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":491510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","description":"","id":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":71502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844815028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":1029921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":930019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":871618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":796216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":751316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":809617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":738016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":650313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":668214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":331607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":198504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.276 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":641614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":164603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.277 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":258206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.278 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":187704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.278 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":761016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":137003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.279 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":99102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.279 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":866118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":722915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":403909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.867 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":104603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":358807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":110203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":332307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":417209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","description":"","id":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":905275582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":1066522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":699714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":757116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":780916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":797316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":637713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":798117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":685515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":165903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":208905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.782 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":780916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":144203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.783 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":717515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":212104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.784 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":113602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":181104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.784 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":737916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":149203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.785 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":157004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.785 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":681114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":466110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":352308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.078 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":374808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":331007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","description":"","id":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869438138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":967320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":781517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":645913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":646013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":725615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":675614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":675114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":726815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":292506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":719915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.958 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":846717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":185304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.959 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1022421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.960 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":383508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":181704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.961 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1132724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":160503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.962 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":403409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.963 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1202325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":331507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.119 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":325407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":324907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":556812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","description":"","id":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":58202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859704137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":754816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":830017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":719315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":636113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":764916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":679914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":653314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":698515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":716415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":132803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":382908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.988 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":999821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.989 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":838117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":187704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.991 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":294106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":196304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.991 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":976420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":151103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.992 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":418208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.993 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":738815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":434909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":403309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.284 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":185204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a035801a-3256-4a36-9f81-02421aacee17","description":"","id":"a035801a-3256-4a36-9f81-02421aacee17","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849706929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":1035021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":713514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":722015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":932219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":831017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":680914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":689314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":943719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.144 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":742915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":178104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.145 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1040322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":167604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.146 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":403408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":142703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.147 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1002821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":153403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.148 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":432509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.148 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1353229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":575312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":512311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.791 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":113102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":292406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ac5737f-55ed-455d-8350-44af11b67fc3","description":"","id":"3ac5737f-55ed-455d-8350-44af11b67fc3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840807745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":1008521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1633534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":663114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":745015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":836017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":800916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":796517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":531611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":545811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":92102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.643 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1632034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.645 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1031421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.646 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":531011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.646 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.647 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.647 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1281626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":585412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.967 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":129303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":632813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":230305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":595113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":138703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feabca04-e3fd-4802-96f2-583d328e30ad","description":"","id":"feabca04-e3fd-4802-96f2-583d328e30ad","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":416409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":65102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842575281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":795617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":636513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":605913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":586712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":723015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":680214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":534911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":778816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":550311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":95502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.820 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1415229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.821 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":984020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.822 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":522611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.823 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":717114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.824 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.824 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1395529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":574412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.997 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":133803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":129502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":455209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":164504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":729915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":112003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":281106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"027e3f15-3b58-4570-97bb-779ce3ca947e","description":"","id":"027e3f15-3b58-4570-97bb-779ce3ca947e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":78202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849465924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":670914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":654614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":650313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":644513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":668114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":664714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":559012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":559512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":580312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":67502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.856 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":931319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.857 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":794816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":124402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.858 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":170304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.858 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":913619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.859 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":97702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.859 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":793516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":407009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.154 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":139102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":151703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":432409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":96902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":133103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","description":"","id":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":88402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839457117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":792917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":765016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":618912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":677214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":768516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":949120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":703215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":565412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":576512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":109002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.003 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1369028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.005 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":908619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.006 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":458609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.006 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":701414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.007 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.007 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1377229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":663814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.651 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":632013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","description":"","id":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":371108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844766626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":874019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":671714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":663613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3760678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":921919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":778916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":720615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":579412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":557911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":406608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":278106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.509 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":608813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":284406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.510 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":699615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.510 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":194604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.511 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":651913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.512 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":198705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.512 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":716615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":611813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.828 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":375808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","description":"","id":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":369408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":872927711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":846617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":629513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":781617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":707115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":902019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":825017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":591812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":567112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":90802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.710 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":795017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.711 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.712 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.712 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":830417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.713 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":72602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.713 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":874718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":760615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":423608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.863 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":679314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f917ffa9-1531-48ea-867e-0d413d85b05a","description":"","id":"f917ffa9-1531-48ea-867e-0d413d85b05a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":58102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":111102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865529957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":796216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":701615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":668414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":627313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":740715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1774437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":578112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":528111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":650213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":183804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.738 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":777716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":185504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.739 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":602612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.739 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":92902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.740 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":688314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.740 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":122902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.740 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":678614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":400208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":426208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.012 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":389608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":682014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4041f923-6b77-4816-bf46-437e85416c31","description":"","id":"4041f923-6b77-4816-bf46-437e85416c31","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":289406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843541901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":1016721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":735215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":873618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":913419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":886619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":857118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":630413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":583212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":611113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":103002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.865 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":761116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.866 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":683414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":62802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.866 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.867 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":873719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.868 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.868 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":806517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":798317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":554012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.516 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":92401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":454509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93a9571d-1754-47ee-a8f9-92633abfab3a","description":"","id":"93a9571d-1754-47ee-a8f9-92633abfab3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862225689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":909619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":659813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":746916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":706015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":685714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":643213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":628313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":616812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.387 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":871118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":122802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.388 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":710015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.389 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":79102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.389 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":942419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.390 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.390 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1002120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":685014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.717 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":180304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":342207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":119002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7e450110-f643-4b73-9262-4f13966cffc6","description":"","id":"7e450110-f643-4b73-9262-4f13966cffc6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7e450110-f643-4b73-9262-4f13966cffc6'","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859904541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e450110-f643-4b73-9262-4f13966cffc6'","result":{"duration":1803137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":955820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":802217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":831517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":886519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":915219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":705215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":767816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":331907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.588 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2009\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":682614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":464310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.589 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":680814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":428408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.590 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":498510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.591 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":825917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":511411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.592 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":999521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.593 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":846818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":708915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":552012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.744 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":254805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":349008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":128403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8129296b-b9c1-489f-990a-df4a879e12b2","description":"","id":"8129296b-b9c1-489f-990a-df4a879e12b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":68902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854524030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":635413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":24131800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":5089005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":746315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":884219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":723815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":132102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":710414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":724315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":503311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":640513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.636 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":794716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":568812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.637 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":891718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":3351770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.641 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":4472193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.646 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":734515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.647 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":900318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.648 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":798616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":482911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":364407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.873 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":94502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","description":"","id":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":95302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":59502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848405702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":1133024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":871218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":741116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":692814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":952120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":752016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":784917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":744115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":724115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":648013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":669213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.732 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":579412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.733 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":766116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":529211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.734 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":121603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":477810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.735 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":736716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.736 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":590112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.736 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":794116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":504910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":652613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.394 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":436709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":57902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855262345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":1113923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":911219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":951920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":865418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1082722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":965820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":769616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":810817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":884519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":150803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":190204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.260 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":819117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":150103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.261 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":796617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":181404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.262 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":119403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":169904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.263 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":887518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":143403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.264 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":162003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.264 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1090723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":517211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":193804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.598 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":126903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":169004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":199304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":485310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":145703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":680314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7681eb19-a914-4dc7-9208-c2a131dca06d","description":"","id":"7681eb19-a914-4dc7-9208-c2a131dca06d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":25301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853834815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":1025521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":913019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":849118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":887318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1026621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":952420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":717415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":766916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":250005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.490 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1237626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":186604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.491 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1164825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":231705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.493 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":110402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":162003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.493 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1203625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":236705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.495 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":454909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.495 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":881519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":544411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":93002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.653 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":418408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":177704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":571512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":121603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":866318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b196f948-5d87-4eb4-9854-a93841c3877f","description":"","id":"b196f948-5d87-4eb4-9854-a93841c3877f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":188504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849089416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":723315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":873618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":771716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":796416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1194724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":891018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":624013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":719415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":325707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.513 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":709315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":305507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.514 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":708615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":302006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.515 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":241105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.516 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":812516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":271205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.517 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":377607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.517 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":828517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":433609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":342307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.742 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":396108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":137703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":438909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":145503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","description":"","id":"68722979-8d6c-4ee4-a81a-8381d2588fe5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":165903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852289383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":876818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":929020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":712215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":937819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":854517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":673914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":639213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":732015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":553711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1048622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.604 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":683414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.606 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":614413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.607 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":100702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.607 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1007321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.609 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":445209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.609 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":727016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":580812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":390208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.268 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":121802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":411009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":138103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":490710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":234905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"58353cdf-b3a1-454e-9284-932a7e815e57","description":"","id":"58353cdf-b3a1-454e-9284-932a7e815e57","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836814862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":1082522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":903918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":781416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1042122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1047422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1036821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":737116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":663814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":855018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":118002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":115502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.116 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":685914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":72701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.117 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":714414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.118 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.118 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1847838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.120 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":739616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.121 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":845918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":640013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.501 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":317507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":349707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","description":"","id":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":57202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":76302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849673128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":1044922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1013921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":868518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":832817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":881419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":851618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":723915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":694414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":718215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":256005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.361 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1181525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.363 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1013921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":114103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.364 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":303606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.364 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1275026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":129503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.366 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":402209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.366 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1452630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":755716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.521 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":494710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":269205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":267705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","description":"","id":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858666215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":848918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":802516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":797116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":905918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":967120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":871218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":657614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":642714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":822917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.390 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1159224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.391 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":999521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":114702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.392 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":340707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.392 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1132824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":118503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.394 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":369407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.394 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1354728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":579112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.613 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":349307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736849","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736849","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":403108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838365994,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":959220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":851918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":917919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":867918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":817017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":641213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":613913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":676614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1060522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":661914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.463 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":661114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":456010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.464 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":705015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":437009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.465 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":414708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.466 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":529511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.467 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":921619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.468 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":885318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":586512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":5047604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.125 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":750116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","description":"","id":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":474810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846513763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":998221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":750315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":887319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":901518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":882718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":694015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":642613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":733816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":134703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.982 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1416430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.983 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":981220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.984 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":475310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.985 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":822417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.986 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.986 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1499331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":785617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.371 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":374007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","description":"","id":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":303506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853577410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":1063122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":840617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1148824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":909119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":969020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":945920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":845118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":746016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":752116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":121903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.235 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":766316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.236 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":698715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.237 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.237 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":819317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.238 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":55302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.238 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":818517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":688214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.398 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":272006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":316006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","description":"","id":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":107202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852424586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":767716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":667014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":759916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2020342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":718315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":660614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":580312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":150503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":101102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.261 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":607913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":104002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.262 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":566211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.262 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.262 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":672514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.263 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.263 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":837518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":461710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":751215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.481 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":325106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":436109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"918388cf-9d8c-4264-b108-3e375bde0d52","description":"","id":"918388cf-9d8c-4264-b108-3e375bde0d52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":58801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850359943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":1019421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":782716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":847917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":786716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":802017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":863518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":618512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":723315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.341 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1174724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.342 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":747916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.343 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.343 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":804317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.344 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.344 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":554612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.991 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":240205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","description":"","id":"e9ba7d7f-6cd1-4271-bce4-56432924b338","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860080045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":1189625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":858118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":727415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1722036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1096423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":821817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":730515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":737316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":959220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":530811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":411208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.863 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":780217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":292706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.864 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":771516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":217704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.865 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":128802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":183803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.865 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":823117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":254405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.866 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":192304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.867 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1083022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":429909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.242 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":385408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","description":"","id":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853447207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":1043222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":780416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":800916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1153424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":825017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":883118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":856818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":751216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":157103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":187204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.106 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":798516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":186704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.107 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":713315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":166203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.108 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":118902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":171103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.108 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":823217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":160903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.109 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":203204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.109 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":786417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":470310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":372708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.267 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":375808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","description":"","id":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869632043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":1059921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":824617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":748615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":935320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":859118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":803416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":775416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":762015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":209504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.147 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":770616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":148603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.148 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":763316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":165604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.149 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":97102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":212004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.149 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":824817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.150 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":227305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.150 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":906619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":452410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":323507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.348 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":84602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":319307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":22394865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":305707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":232105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","description":"","id":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839614768,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":1065718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":838315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":663812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":835414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":918416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":697212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":130503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":811814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":735913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":201104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":253604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.220 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":833014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":253805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.221 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":910416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":174403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.222 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":109302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.222 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":148102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.223 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":112102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.223 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":775913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":506709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":472408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.872 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":139903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":137803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":437409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":177504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":110002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":210404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"40f04047-3b61-40eb-b026-c1a0caa71881","description":"","id":"40f04047-3b61-40eb-b026-c1a0caa71881","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":26501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843368840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":1192921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1078718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1170220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1108220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2716847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1072719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1060819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":825914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":886916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.729 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":900116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.730 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":815914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.731 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.731 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1030818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.732 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.732 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1106120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":721412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":456908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.114 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":141403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":202405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":433709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":155703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ceda1b88-32ac-40b2-a841-71eb041c9427","description":"","id":"ceda1b88-32ac-40b2-a841-71eb041c9427","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":26501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836491304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":1111119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1007517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":888616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":960117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1185820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":948416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":758613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":781413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":765314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":418808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.962 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":967517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":327506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.963 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":807814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":285505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.964 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":249305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.965 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":974017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":337806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.966 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":317205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.966 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":991617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":660812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":498408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":106903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.155 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":164904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":419609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":118802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":129903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","description":"","id":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":72902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854857084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":1107120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":851415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":845015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":802114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":854615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":902816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":655611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":615011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":627711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":100902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.020 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":9537866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":527309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.030 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":840215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":485709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.032 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":417307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.032 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1095719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":624511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.034 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":989418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.035 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1024618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":604410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":628211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.228 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":131602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"972edbaa-f860-4c48-b449-4f238a263472","description":"","id":"972edbaa-f860-4c48-b449-4f238a263472","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":871630745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":990817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":761314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":825714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":855415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1011117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":849915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":773914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":698112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.109 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1433825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.111 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1020718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.112 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":325306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.112 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":4443477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.117 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":211504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.117 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":968117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":540909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.737 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":484709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62c0d0a5-5826-406d-a625-d84bc5fec800","description":"","id":"62c0d0a5-5826-406d-a625-d84bc5fec800","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848228638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":1023618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1663329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":850215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":949217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":964017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":881215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":662412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":729512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":899716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.596 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":740613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":461808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.598 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":722613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":528209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.599 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":399906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.599 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":807914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":423507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.601 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":711113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.601 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":837815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":579910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.971 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":373207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":472308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":276605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","description":"","id":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842340736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":984417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":846015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":909416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":793714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":889115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":817014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":820714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":721313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":781714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.823 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":731613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.824 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":709112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.825 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.825 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":848614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.826 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.826 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":803414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":603711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":445708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.040 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":486008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","description":"","id":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859276430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":972217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":906216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":834415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1038718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":951917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":929216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":701812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1460525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":749413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":283905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.910 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":688812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":144203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.911 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":751313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":140003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.912 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.912 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":942016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":183504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.913 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":128802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.913 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1013818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":664112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":350106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.121 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":300705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":512309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1bd24d1e-aa13-4395-809e-893570f7c651","description":"","id":"1bd24d1e-aa13-4395-809e-893570f7c651","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":121602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836741239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":1057918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":815915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":758713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":839115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":833315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":667312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":652612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":384007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":300305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.967 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":696912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":280604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.968 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":307905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.969 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":273705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.970 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":274705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.971 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":241604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.971 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":787414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":575710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":825814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.605 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37e05521-c323-4dbe-aba4-de1178ba44a5","description":"","id":"37e05521-c323-4dbe-aba4-de1178ba44a5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":380907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":937943697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":16394585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":11891907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":8814053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":9224560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":10043475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":9454064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":6036005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":12970626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":6914220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":890216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":300205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.638 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":7091524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":201003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.646 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":6909020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":248904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.653 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":1374724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":170203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.654 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":8886555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.664 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":448408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.664 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":8952555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":554510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.830 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":382507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8e7686c3-f75e-411f-866e-6985267b916b","description":"","id":"8e7686c3-f75e-411f-866e-6985267b916b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":922735733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":5856002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":7256026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":7158825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":8552849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":8122741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":7440230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":172703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":5324593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":4966086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":7257926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":965717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1027518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.819 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":6301810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":578310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.826 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":5700799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1895933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.833 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":123002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":486608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.834 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":8141541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":672712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.843 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":751413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.844 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":7652733,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":507609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.917 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":122702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","description":"","id":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":953016559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":8841853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":7613832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":8087241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":6532413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":6369310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":6200307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":114602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4114071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":4056070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4459578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":869315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":879416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.930 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4011770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":531809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.935 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":4137772,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":2347840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.941 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":147202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":761614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.942 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":6916320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":595911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.950 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":802314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.951 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":6622215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":692312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":379206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.976 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":347706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":278105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76854ff3-a853-4405-b9fd-acef66460376","description":"","id":"76854ff3-a853-4405-b9fd-acef66460376","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":993292560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":4729183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":7329828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":7725734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":8130942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":7862536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":7328727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":138603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4427777,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":4589180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4890285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":941817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":936516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.030 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4930885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":535110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.035 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":4774083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1575028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.042 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":539509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.042 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":7294226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":595810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.050 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":785614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.051 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":8122141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":341906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.677 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":148903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":203903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":648111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":211804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","description":"","id":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":373507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":875376411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":966717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":726112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":751813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":713612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":906815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":764313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":617010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":586710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":606311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":212104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.563 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":604611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.564 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":741313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.565 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":157403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.565 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":741013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.566 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":117702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.566 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":874715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":863415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1001017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.855 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":152303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":148802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":425107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":140103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":447208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":386206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","description":"","id":"67bcc21d-beda-449d-975c-00a4fa80f2b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842233935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":1890032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":881115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":730813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":702312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":783713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":959917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":682212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":680512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":740413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":109702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.726 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":721713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.727 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":652612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.728 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.728 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":704213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":136002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.729 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.729 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":799814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":713213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":461208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":81302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.961 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":89201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":298505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":153203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":439608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":132402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":463508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":113102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":495208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97a7d966-7261-49d4-bc08-c4900981f092","description":"","id":"97a7d966-7261-49d4-bc08-c4900981f092","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":64002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858785922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":1126220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":994917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":824615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":884116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":960116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":820914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":735013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":688512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":124702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.831 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1067018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.833 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":737213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":124002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.834 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.834 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":828114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.835 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.835 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":797414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":540510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":104501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.064 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":176103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":142002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":596610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":157803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":525109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":121303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":811414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","description":"","id":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876736834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":1036118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":958017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":867115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":781114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1009418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":876715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":764913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":667611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":675311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":910616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.953 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":789814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":434508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.954 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":724712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":422907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.955 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":401807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.956 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":802514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":424608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.957 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":885715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.958 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":821314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":536309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.582 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":86302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","description":"","id":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853288827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":1105820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":793514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":720012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":727412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":849214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":790913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":768814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":655812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":156303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":763113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.446 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.446 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":865315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.447 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":238204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.448 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":793614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.449 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.449 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":997418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":700012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.737 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":443907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":375507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","description":"","id":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841890229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":1100619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":784514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":808814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":778114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":853615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":785314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":681212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":694812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.588 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":841115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":168303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.589 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":906015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.590 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":178203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.590 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":900416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.591 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.591 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1138819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":714212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":404707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.839 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"09588464-071b-47be-8cbe-d15f2e1f9634","description":"","id":"09588464-071b-47be-8cbe-d15f2e1f9634","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":871736347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":919616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":844015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":704012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":783813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":773014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":861515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":652112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":629411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.720 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1021618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.721 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":944416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.722 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":173703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.722 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":837615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.723 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.723 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":949717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":569310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":416807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.962 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":432308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","description":"","id":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841019113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":983217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":809714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":750213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":764013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":887615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":843715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":614711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":671112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":777213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":245904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":222404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.813 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":669112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":137302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.814 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":133102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.815 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.815 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":138603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.816 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":105002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.816 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":781914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":574710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.454 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":490309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":131202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","description":"","id":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853788135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":1072519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":823314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":781814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":873215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":841115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":590410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":710213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":628911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":242704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.317 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":931617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.318 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":752513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.319 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.319 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":794514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.320 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.320 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":882115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":695112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":365307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.596 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":508708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","description":"","id":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853685534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":975317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":947116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1008218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":841215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":829214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":776113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":723013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":628011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":743013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":121002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.459 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.460 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":652211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.461 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":141503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.461 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":776713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":129703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.462 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.462 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":817914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":581010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":326906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.727 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":375506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a84f9836-9111-4e45-a311-3dab39019e15","description":"","id":"a84f9836-9111-4e45-a311-3dab39019e15","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":62601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859193029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":1013218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1017418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":878515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3001252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1035418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":880315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":39608688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":956317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":806214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":850815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.638 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":754113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":501608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.640 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":808914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":486708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.641 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":456508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.641 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":974916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":471108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.643 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":723613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.644 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1037818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":676912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":372507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.820 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":457408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":360206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":204203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","description":"","id":"018a28a5-1019-4747-b031-f66ffc1c6ae7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860983860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":1033518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1041518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":891115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":814714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":951816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":884816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":771813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1478725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":104402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.692 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1001518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.693 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":923916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.694 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.695 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":907016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.696 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":176703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.696 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1110320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":602910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.324 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":372606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","description":"","id":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873479078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":1223521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":894716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":803514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1216321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":875315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1230422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":633711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":150302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.208 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":709812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.209 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":806714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.210 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.210 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":754614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.211 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":81602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.211 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":783413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":549509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":335805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.466 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":310205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":74602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","description":"","id":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873448377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":1263922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1196020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1053718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1096619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1042019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1061918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":946416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1026018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":858515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":131902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.351 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1040618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.352 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":954516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.353 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":185003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.353 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1160821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1292522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.356 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":829815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.357 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1320923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":656112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":476408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.648 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":406007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":446308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d759186-7cee-4218-aa44-165f3922fbbb","description":"","id":"3d759186-7cee-4218-aa44-165f3922fbbb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852951321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":910216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":786114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":879316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":733613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":747113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":736113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":647911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":609810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":718513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":777914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":8211643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.519 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":912016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":459008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.520 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":709313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.521 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":317706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":68601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.522 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":758613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.523 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":895015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.523 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":989618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":594210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.700 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":414907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":84501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"65f9628b-0a58-4348-8fff-c2d02788acdb","description":"","id":"65f9628b-0a58-4348-8fff-c2d02788acdb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":56901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844618277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":1006018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":869015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":898116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":894916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":890416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":877615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":698613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":756113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":676212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":120502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.555 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1220722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.556 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1028318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.557 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":325106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.557 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1209421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.559 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":794914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.560 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1034618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":655112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.215 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":359407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","description":"","id":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":161303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844291570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":1091119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":826215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":857815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":915516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1525727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":995117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":656712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":633111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":714413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":132103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.070 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":712712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.070 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":707912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.071 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.071 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":803414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.072 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":72601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.072 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":897615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":602611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":412207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.362 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":378107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":420707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","description":"","id":"ec73f245-66ce-4144-ac27-5966c80a4b3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874244991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":1066619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":957617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1053118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":910215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":923916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":868115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":960317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":804514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":835915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":343006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.247 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":914416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":218804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.248 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":816014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":214104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.249 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":133002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.249 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":930516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":217504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.251 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":155203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.251 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":880915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":632311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.528 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":432508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":525309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","description":"","id":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":389907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854691351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":1164721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1266022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1054619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1272522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1131220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1072719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":768213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":784613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":952016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":200604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.395 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1642229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.397 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1234522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.398 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":376206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":127103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.399 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1623528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.401 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":9027957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.410 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2769248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":611311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.564 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49ff0584-a173-4098-824c-119edf8447f7","description":"","id":"49ff0584-a173-4098-824c-119edf8447f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836660638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":851615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":798714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":866815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":775713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":815114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":952116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":647612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1542427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":700612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":4394776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.415 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":707813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.416 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1131820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":940916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.418 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1889033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.420 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":966017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1800332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.421 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":161903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.423 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2292340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":404107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":650012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.077 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":90702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":404207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":351807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","description":"","id":"008d85d1-460d-46f6-9af4-98afdedbc4dc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857196094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":1230621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":780613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":624211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3460960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":837914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":639911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":741513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":868815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":642811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":129202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":740613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.946 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":819114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.947 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":951516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.948 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":289505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.949 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":969617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":113102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.950 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":449408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.950 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1509426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":604910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.255 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":194104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62dc32f1-853c-416a-876b-6e083554f1b6","description":"","id":"62dc32f1-853c-416a-876b-6e083554f1b6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861794375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":1117520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":818614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":922816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":905116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":847515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":751313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":629611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":660912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":611311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":249505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.126 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":763913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.127 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2249839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":437608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.130 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":379407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.130 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":807714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":462408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.131 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":767214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.132 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":844915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":533909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":116102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.419 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1785131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c39474-aef9-4169-95da-9890af440b14","description":"","id":"03c39474-aef9-4169-95da-9890af440b14","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":339306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845445283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":1163020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":750113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":653712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":682812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":720412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":698212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":644611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":591810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":109902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.275 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1175221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.276 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":890615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.277 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":683612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.277 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":815814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.279 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.279 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":885315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":548310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.428 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":397907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":92402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","description":"","id":"7d641d0e-c04b-4191-833e-c578ac2abe5f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":885905783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":988417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":855014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":708912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":722913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":797414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":866215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":634511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":699312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.324 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":653111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.325 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":624210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.326 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.326 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":862315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.327 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.327 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":758814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":549709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":493709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.963 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":109902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2443309-c655-4e64-b914-149050fd479c","description":"","id":"f2443309-c655-4e64-b914-149050fd479c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":300405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":833894540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":833215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":657211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":693912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":691012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":690612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":668212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":612911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":595211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":141902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.805 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1308223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.806 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":873315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":207004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.807 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":233004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.808 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":895816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.809 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.809 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1115020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":642411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.140 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":340506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":535009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4b59b2c-156d-412e-b8f0-c0779402de80","description":"","id":"b4b59b2c-156d-412e-b8f0-c0779402de80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":113302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844699813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":905816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":698512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":687911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":671011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":946016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":797014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":583610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":646012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":97002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.993 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1677929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.995 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":944816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.996 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":560109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.996 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":736713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.998 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.998 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1418625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":782014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.284 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":583410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":470008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":440907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","description":"","id":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845859131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":898216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":682112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":785014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":684012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":807714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":625011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":691812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.140 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1428825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.141 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":967617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.142 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.142 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1158320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.144 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.144 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1545427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":580710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":478608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.331 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":463808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54d2021b-e778-4834-a3c6-75c89d36b942","description":"","id":"54d2021b-e778-4834-a3c6-75c89d36b942","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838886909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":749013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":779514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":756913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":723613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":739713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":680812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2317040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":707312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":3211956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":308905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.183 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":747413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":271505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.184 [print] OGC:WMTS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1167121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":888315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.186 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":518909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.187 [print] OGC:WMTS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1100620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.188 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.188 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1677029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":671012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":330306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":138102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.813 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce0a3f8e-6713-455f-805e-a067162c287d","description":"","id":"ce0a3f8e-6713-455f-805e-a067162c287d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":158302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859608868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":1020217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1072118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":900216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":711613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":809914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":855415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":17860309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":899716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":639211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":671312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":204504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.701 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":673311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":154502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.702 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":623410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":131202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.702 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":129902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.702 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":845814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":255505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.704 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":168803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.704 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":739713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":824314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":920716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.003 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":366806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0898d4a9-8fe6-46e9-8855-1242d8028970","description":"","id":"0898d4a9-8fe6-46e9-8855-1242d8028970","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":487309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":878561195,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":1161420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":668712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":750113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":597711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":668111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1153120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":721813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":562009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":549609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.891 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":856815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.892 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":592510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.893 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":126902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.893 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.894 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":175803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.894 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":731812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":565910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":335006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.148 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":321305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","description":"","id":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":403807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865629173,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":1414125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":903216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1250921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":862715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1060518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":942316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":756813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":764713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":199404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.025 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wfs\\\/v1_1?request=getCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":738213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.026 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":728312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.027 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.027 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":862315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.028 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.028 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":866215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":602311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.194 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":98302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":463508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":396207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":430508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9e2e977a-16a6-42a4-a208-c4f70704f383","description":"","id":"9e2e977a-16a6-42a4-a208-c4f70704f383","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":52201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855757901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":968116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":817315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":893115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":847814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":978317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":805114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":685311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":784113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":704612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":683512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.060 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wms\\\/v1_1?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1094319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":508409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.061 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":854915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":444408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.063 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":452108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.063 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":842915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":441508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.065 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":658011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.065 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":849014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":546509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":927916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.711 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","description":"","id":"1009c2a4-4dba-49a5-b643-914ba8b80b52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":157003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":878512995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":1220421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":969017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":749013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":701612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1544927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":723613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":591910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":684612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":622211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":118602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.599 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":869415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":142003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.600 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":789414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.601 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.601 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":822614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.602 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.602 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":960516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":568110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.898 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":80502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":367106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35546103-58eb-4f61-a858-a6fbc5a7e814","description":"","id":"35546103-58eb-4f61-a858-a6fbc5a7e814","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":112002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836692372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":988717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":763414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":710412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":702312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":723612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":762214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":683111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1021517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":627011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":282205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":437108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.745 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":243604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.746 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":624310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":199103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.747 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.747 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":802113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":223404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.748 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":271504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.748 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":817214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":869815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.032 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":340106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94e5b115-bece-4140-99ed-93b8f363948e","description":"","id":"94e5b115-bece-4140-99ed-93b8f363948e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861867007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":1028218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":996817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":862215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":980217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":968217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1472326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":733612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":698912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":734213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":214704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.905 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":961917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.906 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":740512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":144402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.907 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.907 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":919316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":142703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.908 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":102702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.908 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1006317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":608811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":317706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.070 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":367207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":433207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","description":"","id":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863960744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":953617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":806514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":894616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":943816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":906816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":913615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":800514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":673911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":796814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.944 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1418124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.946 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":890515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.947 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.947 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":966016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.948 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.948 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1048718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":605911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.607 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42da491e-d8b9-47ba-af65-acb15ea8a055","description":"","id":"42da491e-d8b9-47ba-af65-acb15ea8a055","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":96402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":827368910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":1079718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":688611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":708812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":618911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":741413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":648611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":543410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":526209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":555410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.443 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1260322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1233022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.445 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":738313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":389607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.446 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":394107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.447 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":658111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":390707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.448 [print]  \n","line":56}},{"name":"print operateson","result":{"duration":624511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.448 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":720513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":651511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":339006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.752 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":471308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":736012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855799102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":1244922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1325223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1219721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1260822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1527027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":16432284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":990117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":889316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1035218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":126802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":130903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.637 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1098319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.638 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1061518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":67302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.639 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.639 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1188920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.641 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.641 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1248121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":596411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":426507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.912 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d8c9463-a3da-401d-8251-8c6664865e0c","description":"","id":"3d8c9463-a3da-401d-8251-8c6664865e0c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841639457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":791614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":623411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":758113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":4035070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":830214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":676112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":597510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":579810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":90702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.765 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":574110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":106002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.766 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":572310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.767 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.767 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.768 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.768 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":702712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":326606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.952 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":304705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a149d97f-0d55-462e-9956-5b47bea00a8d","description":"","id":"a149d97f-0d55-462e-9956-5b47bea00a8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":68102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852901152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":674811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":758313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":771313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":836415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":754813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":786514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":730113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":634911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.813 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1505126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.815 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":935616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.816 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":510608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.817 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.818 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.818 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1685829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":496208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":456108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.453 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":380507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":400107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6308500-3439-4840-88cb-7532cabbfcb4","description":"","id":"c6308500-3439-4840-88cb-7532cabbfcb4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859327263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":1021118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":685412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":657811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":673411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":726813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1172420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":126002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3763565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":794813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1297122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":2080236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.327 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.328 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":807614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.329 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.329 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":783913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.330 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.330 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":552310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":341106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.645 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":425107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","description":"","id":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849550994,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":920916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":801114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":653411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":873615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":652111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":562810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":553810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":538910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.503 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":570610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.504 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":671012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.504 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.505 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":757913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.505 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.505 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":650411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":915816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":419407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.771 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":301605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d467c2cc-4026-b80a-d4e1a9d2bf79","description":"","id":"d467c2cc-4026-b80a-d4e1a9d2bf79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":46601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869825545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":993017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":757413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":747713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":732313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":736613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":779914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":716712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":688212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":641312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":108202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.650 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":671212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.651 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.651 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.651 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":834014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.652 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.652 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":767113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":596111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":308105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.822 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":307406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","description":"","id":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":397006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":932726933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":930416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":846714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":738813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":935717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":709912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":664212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":572310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":206304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.765 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1115619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.766 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":983317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.767 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":347006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.768 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":788013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.769 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":698012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.769 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1324822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":719312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":382507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.334 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":167203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":358506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"257b960c-ece6-4e0f-b893-77b219c6133f","description":"","id":"257b960c-ece6-4e0f-b893-77b219c6133f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867948012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":1205021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1021918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":818314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":678212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":826215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":819914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":594310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":607411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":584510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":151103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.211 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":635911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.213 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1030318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.214 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":718113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.215 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":952416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":97402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.216 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.216 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1732230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":707012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":362807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.509 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":301005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":333006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97312a37-4ebf-4526-94e6-b29e90c2944a","description":"","id":"97312a37-4ebf-4526-94e6-b29e90c2944a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":45101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849515093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":953416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":741113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":689512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":849615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":739713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1845532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":467608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":630111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":586210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":611911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":160303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":221704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.369 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":908016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.370 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":699713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.371 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":200004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.371 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":871715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.372 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":203403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.372 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1456126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":574510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":308406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.656 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":294805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":85402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","description":"","id":"ac3ee940-4f98-427c-a2d9-58696005d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":45701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":870368654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":826315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":692712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":760213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":834814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":15541269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1137219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":726413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":655711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":605410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":402407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":410907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.551 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":715512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.552 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":837615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.553 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":89002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":209104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.553 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":875315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.554 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":233104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.554 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":841315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":631811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.774 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":134402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"92826f1e-040d-4099-b9e1-cab6bfc520af","description":"","id":"92826f1e-040d-4099-b9e1-cab6bfc520af","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":312905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":835978959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":963116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":700713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1068418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":803213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1510326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":748113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":162703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":695012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":657311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":588710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":92202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.621 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.621 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":643211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.622 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.622 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":839414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":97402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.623 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.623 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":725512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":498509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":312406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.221 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":415407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","description":"","id":"f39d198a-1e69-43cc-b359-cc60a8c22d28","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847339856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":940817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":655511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":867115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":941616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":725813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1772431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":709212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":570409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":590410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":116002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.079 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":904616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.080 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":605211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":127502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.081 [print] OGC:SOS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.081 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":709412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.082 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.082 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":649412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":680712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":632911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.377 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":351706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":106101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":359706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","description":"","id":"24055de7-dcff-487a-8f9a-7aee4f0d8351","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849433092,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":916116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":721912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":716312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":705012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":975617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":794414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":780213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":842015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":858015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":136402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.236 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":672512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.237 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":659812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.238 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.238 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":749913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.239 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":79002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.239 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":776413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":614710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":301406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.558 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94ed09fe-1753-4861-8c62-d66251b7cde3","description":"","id":"94ed09fe-1753-4861-8c62-d66251b7cde3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":148703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841287751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":914715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":767113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":764413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":698212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":941417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":967217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1161620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":730913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":160002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.411 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1062718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":167603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.412 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":640212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.413 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.413 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":714213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.414 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.414 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":741713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":506009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.627 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":326106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":121702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","description":"","id":"b81f9ce3-f612-4761-ba37-4c8afda9033a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850360908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":965816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":769913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":757713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":689111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":762013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":827914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":712712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":829015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2236239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.488 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":713613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.489 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.490 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.490 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":814714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.491 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.491 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":799014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":538210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":310805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.086 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":97901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":75602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":417907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7f79fc69-d0c7-4913-a05a-527c90453297","description":"","id":"7f79fc69-d0c7-4913-a05a-527c90453297","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845650827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":933616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":741813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":718913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":811914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":771213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":728913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":595010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":636211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":634411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.941 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":901416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":122302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.942 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":730713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.942 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":180303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.943 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":933216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.944 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.944 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":773113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":628111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":308106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.243 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":299405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":452108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"914a6e0c-2aae-42f8-8425-2a047c245dab","description":"","id":"914a6e0c-2aae-42f8-8425-2a047c245dab","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":47501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858177443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":1015317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":717013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2432542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":711213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":887016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1036818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":965717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":764713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":720612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":166203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1306122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.113 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":824615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.114 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":766413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.115 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":240604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.115 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":928416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.116 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.116 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":929616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":640111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.418 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":306505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7a395a2-8673-4794-a5a6-fed6492cd580","description":"","id":"d7a395a2-8673-4794-a5a6-fed6492cd580","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852402144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":1165521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":898415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":883815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":831014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":875215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1013018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":676212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":657711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":132002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.279 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1256321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.281 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.282 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.282 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":870015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.283 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.283 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":15740773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":934816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":549109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.495 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","description":"","id":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849298390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":1019717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":771913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":919916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":783614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":829214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":654312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":620911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":616811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":170603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.353 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":648611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.354 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":622411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.354 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.355 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":724312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.355 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":111102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.356 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":792914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":644911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":320606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.948 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","description":"","id":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838763408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":1127520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":707712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":621211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":621611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":696712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":855314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":752413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":572910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":588310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.795 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":944117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.796 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":762313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.797 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.797 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":854515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.798 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.798 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":885515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":499009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":290605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.120 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":346906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8a772a52-d659-47b3-a131-82398fb78664","description":"","id":"8a772a52-d659-47b3-a131-82398fb78664","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":145003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859683269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":1000917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":693512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":820814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":709813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":747613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":671312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":556209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":640711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":582710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.989 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.989 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":631911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.990 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.990 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":684812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.991 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.991 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":714913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":552110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":343706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.305 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":702812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":377307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":483008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"12505d53-a942-467e-a462-ddbe5ac6467f","description":"","id":"12505d53-a942-467e-a462-ddbe5ac6467f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":302905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850613312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":869815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":684212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":662312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":692112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":798614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":733213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":663611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":591411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":584310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.165 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1401824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.166 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1030718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.167 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":520709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.168 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.169 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.169 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1428525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":566910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":389707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]}],"name":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","description":"get details","id":"get-details","keyword":"Feature","uri":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","tags":[{"name":"@step1","line":1}]}]